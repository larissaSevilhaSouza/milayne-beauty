{
  "version": 3,
  "sources": ["../../../node_modules/@rails/actioncable/src/adapters.js", "../../../node_modules/@rails/actioncable/src/logger.js", "../../../node_modules/@rails/actioncable/src/connection_monitor.js", "../../../node_modules/@rails/actioncable/src/internal.js", "../../../node_modules/@rails/actioncable/src/connection.js", "../../../node_modules/@rails/actioncable/src/subscription.js", "../../../node_modules/@rails/actioncable/src/subscription_guarantor.js", "../../../node_modules/@rails/actioncable/src/subscriptions.js", "../../../node_modules/@rails/actioncable/src/consumer.js", "../../../node_modules/@rails/actioncable/src/index.js", "../../javascript/controllers/loading_controller.js", "../../../node_modules/@hotwired/turbo/dist/turbo.es2017-esm.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/snakeize.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/cable_stream_source_element.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/fetch_requests.js", "../../../node_modules/@hotwired/turbo-rails/app/javascript/turbo/index.js", "../../../node_modules/@hotwired/stimulus/dist/stimulus.js", "../../../node_modules/src/lg-events.ts", "../../../node_modules/src/lg-settings.ts", "../../../node_modules/src/lgQuery.ts", "../../../node_modules/src/lg-utils.ts", "../../../node_modules/src/lightgallery.ts", "../../../node_modules/src/index.ts", "../../../node_modules/@stimulus-components/lightbox/dist/stimulus-lightbox.mjs", "../../../node_modules/@stimulus-components/animated-number/dist/stimulus-animated-number.mjs", "../../../node_modules/@stimulus-components/dialog/dist/stimulus-dialog.mjs", "../../javascript/controllers/bidding_form_controller.js", "../../javascript/controllers/application.js", "../../javascript/controllers/bidding_controller.js", "../../../node_modules/ssr-window/ssr-window.esm.js", "../../../node_modules/dom7/dom7.esm.js", "../../../node_modules/swiper/shared/dom.js", "../../../node_modules/swiper/shared/utils.js", "../../../node_modules/swiper/shared/get-support.js", "../../../node_modules/swiper/shared/get-device.js", "../../../node_modules/swiper/shared/get-browser.js", "../../../node_modules/swiper/core/modules/resize/resize.js", "../../../node_modules/swiper/core/modules/observer/observer.js", "../../../node_modules/swiper/core/events-emitter.js", "../../../node_modules/swiper/core/update/updateSize.js", "../../../node_modules/swiper/core/update/updateSlides.js", "../../../node_modules/swiper/core/update/updateAutoHeight.js", "../../../node_modules/swiper/core/update/updateSlidesOffset.js", "../../../node_modules/swiper/core/update/updateSlidesProgress.js", "../../../node_modules/swiper/core/update/updateProgress.js", "../../../node_modules/swiper/core/update/updateSlidesClasses.js", "../../../node_modules/swiper/core/update/updateActiveIndex.js", "../../../node_modules/swiper/core/update/updateClickedSlide.js", "../../../node_modules/swiper/core/update/index.js", "../../../node_modules/swiper/core/translate/getTranslate.js", "../../../node_modules/swiper/core/translate/setTranslate.js", "../../../node_modules/swiper/core/translate/minTranslate.js", "../../../node_modules/swiper/core/translate/maxTranslate.js", "../../../node_modules/swiper/core/translate/translateTo.js", "../../../node_modules/swiper/core/translate/index.js", "../../../node_modules/swiper/core/transition/setTransition.js", "../../../node_modules/swiper/core/transition/transitionEmit.js", "../../../node_modules/swiper/core/transition/transitionStart.js", "../../../node_modules/swiper/core/transition/transitionEnd.js", "../../../node_modules/swiper/core/transition/index.js", "../../../node_modules/swiper/core/slide/slideTo.js", "../../../node_modules/swiper/core/slide/slideToLoop.js", "../../../node_modules/swiper/core/slide/slideNext.js", "../../../node_modules/swiper/core/slide/slidePrev.js", "../../../node_modules/swiper/core/slide/slideReset.js", "../../../node_modules/swiper/core/slide/slideToClosest.js", "../../../node_modules/swiper/core/slide/slideToClickedSlide.js", "../../../node_modules/swiper/core/slide/index.js", "../../../node_modules/swiper/core/loop/loopCreate.js", "../../../node_modules/swiper/core/loop/loopFix.js", "../../../node_modules/swiper/core/loop/loopDestroy.js", "../../../node_modules/swiper/core/loop/index.js", "../../../node_modules/swiper/core/grab-cursor/setGrabCursor.js", "../../../node_modules/swiper/core/grab-cursor/unsetGrabCursor.js", "../../../node_modules/swiper/core/grab-cursor/index.js", "../../../node_modules/swiper/core/events/onTouchStart.js", "../../../node_modules/swiper/core/events/onTouchMove.js", "../../../node_modules/swiper/core/events/onTouchEnd.js", "../../../node_modules/swiper/core/events/onResize.js", "../../../node_modules/swiper/core/events/onClick.js", "../../../node_modules/swiper/core/events/onScroll.js", "../../../node_modules/swiper/core/events/index.js", "../../../node_modules/swiper/core/breakpoints/setBreakpoint.js", "../../../node_modules/swiper/core/breakpoints/getBreakpoint.js", "../../../node_modules/swiper/core/breakpoints/index.js", "../../../node_modules/swiper/core/classes/addClasses.js", "../../../node_modules/swiper/core/classes/removeClasses.js", "../../../node_modules/swiper/core/classes/index.js", "../../../node_modules/swiper/core/images/loadImage.js", "../../../node_modules/swiper/core/images/preloadImages.js", "../../../node_modules/swiper/core/images/index.js", "../../../node_modules/swiper/core/check-overflow/index.js", "../../../node_modules/swiper/core/defaults.js", "../../../node_modules/swiper/core/moduleExtendParams.js", "../../../node_modules/swiper/core/core.js", "../../../node_modules/swiper/modules/virtual/virtual.js", "../../../node_modules/swiper/modules/keyboard/keyboard.js", "../../../node_modules/swiper/modules/mousewheel/mousewheel.js", "../../../node_modules/swiper/shared/create-element-if-not-defined.js", "../../../node_modules/swiper/modules/navigation/navigation.js", "../../../node_modules/swiper/shared/classes-to-selector.js", "../../../node_modules/swiper/modules/pagination/pagination.js", "../../../node_modules/swiper/modules/scrollbar/scrollbar.js", "../../../node_modules/swiper/modules/parallax/parallax.js", "../../../node_modules/swiper/modules/zoom/zoom.js", "../../../node_modules/swiper/modules/lazy/lazy.js", "../../../node_modules/swiper/modules/controller/controller.js", "../../../node_modules/swiper/modules/a11y/a11y.js", "../../../node_modules/swiper/modules/history/history.js", "../../../node_modules/swiper/modules/hash-navigation/hash-navigation.js", "../../../node_modules/swiper/modules/autoplay/autoplay.js", "../../../node_modules/swiper/modules/thumbs/thumbs.js", "../../../node_modules/swiper/modules/free-mode/free-mode.js", "../../../node_modules/swiper/modules/grid/grid.js", "../../../node_modules/swiper/modules/manipulation/methods/appendSlide.js", "../../../node_modules/swiper/modules/manipulation/methods/prependSlide.js", "../../../node_modules/swiper/modules/manipulation/methods/addSlide.js", "../../../node_modules/swiper/modules/manipulation/methods/removeSlide.js", "../../../node_modules/swiper/modules/manipulation/methods/removeAllSlides.js", "../../../node_modules/swiper/modules/manipulation/manipulation.js", "../../../node_modules/swiper/shared/effect-init.js", "../../../node_modules/swiper/shared/effect-target.js", "../../../node_modules/swiper/shared/effect-virtual-transition-end.js", "../../../node_modules/swiper/modules/effect-fade/effect-fade.js", "../../../node_modules/swiper/modules/effect-cube/effect-cube.js", "../../../node_modules/swiper/shared/create-shadow.js", "../../../node_modules/swiper/modules/effect-flip/effect-flip.js", "../../../node_modules/swiper/modules/effect-coverflow/effect-coverflow.js", "../../../node_modules/swiper/modules/effect-creative/effect-creative.js", "../../../node_modules/swiper/modules/effect-cards/effect-cards.js", "../../../node_modules/swiper/swiper-bundle.esm.js", "../../../node_modules/stimulus-carousel/dist/stimulus-carousel.mjs", "../../javascript/controllers/carousel_controller.js", "../../javascript/controllers/carousel_thumb_controller.js", "../../javascript/controllers/category_access_controller.js", "../../javascript/controllers/hello_controller.js", "../../javascript/controllers/lightbox_controller.js", "../../javascript/controllers/index.js", "../../javascript/controllers/navbar_controller.js", "../../../node_modules/hotkeys-js/dist/hotkeys.esm.js", "../../../node_modules/stimulus-use/dist/index.js", "../../../node_modules/stimulus-notification/dist/stimulus-notification.mjs", "../../javascript/controllers/notification_controller.js", "../../javascript/controllers/portifolio_category_controller.js", "../../javascript/controllers/scroll_active_controller.js", "../../javascript/controllers/service_category_controller.js", "../../javascript/controllers/slide_banner_controller.js", "../../javascript/controllers/slide_blog_controller.js", "../../javascript/controllers/slide_client_controller.js", "../../javascript/controllers/slide_news_controller.js", "../../javascript/controllers/slide_testimony_controller.js", "../../javascript/controllers/video_controller.js", "../../javascript/dropzone/dropzone.js"],
  "sourcesContent": ["export default {\n  logger: self.console,\n  WebSocket: self.WebSocket\n}\n", "import adapters from \"./adapters\"\n\n// The logger is disabled by default. You can enable it with:\n//\n//   ActionCable.logger.enabled = true\n//\n//   Example:\n//\n//   import * as ActionCable from '@rails/actioncable'\n//\n//   ActionCable.logger.enabled = true\n//   ActionCable.logger.log('Connection Established.')\n//\n\nexport default {\n  log(...messages) {\n    if (this.enabled) {\n      messages.push(Date.now())\n      adapters.logger.log(\"[ActionCable]\", ...messages)\n    }\n  },\n}\n", "import logger from \"./logger\"\n\n// Responsible for ensuring the cable connection is in good health by validating the heartbeat pings sent from the server, and attempting\n// revival reconnections if things go astray. Internal class, not intended for direct user manipulation.\n\nconst now = () => new Date().getTime()\n\nconst secondsSince = time => (now() - time) / 1000\n\nclass ConnectionMonitor {\n  constructor(connection) {\n    this.visibilityDidChange = this.visibilityDidChange.bind(this)\n    this.connection = connection\n    this.reconnectAttempts = 0\n  }\n\n  start() {\n    if (!this.isRunning()) {\n      this.startedAt = now()\n      delete this.stoppedAt\n      this.startPolling()\n      addEventListener(\"visibilitychange\", this.visibilityDidChange)\n      logger.log(`ConnectionMonitor started. stale threshold = ${this.constructor.staleThreshold} s`)\n    }\n  }\n\n  stop() {\n    if (this.isRunning()) {\n      this.stoppedAt = now()\n      this.stopPolling()\n      removeEventListener(\"visibilitychange\", this.visibilityDidChange)\n      logger.log(\"ConnectionMonitor stopped\")\n    }\n  }\n\n  isRunning() {\n    return this.startedAt && !this.stoppedAt\n  }\n\n  recordPing() {\n    this.pingedAt = now()\n  }\n\n  recordConnect() {\n    this.reconnectAttempts = 0\n    this.recordPing()\n    delete this.disconnectedAt\n    logger.log(\"ConnectionMonitor recorded connect\")\n  }\n\n  recordDisconnect() {\n    this.disconnectedAt = now()\n    logger.log(\"ConnectionMonitor recorded disconnect\")\n  }\n\n  // Private\n\n  startPolling() {\n    this.stopPolling()\n    this.poll()\n  }\n\n  stopPolling() {\n    clearTimeout(this.pollTimeout)\n  }\n\n  poll() {\n    this.pollTimeout = setTimeout(() => {\n      this.reconnectIfStale()\n      this.poll()\n    }\n    , this.getPollInterval())\n  }\n\n  getPollInterval() {\n    const { staleThreshold, reconnectionBackoffRate } = this.constructor\n    const backoff = Math.pow(1 + reconnectionBackoffRate, Math.min(this.reconnectAttempts, 10))\n    const jitterMax = this.reconnectAttempts === 0 ? 1.0 : reconnectionBackoffRate\n    const jitter = jitterMax * Math.random()\n    return staleThreshold * 1000 * backoff * (1 + jitter)\n  }\n\n  reconnectIfStale() {\n    if (this.connectionIsStale()) {\n      logger.log(`ConnectionMonitor detected stale connection. reconnectAttempts = ${this.reconnectAttempts}, time stale = ${secondsSince(this.refreshedAt)} s, stale threshold = ${this.constructor.staleThreshold} s`)\n      this.reconnectAttempts++\n      if (this.disconnectedRecently()) {\n        logger.log(`ConnectionMonitor skipping reopening recent disconnect. time disconnected = ${secondsSince(this.disconnectedAt)} s`)\n      } else {\n        logger.log(\"ConnectionMonitor reopening\")\n        this.connection.reopen()\n      }\n    }\n  }\n\n  get refreshedAt() {\n    return this.pingedAt ? this.pingedAt : this.startedAt\n  }\n\n  connectionIsStale() {\n    return secondsSince(this.refreshedAt) > this.constructor.staleThreshold\n  }\n\n  disconnectedRecently() {\n    return this.disconnectedAt && (secondsSince(this.disconnectedAt) < this.constructor.staleThreshold)\n  }\n\n  visibilityDidChange() {\n    if (document.visibilityState === \"visible\") {\n      setTimeout(() => {\n        if (this.connectionIsStale() || !this.connection.isOpen()) {\n          logger.log(`ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = ${document.visibilityState}`)\n          this.connection.reopen()\n        }\n      }\n      , 200)\n    }\n  }\n\n}\n\nConnectionMonitor.staleThreshold = 6 // Server::Connections::BEAT_INTERVAL * 2 (missed two pings)\nConnectionMonitor.reconnectionBackoffRate = 0.15\n\nexport default ConnectionMonitor\n", "export default {\n  \"message_types\": {\n    \"welcome\": \"welcome\",\n    \"disconnect\": \"disconnect\",\n    \"ping\": \"ping\",\n    \"confirmation\": \"confirm_subscription\",\n    \"rejection\": \"reject_subscription\"\n  },\n  \"disconnect_reasons\": {\n    \"unauthorized\": \"unauthorized\",\n    \"invalid_request\": \"invalid_request\",\n    \"server_restart\": \"server_restart\"\n  },\n  \"default_mount_path\": \"/cable\",\n  \"protocols\": [\n    \"actioncable-v1-json\",\n    \"actioncable-unsupported\"\n  ]\n}\n", "import adapters from \"./adapters\"\nimport ConnectionMonitor from \"./connection_monitor\"\nimport INTERNAL from \"./internal\"\nimport logger from \"./logger\"\n\n// Encapsulate the cable connection held by the consumer. This is an internal class not intended for direct user manipulation.\n\nconst {message_types, protocols} = INTERNAL\nconst supportedProtocols = protocols.slice(0, protocols.length - 1)\n\nconst indexOf = [].indexOf\n\nclass Connection {\n  constructor(consumer) {\n    this.open = this.open.bind(this)\n    this.consumer = consumer\n    this.subscriptions = this.consumer.subscriptions\n    this.monitor = new ConnectionMonitor(this)\n    this.disconnected = true\n  }\n\n  send(data) {\n    if (this.isOpen()) {\n      this.webSocket.send(JSON.stringify(data))\n      return true\n    } else {\n      return false\n    }\n  }\n\n  open() {\n    if (this.isActive()) {\n      logger.log(`Attempted to open WebSocket, but existing socket is ${this.getState()}`)\n      return false\n    } else {\n      logger.log(`Opening WebSocket, current state is ${this.getState()}, subprotocols: ${protocols}`)\n      if (this.webSocket) { this.uninstallEventHandlers() }\n      this.webSocket = new adapters.WebSocket(this.consumer.url, protocols)\n      this.installEventHandlers()\n      this.monitor.start()\n      return true\n    }\n  }\n\n  close({allowReconnect} = {allowReconnect: true}) {\n    if (!allowReconnect) { this.monitor.stop() }\n    // Avoid closing websockets in a \"connecting\" state due to Safari 15.1+ bug. See: https://github.com/rails/rails/issues/43835#issuecomment-1002288478\n    if (this.isOpen()) {\n      return this.webSocket.close()\n    }\n  }\n\n  reopen() {\n    logger.log(`Reopening WebSocket, current state is ${this.getState()}`)\n    if (this.isActive()) {\n      try {\n        return this.close()\n      } catch (error) {\n        logger.log(\"Failed to reopen WebSocket\", error)\n      }\n      finally {\n        logger.log(`Reopening WebSocket in ${this.constructor.reopenDelay}ms`)\n        setTimeout(this.open, this.constructor.reopenDelay)\n      }\n    } else {\n      return this.open()\n    }\n  }\n\n  getProtocol() {\n    if (this.webSocket) {\n      return this.webSocket.protocol\n    }\n  }\n\n  isOpen() {\n    return this.isState(\"open\")\n  }\n\n  isActive() {\n    return this.isState(\"open\", \"connecting\")\n  }\n\n  // Private\n\n  isProtocolSupported() {\n    return indexOf.call(supportedProtocols, this.getProtocol()) >= 0\n  }\n\n  isState(...states) {\n    return indexOf.call(states, this.getState()) >= 0\n  }\n\n  getState() {\n    if (this.webSocket) {\n      for (let state in adapters.WebSocket) {\n        if (adapters.WebSocket[state] === this.webSocket.readyState) {\n          return state.toLowerCase()\n        }\n      }\n    }\n    return null\n  }\n\n  installEventHandlers() {\n    for (let eventName in this.events) {\n      const handler = this.events[eventName].bind(this)\n      this.webSocket[`on${eventName}`] = handler\n    }\n  }\n\n  uninstallEventHandlers() {\n    for (let eventName in this.events) {\n      this.webSocket[`on${eventName}`] = function() {}\n    }\n  }\n\n}\n\nConnection.reopenDelay = 500\n\nConnection.prototype.events = {\n  message(event) {\n    if (!this.isProtocolSupported()) { return }\n    const {identifier, message, reason, reconnect, type} = JSON.parse(event.data)\n    switch (type) {\n      case message_types.welcome:\n        this.monitor.recordConnect()\n        return this.subscriptions.reload()\n      case message_types.disconnect:\n        logger.log(`Disconnecting. Reason: ${reason}`)\n        return this.close({allowReconnect: reconnect})\n      case message_types.ping:\n        return this.monitor.recordPing()\n      case message_types.confirmation:\n        this.subscriptions.confirmSubscription(identifier)\n        return this.subscriptions.notify(identifier, \"connected\")\n      case message_types.rejection:\n        return this.subscriptions.reject(identifier)\n      default:\n        return this.subscriptions.notify(identifier, \"received\", message)\n    }\n  },\n\n  open() {\n    logger.log(`WebSocket onopen event, using '${this.getProtocol()}' subprotocol`)\n    this.disconnected = false\n    if (!this.isProtocolSupported()) {\n      logger.log(\"Protocol is unsupported. Stopping monitor and disconnecting.\")\n      return this.close({allowReconnect: false})\n    }\n  },\n\n  close(event) {\n    logger.log(\"WebSocket onclose event\")\n    if (this.disconnected) { return }\n    this.disconnected = true\n    this.monitor.recordDisconnect()\n    return this.subscriptions.notifyAll(\"disconnected\", {willAttemptReconnect: this.monitor.isRunning()})\n  },\n\n  error() {\n    logger.log(\"WebSocket onerror event\")\n  }\n}\n\nexport default Connection\n", "// A new subscription is created through the ActionCable.Subscriptions instance available on the consumer.\n// It provides a number of callbacks and a method for calling remote procedure calls on the corresponding\n// Channel instance on the server side.\n//\n// An example demonstrates the basic functionality:\n//\n//   App.appearance = App.cable.subscriptions.create(\"AppearanceChannel\", {\n//     connected() {\n//       // Called once the subscription has been successfully completed\n//     },\n//\n//     disconnected({ willAttemptReconnect: boolean }) {\n//       // Called when the client has disconnected with the server.\n//       // The object will have an `willAttemptReconnect` property which\n//       // says whether the client has the intention of attempting\n//       // to reconnect.\n//     },\n//\n//     appear() {\n//       this.perform('appear', {appearing_on: this.appearingOn()})\n//     },\n//\n//     away() {\n//       this.perform('away')\n//     },\n//\n//     appearingOn() {\n//       $('main').data('appearing-on')\n//     }\n//   })\n//\n// The methods #appear and #away forward their intent to the remote AppearanceChannel instance on the server\n// by calling the `perform` method with the first parameter being the action (which maps to AppearanceChannel#appear/away).\n// The second parameter is a hash that'll get JSON encoded and made available on the server in the data parameter.\n//\n// This is how the server component would look:\n//\n//   class AppearanceChannel < ApplicationActionCable::Channel\n//     def subscribed\n//       current_user.appear\n//     end\n//\n//     def unsubscribed\n//       current_user.disappear\n//     end\n//\n//     def appear(data)\n//       current_user.appear on: data['appearing_on']\n//     end\n//\n//     def away\n//       current_user.away\n//     end\n//   end\n//\n// The \"AppearanceChannel\" name is automatically mapped between the client-side subscription creation and the server-side Ruby class name.\n// The AppearanceChannel#appear/away public methods are exposed automatically to client-side invocation through the perform method.\n\nconst extend = function(object, properties) {\n  if (properties != null) {\n    for (let key in properties) {\n      const value = properties[key]\n      object[key] = value\n    }\n  }\n  return object\n}\n\nexport default class Subscription {\n  constructor(consumer, params = {}, mixin) {\n    this.consumer = consumer\n    this.identifier = JSON.stringify(params)\n    extend(this, mixin)\n  }\n\n  // Perform a channel action with the optional data passed as an attribute\n  perform(action, data = {}) {\n    data.action = action\n    return this.send(data)\n  }\n\n  send(data) {\n    return this.consumer.send({command: \"message\", identifier: this.identifier, data: JSON.stringify(data)})\n  }\n\n  unsubscribe() {\n    return this.consumer.subscriptions.remove(this)\n  }\n}\n", "import logger from \"./logger\"\n\n// Responsible for ensuring channel subscribe command is confirmed, retrying until confirmation is received.\n// Internal class, not intended for direct user manipulation.\n\nclass SubscriptionGuarantor {\n  constructor(subscriptions) {\n    this.subscriptions = subscriptions\n    this.pendingSubscriptions = []\n  }\n\n  guarantee(subscription) {\n    if(this.pendingSubscriptions.indexOf(subscription) == -1){ \n      logger.log(`SubscriptionGuarantor guaranteeing ${subscription.identifier}`)\n      this.pendingSubscriptions.push(subscription) \n    }\n    else {\n      logger.log(`SubscriptionGuarantor already guaranteeing ${subscription.identifier}`)\n    }\n    this.startGuaranteeing()\n  }\n\n  forget(subscription) {\n    logger.log(`SubscriptionGuarantor forgetting ${subscription.identifier}`)\n    this.pendingSubscriptions = (this.pendingSubscriptions.filter((s) => s !== subscription))\n  }\n\n  startGuaranteeing() {\n    this.stopGuaranteeing()\n    this.retrySubscribing()\n  }\n  \n  stopGuaranteeing() {\n    clearTimeout(this.retryTimeout)\n  }\n\n  retrySubscribing() {\n    this.retryTimeout = setTimeout(() => {\n      if (this.subscriptions && typeof(this.subscriptions.subscribe) === \"function\") {\n        this.pendingSubscriptions.map((subscription) => {\n          logger.log(`SubscriptionGuarantor resubscribing ${subscription.identifier}`)\n          this.subscriptions.subscribe(subscription)\n        })\n      }\n    }\n    , 500)\n  }\n}\n\nexport default SubscriptionGuarantor", "import Subscription from \"./subscription\"\nimport SubscriptionGuarantor from \"./subscription_guarantor\"\nimport logger from \"./logger\"\n\n// Collection class for creating (and internally managing) channel subscriptions.\n// The only method intended to be triggered by the user is ActionCable.Subscriptions#create,\n// and it should be called through the consumer like so:\n//\n//   App = {}\n//   App.cable = ActionCable.createConsumer(\"ws://example.com/accounts/1\")\n//   App.appearance = App.cable.subscriptions.create(\"AppearanceChannel\")\n//\n// For more details on how you'd configure an actual channel subscription, see ActionCable.Subscription.\n\nexport default class Subscriptions {\n  constructor(consumer) {\n    this.consumer = consumer\n    this.guarantor = new SubscriptionGuarantor(this)\n    this.subscriptions = []\n  }\n\n  create(channelName, mixin) {\n    const channel = channelName\n    const params = typeof channel === \"object\" ? channel : {channel}\n    const subscription = new Subscription(this.consumer, params, mixin)\n    return this.add(subscription)\n  }\n\n  // Private\n\n  add(subscription) {\n    this.subscriptions.push(subscription)\n    this.consumer.ensureActiveConnection()\n    this.notify(subscription, \"initialized\")\n    this.subscribe(subscription)\n    return subscription\n  }\n\n  remove(subscription) {\n    this.forget(subscription)\n    if (!this.findAll(subscription.identifier).length) {\n      this.sendCommand(subscription, \"unsubscribe\")\n    }\n    return subscription\n  }\n\n  reject(identifier) {\n    return this.findAll(identifier).map((subscription) => {\n      this.forget(subscription)\n      this.notify(subscription, \"rejected\")\n      return subscription\n    })\n  }\n\n  forget(subscription) {\n    this.guarantor.forget(subscription)\n    this.subscriptions = (this.subscriptions.filter((s) => s !== subscription))\n    return subscription\n  }\n\n  findAll(identifier) {\n    return this.subscriptions.filter((s) => s.identifier === identifier)\n  }\n\n  reload() {\n    return this.subscriptions.map((subscription) =>\n      this.subscribe(subscription))\n  }\n\n  notifyAll(callbackName, ...args) {\n    return this.subscriptions.map((subscription) =>\n      this.notify(subscription, callbackName, ...args))\n  }\n\n  notify(subscription, callbackName, ...args) {\n    let subscriptions\n    if (typeof subscription === \"string\") {\n      subscriptions = this.findAll(subscription)\n    } else {\n      subscriptions = [subscription]\n    }\n\n    return subscriptions.map((subscription) =>\n      (typeof subscription[callbackName] === \"function\" ? subscription[callbackName](...args) : undefined))\n  }\n\n  subscribe(subscription) {\n    if (this.sendCommand(subscription, \"subscribe\")) {\n      this.guarantor.guarantee(subscription)\n    }\n  }\n\n  confirmSubscription(identifier) {\n    logger.log(`Subscription confirmed ${identifier}`)\n    this.findAll(identifier).map((subscription) =>\n      this.guarantor.forget(subscription))\n  }\n\n  sendCommand(subscription, command) {\n    const {identifier} = subscription\n    return this.consumer.send({command, identifier})\n  }\n}\n", "import Connection from \"./connection\"\nimport Subscriptions from \"./subscriptions\"\n\n// The ActionCable.Consumer establishes the connection to a server-side Ruby Connection object. Once established,\n// the ActionCable.ConnectionMonitor will ensure that its properly maintained through heartbeats and checking for stale updates.\n// The Consumer instance is also the gateway to establishing subscriptions to desired channels through the #createSubscription\n// method.\n//\n// The following example shows how this can be set up:\n//\n//   App = {}\n//   App.cable = ActionCable.createConsumer(\"ws://example.com/accounts/1\")\n//   App.appearance = App.cable.subscriptions.create(\"AppearanceChannel\")\n//\n// For more details on how you'd configure an actual channel subscription, see ActionCable.Subscription.\n//\n// When a consumer is created, it automatically connects with the server.\n//\n// To disconnect from the server, call\n//\n//   App.cable.disconnect()\n//\n// and to restart the connection:\n//\n//   App.cable.connect()\n//\n// Any channel subscriptions which existed prior to disconnecting will\n// automatically resubscribe.\n\nexport default class Consumer {\n  constructor(url) {\n    this._url = url\n    this.subscriptions = new Subscriptions(this)\n    this.connection = new Connection(this)\n  }\n\n  get url() {\n    return createWebSocketURL(this._url)\n  }\n\n  send(data) {\n    return this.connection.send(data)\n  }\n\n  connect() {\n    return this.connection.open()\n  }\n\n  disconnect() {\n    return this.connection.close({allowReconnect: false})\n  }\n\n  ensureActiveConnection() {\n    if (!this.connection.isActive()) {\n      return this.connection.open()\n    }\n  }\n}\n\nexport function createWebSocketURL(url) {\n  if (typeof url === \"function\") {\n    url = url()\n  }\n\n  if (url && !/^wss?:/i.test(url)) {\n    const a = document.createElement(\"a\")\n    a.href = url\n    // Fix populating Location properties in IE. Otherwise, protocol will be blank.\n    a.href = a.href\n    a.protocol = a.protocol.replace(\"http\", \"ws\")\n    return a.href\n  } else {\n    return url\n  }\n}\n", "import Connection from \"./connection\"\nimport ConnectionMonitor from \"./connection_monitor\"\nimport Consumer, { createWebSocketURL } from \"./consumer\"\nimport INTERNAL from \"./internal\"\nimport Subscription from \"./subscription\"\nimport Subscriptions from \"./subscriptions\"\nimport SubscriptionGuarantor from \"./subscription_guarantor\"\nimport adapters from \"./adapters\"\nimport logger from \"./logger\"\n\nexport {\n  Connection,\n  ConnectionMonitor,\n  Consumer,\n  INTERNAL,\n  Subscription,\n  Subscriptions,\n  SubscriptionGuarantor,\n  adapters,\n  createWebSocketURL,\n  logger,\n}\n\nexport function createConsumer(url = getConfig(\"url\") || INTERNAL.default_mount_path) {\n  return new Consumer(url)\n}\n\nexport function getConfig(name) {\n  const element = document.head.querySelector(`meta[name='action-cable-${name}']`)\n  if (element) {\n    return element.getAttribute(\"content\")\n  }\n}\n", "// import { Controller } from \"@hotwired/stimulus\"\n\n// // Connects to data-controller=\"loading\"\n// export default class extends Controller {\n//   connect() {\n//     // JavaScript para remover a anima\u00E7\u00E3o de espera ap\u00F3s o carregamento da p\u00E1gina\n//     window.addEventListener(\"load\", function() {\n//       var loader = document.querySelector(\".lao\");\n//       console.log(\"test\");\n//       loader.style.opacity = \"0\";\n//       loader.style.zIndex = \"-1\";\n//     });\n\n//   }\n// }\n", "/*\nTurbo 7.3.0\nCopyright \u00A9 2023 37signals LLC\n */\n(function () {\n    if (window.Reflect === undefined ||\n        window.customElements === undefined ||\n        window.customElements.polyfillWrapFlushCallback) {\n        return;\n    }\n    const BuiltInHTMLElement = HTMLElement;\n    const wrapperForTheName = {\n        HTMLElement: function HTMLElement() {\n            return Reflect.construct(BuiltInHTMLElement, [], this.constructor);\n        },\n    };\n    window.HTMLElement = wrapperForTheName[\"HTMLElement\"];\n    HTMLElement.prototype = BuiltInHTMLElement.prototype;\n    HTMLElement.prototype.constructor = HTMLElement;\n    Object.setPrototypeOf(HTMLElement, BuiltInHTMLElement);\n})();\n\n/**\n * The MIT License (MIT)\n * \n * Copyright (c) 2019 Javan Makhmali\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n(function(prototype) {\n  if (typeof prototype.requestSubmit == \"function\") return\n\n  prototype.requestSubmit = function(submitter) {\n    if (submitter) {\n      validateSubmitter(submitter, this);\n      submitter.click();\n    } else {\n      submitter = document.createElement(\"input\");\n      submitter.type = \"submit\";\n      submitter.hidden = true;\n      this.appendChild(submitter);\n      submitter.click();\n      this.removeChild(submitter);\n    }\n  };\n\n  function validateSubmitter(submitter, form) {\n    submitter instanceof HTMLElement || raise(TypeError, \"parameter 1 is not of type 'HTMLElement'\");\n    submitter.type == \"submit\" || raise(TypeError, \"The specified element is not a submit button\");\n    submitter.form == form || raise(DOMException, \"The specified element is not owned by this form element\", \"NotFoundError\");\n  }\n\n  function raise(errorConstructor, message, name) {\n    throw new errorConstructor(\"Failed to execute 'requestSubmit' on 'HTMLFormElement': \" + message + \".\", name)\n  }\n})(HTMLFormElement.prototype);\n\nconst submittersByForm = new WeakMap();\nfunction findSubmitterFromClickTarget(target) {\n    const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;\n    const candidate = element ? element.closest(\"input, button\") : null;\n    return (candidate === null || candidate === void 0 ? void 0 : candidate.type) == \"submit\" ? candidate : null;\n}\nfunction clickCaptured(event) {\n    const submitter = findSubmitterFromClickTarget(event.target);\n    if (submitter && submitter.form) {\n        submittersByForm.set(submitter.form, submitter);\n    }\n}\n(function () {\n    if (\"submitter\" in Event.prototype)\n        return;\n    let prototype = window.Event.prototype;\n    if (\"SubmitEvent\" in window && /Apple Computer/.test(navigator.vendor)) {\n        prototype = window.SubmitEvent.prototype;\n    }\n    else if (\"SubmitEvent\" in window) {\n        return;\n    }\n    addEventListener(\"click\", clickCaptured, true);\n    Object.defineProperty(prototype, \"submitter\", {\n        get() {\n            if (this.type == \"submit\" && this.target instanceof HTMLFormElement) {\n                return submittersByForm.get(this.target);\n            }\n        },\n    });\n})();\n\nvar FrameLoadingStyle;\n(function (FrameLoadingStyle) {\n    FrameLoadingStyle[\"eager\"] = \"eager\";\n    FrameLoadingStyle[\"lazy\"] = \"lazy\";\n})(FrameLoadingStyle || (FrameLoadingStyle = {}));\nclass FrameElement extends HTMLElement {\n    static get observedAttributes() {\n        return [\"disabled\", \"complete\", \"loading\", \"src\"];\n    }\n    constructor() {\n        super();\n        this.loaded = Promise.resolve();\n        this.delegate = new FrameElement.delegateConstructor(this);\n    }\n    connectedCallback() {\n        this.delegate.connect();\n    }\n    disconnectedCallback() {\n        this.delegate.disconnect();\n    }\n    reload() {\n        return this.delegate.sourceURLReloaded();\n    }\n    attributeChangedCallback(name) {\n        if (name == \"loading\") {\n            this.delegate.loadingStyleChanged();\n        }\n        else if (name == \"complete\") {\n            this.delegate.completeChanged();\n        }\n        else if (name == \"src\") {\n            this.delegate.sourceURLChanged();\n        }\n        else {\n            this.delegate.disabledChanged();\n        }\n    }\n    get src() {\n        return this.getAttribute(\"src\");\n    }\n    set src(value) {\n        if (value) {\n            this.setAttribute(\"src\", value);\n        }\n        else {\n            this.removeAttribute(\"src\");\n        }\n    }\n    get loading() {\n        return frameLoadingStyleFromString(this.getAttribute(\"loading\") || \"\");\n    }\n    set loading(value) {\n        if (value) {\n            this.setAttribute(\"loading\", value);\n        }\n        else {\n            this.removeAttribute(\"loading\");\n        }\n    }\n    get disabled() {\n        return this.hasAttribute(\"disabled\");\n    }\n    set disabled(value) {\n        if (value) {\n            this.setAttribute(\"disabled\", \"\");\n        }\n        else {\n            this.removeAttribute(\"disabled\");\n        }\n    }\n    get autoscroll() {\n        return this.hasAttribute(\"autoscroll\");\n    }\n    set autoscroll(value) {\n        if (value) {\n            this.setAttribute(\"autoscroll\", \"\");\n        }\n        else {\n            this.removeAttribute(\"autoscroll\");\n        }\n    }\n    get complete() {\n        return !this.delegate.isLoading;\n    }\n    get isActive() {\n        return this.ownerDocument === document && !this.isPreview;\n    }\n    get isPreview() {\n        var _a, _b;\n        return (_b = (_a = this.ownerDocument) === null || _a === void 0 ? void 0 : _a.documentElement) === null || _b === void 0 ? void 0 : _b.hasAttribute(\"data-turbo-preview\");\n    }\n}\nfunction frameLoadingStyleFromString(style) {\n    switch (style.toLowerCase()) {\n        case \"lazy\":\n            return FrameLoadingStyle.lazy;\n        default:\n            return FrameLoadingStyle.eager;\n    }\n}\n\nfunction expandURL(locatable) {\n    return new URL(locatable.toString(), document.baseURI);\n}\nfunction getAnchor(url) {\n    let anchorMatch;\n    if (url.hash) {\n        return url.hash.slice(1);\n    }\n    else if ((anchorMatch = url.href.match(/#(.*)$/))) {\n        return anchorMatch[1];\n    }\n}\nfunction getAction(form, submitter) {\n    const action = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"formaction\")) || form.getAttribute(\"action\") || form.action;\n    return expandURL(action);\n}\nfunction getExtension(url) {\n    return (getLastPathComponent(url).match(/\\.[^.]*$/) || [])[0] || \"\";\n}\nfunction isHTML(url) {\n    return !!getExtension(url).match(/^(?:|\\.(?:htm|html|xhtml|php))$/);\n}\nfunction isPrefixedBy(baseURL, url) {\n    const prefix = getPrefix(url);\n    return baseURL.href === expandURL(prefix).href || baseURL.href.startsWith(prefix);\n}\nfunction locationIsVisitable(location, rootLocation) {\n    return isPrefixedBy(location, rootLocation) && isHTML(location);\n}\nfunction getRequestURL(url) {\n    const anchor = getAnchor(url);\n    return anchor != null ? url.href.slice(0, -(anchor.length + 1)) : url.href;\n}\nfunction toCacheKey(url) {\n    return getRequestURL(url);\n}\nfunction urlsAreEqual(left, right) {\n    return expandURL(left).href == expandURL(right).href;\n}\nfunction getPathComponents(url) {\n    return url.pathname.split(\"/\").slice(1);\n}\nfunction getLastPathComponent(url) {\n    return getPathComponents(url).slice(-1)[0];\n}\nfunction getPrefix(url) {\n    return addTrailingSlash(url.origin + url.pathname);\n}\nfunction addTrailingSlash(value) {\n    return value.endsWith(\"/\") ? value : value + \"/\";\n}\n\nclass FetchResponse {\n    constructor(response) {\n        this.response = response;\n    }\n    get succeeded() {\n        return this.response.ok;\n    }\n    get failed() {\n        return !this.succeeded;\n    }\n    get clientError() {\n        return this.statusCode >= 400 && this.statusCode <= 499;\n    }\n    get serverError() {\n        return this.statusCode >= 500 && this.statusCode <= 599;\n    }\n    get redirected() {\n        return this.response.redirected;\n    }\n    get location() {\n        return expandURL(this.response.url);\n    }\n    get isHTML() {\n        return this.contentType && this.contentType.match(/^(?:text\\/([^\\s;,]+\\b)?html|application\\/xhtml\\+xml)\\b/);\n    }\n    get statusCode() {\n        return this.response.status;\n    }\n    get contentType() {\n        return this.header(\"Content-Type\");\n    }\n    get responseText() {\n        return this.response.clone().text();\n    }\n    get responseHTML() {\n        if (this.isHTML) {\n            return this.response.clone().text();\n        }\n        else {\n            return Promise.resolve(undefined);\n        }\n    }\n    header(name) {\n        return this.response.headers.get(name);\n    }\n}\n\nfunction activateScriptElement(element) {\n    if (element.getAttribute(\"data-turbo-eval\") == \"false\") {\n        return element;\n    }\n    else {\n        const createdScriptElement = document.createElement(\"script\");\n        const cspNonce = getMetaContent(\"csp-nonce\");\n        if (cspNonce) {\n            createdScriptElement.nonce = cspNonce;\n        }\n        createdScriptElement.textContent = element.textContent;\n        createdScriptElement.async = false;\n        copyElementAttributes(createdScriptElement, element);\n        return createdScriptElement;\n    }\n}\nfunction copyElementAttributes(destinationElement, sourceElement) {\n    for (const { name, value } of sourceElement.attributes) {\n        destinationElement.setAttribute(name, value);\n    }\n}\nfunction createDocumentFragment(html) {\n    const template = document.createElement(\"template\");\n    template.innerHTML = html;\n    return template.content;\n}\nfunction dispatch(eventName, { target, cancelable, detail } = {}) {\n    const event = new CustomEvent(eventName, {\n        cancelable,\n        bubbles: true,\n        composed: true,\n        detail,\n    });\n    if (target && target.isConnected) {\n        target.dispatchEvent(event);\n    }\n    else {\n        document.documentElement.dispatchEvent(event);\n    }\n    return event;\n}\nfunction nextAnimationFrame() {\n    return new Promise((resolve) => requestAnimationFrame(() => resolve()));\n}\nfunction nextEventLoopTick() {\n    return new Promise((resolve) => setTimeout(() => resolve(), 0));\n}\nfunction nextMicrotask() {\n    return Promise.resolve();\n}\nfunction parseHTMLDocument(html = \"\") {\n    return new DOMParser().parseFromString(html, \"text/html\");\n}\nfunction unindent(strings, ...values) {\n    const lines = interpolate(strings, values).replace(/^\\n/, \"\").split(\"\\n\");\n    const match = lines[0].match(/^\\s+/);\n    const indent = match ? match[0].length : 0;\n    return lines.map((line) => line.slice(indent)).join(\"\\n\");\n}\nfunction interpolate(strings, values) {\n    return strings.reduce((result, string, i) => {\n        const value = values[i] == undefined ? \"\" : values[i];\n        return result + string + value;\n    }, \"\");\n}\nfunction uuid() {\n    return Array.from({ length: 36 })\n        .map((_, i) => {\n        if (i == 8 || i == 13 || i == 18 || i == 23) {\n            return \"-\";\n        }\n        else if (i == 14) {\n            return \"4\";\n        }\n        else if (i == 19) {\n            return (Math.floor(Math.random() * 4) + 8).toString(16);\n        }\n        else {\n            return Math.floor(Math.random() * 15).toString(16);\n        }\n    })\n        .join(\"\");\n}\nfunction getAttribute(attributeName, ...elements) {\n    for (const value of elements.map((element) => element === null || element === void 0 ? void 0 : element.getAttribute(attributeName))) {\n        if (typeof value == \"string\")\n            return value;\n    }\n    return null;\n}\nfunction hasAttribute(attributeName, ...elements) {\n    return elements.some((element) => element && element.hasAttribute(attributeName));\n}\nfunction markAsBusy(...elements) {\n    for (const element of elements) {\n        if (element.localName == \"turbo-frame\") {\n            element.setAttribute(\"busy\", \"\");\n        }\n        element.setAttribute(\"aria-busy\", \"true\");\n    }\n}\nfunction clearBusyState(...elements) {\n    for (const element of elements) {\n        if (element.localName == \"turbo-frame\") {\n            element.removeAttribute(\"busy\");\n        }\n        element.removeAttribute(\"aria-busy\");\n    }\n}\nfunction waitForLoad(element, timeoutInMilliseconds = 2000) {\n    return new Promise((resolve) => {\n        const onComplete = () => {\n            element.removeEventListener(\"error\", onComplete);\n            element.removeEventListener(\"load\", onComplete);\n            resolve();\n        };\n        element.addEventListener(\"load\", onComplete, { once: true });\n        element.addEventListener(\"error\", onComplete, { once: true });\n        setTimeout(resolve, timeoutInMilliseconds);\n    });\n}\nfunction getHistoryMethodForAction(action) {\n    switch (action) {\n        case \"replace\":\n            return history.replaceState;\n        case \"advance\":\n        case \"restore\":\n            return history.pushState;\n    }\n}\nfunction isAction(action) {\n    return action == \"advance\" || action == \"replace\" || action == \"restore\";\n}\nfunction getVisitAction(...elements) {\n    const action = getAttribute(\"data-turbo-action\", ...elements);\n    return isAction(action) ? action : null;\n}\nfunction getMetaElement(name) {\n    return document.querySelector(`meta[name=\"${name}\"]`);\n}\nfunction getMetaContent(name) {\n    const element = getMetaElement(name);\n    return element && element.content;\n}\nfunction setMetaContent(name, content) {\n    let element = getMetaElement(name);\n    if (!element) {\n        element = document.createElement(\"meta\");\n        element.setAttribute(\"name\", name);\n        document.head.appendChild(element);\n    }\n    element.setAttribute(\"content\", content);\n    return element;\n}\nfunction findClosestRecursively(element, selector) {\n    var _a;\n    if (element instanceof Element) {\n        return (element.closest(selector) ||\n            findClosestRecursively(element.assignedSlot || ((_a = element.getRootNode()) === null || _a === void 0 ? void 0 : _a.host), selector));\n    }\n}\n\nvar FetchMethod;\n(function (FetchMethod) {\n    FetchMethod[FetchMethod[\"get\"] = 0] = \"get\";\n    FetchMethod[FetchMethod[\"post\"] = 1] = \"post\";\n    FetchMethod[FetchMethod[\"put\"] = 2] = \"put\";\n    FetchMethod[FetchMethod[\"patch\"] = 3] = \"patch\";\n    FetchMethod[FetchMethod[\"delete\"] = 4] = \"delete\";\n})(FetchMethod || (FetchMethod = {}));\nfunction fetchMethodFromString(method) {\n    switch (method.toLowerCase()) {\n        case \"get\":\n            return FetchMethod.get;\n        case \"post\":\n            return FetchMethod.post;\n        case \"put\":\n            return FetchMethod.put;\n        case \"patch\":\n            return FetchMethod.patch;\n        case \"delete\":\n            return FetchMethod.delete;\n    }\n}\nclass FetchRequest {\n    constructor(delegate, method, location, body = new URLSearchParams(), target = null) {\n        this.abortController = new AbortController();\n        this.resolveRequestPromise = (_value) => { };\n        this.delegate = delegate;\n        this.method = method;\n        this.headers = this.defaultHeaders;\n        this.body = body;\n        this.url = location;\n        this.target = target;\n    }\n    get location() {\n        return this.url;\n    }\n    get params() {\n        return this.url.searchParams;\n    }\n    get entries() {\n        return this.body ? Array.from(this.body.entries()) : [];\n    }\n    cancel() {\n        this.abortController.abort();\n    }\n    async perform() {\n        const { fetchOptions } = this;\n        this.delegate.prepareRequest(this);\n        await this.allowRequestToBeIntercepted(fetchOptions);\n        try {\n            this.delegate.requestStarted(this);\n            const response = await fetch(this.url.href, fetchOptions);\n            return await this.receive(response);\n        }\n        catch (error) {\n            if (error.name !== \"AbortError\") {\n                if (this.willDelegateErrorHandling(error)) {\n                    this.delegate.requestErrored(this, error);\n                }\n                throw error;\n            }\n        }\n        finally {\n            this.delegate.requestFinished(this);\n        }\n    }\n    async receive(response) {\n        const fetchResponse = new FetchResponse(response);\n        const event = dispatch(\"turbo:before-fetch-response\", {\n            cancelable: true,\n            detail: { fetchResponse },\n            target: this.target,\n        });\n        if (event.defaultPrevented) {\n            this.delegate.requestPreventedHandlingResponse(this, fetchResponse);\n        }\n        else if (fetchResponse.succeeded) {\n            this.delegate.requestSucceededWithResponse(this, fetchResponse);\n        }\n        else {\n            this.delegate.requestFailedWithResponse(this, fetchResponse);\n        }\n        return fetchResponse;\n    }\n    get fetchOptions() {\n        var _a;\n        return {\n            method: FetchMethod[this.method].toUpperCase(),\n            credentials: \"same-origin\",\n            headers: this.headers,\n            redirect: \"follow\",\n            body: this.isSafe ? null : this.body,\n            signal: this.abortSignal,\n            referrer: (_a = this.delegate.referrer) === null || _a === void 0 ? void 0 : _a.href,\n        };\n    }\n    get defaultHeaders() {\n        return {\n            Accept: \"text/html, application/xhtml+xml\",\n        };\n    }\n    get isSafe() {\n        return this.method === FetchMethod.get;\n    }\n    get abortSignal() {\n        return this.abortController.signal;\n    }\n    acceptResponseType(mimeType) {\n        this.headers[\"Accept\"] = [mimeType, this.headers[\"Accept\"]].join(\", \");\n    }\n    async allowRequestToBeIntercepted(fetchOptions) {\n        const requestInterception = new Promise((resolve) => (this.resolveRequestPromise = resolve));\n        const event = dispatch(\"turbo:before-fetch-request\", {\n            cancelable: true,\n            detail: {\n                fetchOptions,\n                url: this.url,\n                resume: this.resolveRequestPromise,\n            },\n            target: this.target,\n        });\n        if (event.defaultPrevented)\n            await requestInterception;\n    }\n    willDelegateErrorHandling(error) {\n        const event = dispatch(\"turbo:fetch-request-error\", {\n            target: this.target,\n            cancelable: true,\n            detail: { request: this, error: error },\n        });\n        return !event.defaultPrevented;\n    }\n}\n\nclass AppearanceObserver {\n    constructor(delegate, element) {\n        this.started = false;\n        this.intersect = (entries) => {\n            const lastEntry = entries.slice(-1)[0];\n            if (lastEntry === null || lastEntry === void 0 ? void 0 : lastEntry.isIntersecting) {\n                this.delegate.elementAppearedInViewport(this.element);\n            }\n        };\n        this.delegate = delegate;\n        this.element = element;\n        this.intersectionObserver = new IntersectionObserver(this.intersect);\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.intersectionObserver.observe(this.element);\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.intersectionObserver.unobserve(this.element);\n        }\n    }\n}\n\nclass StreamMessage {\n    static wrap(message) {\n        if (typeof message == \"string\") {\n            return new this(createDocumentFragment(message));\n        }\n        else {\n            return message;\n        }\n    }\n    constructor(fragment) {\n        this.fragment = importStreamElements(fragment);\n    }\n}\nStreamMessage.contentType = \"text/vnd.turbo-stream.html\";\nfunction importStreamElements(fragment) {\n    for (const element of fragment.querySelectorAll(\"turbo-stream\")) {\n        const streamElement = document.importNode(element, true);\n        for (const inertScriptElement of streamElement.templateElement.content.querySelectorAll(\"script\")) {\n            inertScriptElement.replaceWith(activateScriptElement(inertScriptElement));\n        }\n        element.replaceWith(streamElement);\n    }\n    return fragment;\n}\n\nvar FormSubmissionState;\n(function (FormSubmissionState) {\n    FormSubmissionState[FormSubmissionState[\"initialized\"] = 0] = \"initialized\";\n    FormSubmissionState[FormSubmissionState[\"requesting\"] = 1] = \"requesting\";\n    FormSubmissionState[FormSubmissionState[\"waiting\"] = 2] = \"waiting\";\n    FormSubmissionState[FormSubmissionState[\"receiving\"] = 3] = \"receiving\";\n    FormSubmissionState[FormSubmissionState[\"stopping\"] = 4] = \"stopping\";\n    FormSubmissionState[FormSubmissionState[\"stopped\"] = 5] = \"stopped\";\n})(FormSubmissionState || (FormSubmissionState = {}));\nvar FormEnctype;\n(function (FormEnctype) {\n    FormEnctype[\"urlEncoded\"] = \"application/x-www-form-urlencoded\";\n    FormEnctype[\"multipart\"] = \"multipart/form-data\";\n    FormEnctype[\"plain\"] = \"text/plain\";\n})(FormEnctype || (FormEnctype = {}));\nfunction formEnctypeFromString(encoding) {\n    switch (encoding.toLowerCase()) {\n        case FormEnctype.multipart:\n            return FormEnctype.multipart;\n        case FormEnctype.plain:\n            return FormEnctype.plain;\n        default:\n            return FormEnctype.urlEncoded;\n    }\n}\nclass FormSubmission {\n    static confirmMethod(message, _element, _submitter) {\n        return Promise.resolve(confirm(message));\n    }\n    constructor(delegate, formElement, submitter, mustRedirect = false) {\n        this.state = FormSubmissionState.initialized;\n        this.delegate = delegate;\n        this.formElement = formElement;\n        this.submitter = submitter;\n        this.formData = buildFormData(formElement, submitter);\n        this.location = expandURL(this.action);\n        if (this.method == FetchMethod.get) {\n            mergeFormDataEntries(this.location, [...this.body.entries()]);\n        }\n        this.fetchRequest = new FetchRequest(this, this.method, this.location, this.body, this.formElement);\n        this.mustRedirect = mustRedirect;\n    }\n    get method() {\n        var _a;\n        const method = ((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(\"formmethod\")) || this.formElement.getAttribute(\"method\") || \"\";\n        return fetchMethodFromString(method.toLowerCase()) || FetchMethod.get;\n    }\n    get action() {\n        var _a;\n        const formElementAction = typeof this.formElement.action === \"string\" ? this.formElement.action : null;\n        if ((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.hasAttribute(\"formaction\")) {\n            return this.submitter.getAttribute(\"formaction\") || \"\";\n        }\n        else {\n            return this.formElement.getAttribute(\"action\") || formElementAction || \"\";\n        }\n    }\n    get body() {\n        if (this.enctype == FormEnctype.urlEncoded || this.method == FetchMethod.get) {\n            return new URLSearchParams(this.stringFormData);\n        }\n        else {\n            return this.formData;\n        }\n    }\n    get enctype() {\n        var _a;\n        return formEnctypeFromString(((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(\"formenctype\")) || this.formElement.enctype);\n    }\n    get isSafe() {\n        return this.fetchRequest.isSafe;\n    }\n    get stringFormData() {\n        return [...this.formData].reduce((entries, [name, value]) => {\n            return entries.concat(typeof value == \"string\" ? [[name, value]] : []);\n        }, []);\n    }\n    async start() {\n        const { initialized, requesting } = FormSubmissionState;\n        const confirmationMessage = getAttribute(\"data-turbo-confirm\", this.submitter, this.formElement);\n        if (typeof confirmationMessage === \"string\") {\n            const answer = await FormSubmission.confirmMethod(confirmationMessage, this.formElement, this.submitter);\n            if (!answer) {\n                return;\n            }\n        }\n        if (this.state == initialized) {\n            this.state = requesting;\n            return this.fetchRequest.perform();\n        }\n    }\n    stop() {\n        const { stopping, stopped } = FormSubmissionState;\n        if (this.state != stopping && this.state != stopped) {\n            this.state = stopping;\n            this.fetchRequest.cancel();\n            return true;\n        }\n    }\n    prepareRequest(request) {\n        if (!request.isSafe) {\n            const token = getCookieValue(getMetaContent(\"csrf-param\")) || getMetaContent(\"csrf-token\");\n            if (token) {\n                request.headers[\"X-CSRF-Token\"] = token;\n            }\n        }\n        if (this.requestAcceptsTurboStreamResponse(request)) {\n            request.acceptResponseType(StreamMessage.contentType);\n        }\n    }\n    requestStarted(_request) {\n        var _a;\n        this.state = FormSubmissionState.waiting;\n        (_a = this.submitter) === null || _a === void 0 ? void 0 : _a.setAttribute(\"disabled\", \"\");\n        this.setSubmitsWith();\n        dispatch(\"turbo:submit-start\", {\n            target: this.formElement,\n            detail: { formSubmission: this },\n        });\n        this.delegate.formSubmissionStarted(this);\n    }\n    requestPreventedHandlingResponse(request, response) {\n        this.result = { success: response.succeeded, fetchResponse: response };\n    }\n    requestSucceededWithResponse(request, response) {\n        if (response.clientError || response.serverError) {\n            this.delegate.formSubmissionFailedWithResponse(this, response);\n        }\n        else if (this.requestMustRedirect(request) && responseSucceededWithoutRedirect(response)) {\n            const error = new Error(\"Form responses must redirect to another location\");\n            this.delegate.formSubmissionErrored(this, error);\n        }\n        else {\n            this.state = FormSubmissionState.receiving;\n            this.result = { success: true, fetchResponse: response };\n            this.delegate.formSubmissionSucceededWithResponse(this, response);\n        }\n    }\n    requestFailedWithResponse(request, response) {\n        this.result = { success: false, fetchResponse: response };\n        this.delegate.formSubmissionFailedWithResponse(this, response);\n    }\n    requestErrored(request, error) {\n        this.result = { success: false, error };\n        this.delegate.formSubmissionErrored(this, error);\n    }\n    requestFinished(_request) {\n        var _a;\n        this.state = FormSubmissionState.stopped;\n        (_a = this.submitter) === null || _a === void 0 ? void 0 : _a.removeAttribute(\"disabled\");\n        this.resetSubmitterText();\n        dispatch(\"turbo:submit-end\", {\n            target: this.formElement,\n            detail: Object.assign({ formSubmission: this }, this.result),\n        });\n        this.delegate.formSubmissionFinished(this);\n    }\n    setSubmitsWith() {\n        if (!this.submitter || !this.submitsWith)\n            return;\n        if (this.submitter.matches(\"button\")) {\n            this.originalSubmitText = this.submitter.innerHTML;\n            this.submitter.innerHTML = this.submitsWith;\n        }\n        else if (this.submitter.matches(\"input\")) {\n            const input = this.submitter;\n            this.originalSubmitText = input.value;\n            input.value = this.submitsWith;\n        }\n    }\n    resetSubmitterText() {\n        if (!this.submitter || !this.originalSubmitText)\n            return;\n        if (this.submitter.matches(\"button\")) {\n            this.submitter.innerHTML = this.originalSubmitText;\n        }\n        else if (this.submitter.matches(\"input\")) {\n            const input = this.submitter;\n            input.value = this.originalSubmitText;\n        }\n    }\n    requestMustRedirect(request) {\n        return !request.isSafe && this.mustRedirect;\n    }\n    requestAcceptsTurboStreamResponse(request) {\n        return !request.isSafe || hasAttribute(\"data-turbo-stream\", this.submitter, this.formElement);\n    }\n    get submitsWith() {\n        var _a;\n        return (_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(\"data-turbo-submits-with\");\n    }\n}\nfunction buildFormData(formElement, submitter) {\n    const formData = new FormData(formElement);\n    const name = submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"name\");\n    const value = submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"value\");\n    if (name) {\n        formData.append(name, value || \"\");\n    }\n    return formData;\n}\nfunction getCookieValue(cookieName) {\n    if (cookieName != null) {\n        const cookies = document.cookie ? document.cookie.split(\"; \") : [];\n        const cookie = cookies.find((cookie) => cookie.startsWith(cookieName));\n        if (cookie) {\n            const value = cookie.split(\"=\").slice(1).join(\"=\");\n            return value ? decodeURIComponent(value) : undefined;\n        }\n    }\n}\nfunction responseSucceededWithoutRedirect(response) {\n    return response.statusCode == 200 && !response.redirected;\n}\nfunction mergeFormDataEntries(url, entries) {\n    const searchParams = new URLSearchParams();\n    for (const [name, value] of entries) {\n        if (value instanceof File)\n            continue;\n        searchParams.append(name, value);\n    }\n    url.search = searchParams.toString();\n    return url;\n}\n\nclass Snapshot {\n    constructor(element) {\n        this.element = element;\n    }\n    get activeElement() {\n        return this.element.ownerDocument.activeElement;\n    }\n    get children() {\n        return [...this.element.children];\n    }\n    hasAnchor(anchor) {\n        return this.getElementForAnchor(anchor) != null;\n    }\n    getElementForAnchor(anchor) {\n        return anchor ? this.element.querySelector(`[id='${anchor}'], a[name='${anchor}']`) : null;\n    }\n    get isConnected() {\n        return this.element.isConnected;\n    }\n    get firstAutofocusableElement() {\n        const inertDisabledOrHidden = \"[inert], :disabled, [hidden], details:not([open]), dialog:not([open])\";\n        for (const element of this.element.querySelectorAll(\"[autofocus]\")) {\n            if (element.closest(inertDisabledOrHidden) == null)\n                return element;\n            else\n                continue;\n        }\n        return null;\n    }\n    get permanentElements() {\n        return queryPermanentElementsAll(this.element);\n    }\n    getPermanentElementById(id) {\n        return getPermanentElementById(this.element, id);\n    }\n    getPermanentElementMapForSnapshot(snapshot) {\n        const permanentElementMap = {};\n        for (const currentPermanentElement of this.permanentElements) {\n            const { id } = currentPermanentElement;\n            const newPermanentElement = snapshot.getPermanentElementById(id);\n            if (newPermanentElement) {\n                permanentElementMap[id] = [currentPermanentElement, newPermanentElement];\n            }\n        }\n        return permanentElementMap;\n    }\n}\nfunction getPermanentElementById(node, id) {\n    return node.querySelector(`#${id}[data-turbo-permanent]`);\n}\nfunction queryPermanentElementsAll(node) {\n    return node.querySelectorAll(\"[id][data-turbo-permanent]\");\n}\n\nclass FormSubmitObserver {\n    constructor(delegate, eventTarget) {\n        this.started = false;\n        this.submitCaptured = () => {\n            this.eventTarget.removeEventListener(\"submit\", this.submitBubbled, false);\n            this.eventTarget.addEventListener(\"submit\", this.submitBubbled, false);\n        };\n        this.submitBubbled = ((event) => {\n            if (!event.defaultPrevented) {\n                const form = event.target instanceof HTMLFormElement ? event.target : undefined;\n                const submitter = event.submitter || undefined;\n                if (form &&\n                    submissionDoesNotDismissDialog(form, submitter) &&\n                    submissionDoesNotTargetIFrame(form, submitter) &&\n                    this.delegate.willSubmitForm(form, submitter)) {\n                    event.preventDefault();\n                    event.stopImmediatePropagation();\n                    this.delegate.formSubmitted(form, submitter);\n                }\n            }\n        });\n        this.delegate = delegate;\n        this.eventTarget = eventTarget;\n    }\n    start() {\n        if (!this.started) {\n            this.eventTarget.addEventListener(\"submit\", this.submitCaptured, true);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.eventTarget.removeEventListener(\"submit\", this.submitCaptured, true);\n            this.started = false;\n        }\n    }\n}\nfunction submissionDoesNotDismissDialog(form, submitter) {\n    const method = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"formmethod\")) || form.getAttribute(\"method\");\n    return method != \"dialog\";\n}\nfunction submissionDoesNotTargetIFrame(form, submitter) {\n    if ((submitter === null || submitter === void 0 ? void 0 : submitter.hasAttribute(\"formtarget\")) || form.hasAttribute(\"target\")) {\n        const target = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"formtarget\")) || form.target;\n        for (const element of document.getElementsByName(target)) {\n            if (element instanceof HTMLIFrameElement)\n                return false;\n        }\n        return true;\n    }\n    else {\n        return true;\n    }\n}\n\nclass View {\n    constructor(delegate, element) {\n        this.resolveRenderPromise = (_value) => { };\n        this.resolveInterceptionPromise = (_value) => { };\n        this.delegate = delegate;\n        this.element = element;\n    }\n    scrollToAnchor(anchor) {\n        const element = this.snapshot.getElementForAnchor(anchor);\n        if (element) {\n            this.scrollToElement(element);\n            this.focusElement(element);\n        }\n        else {\n            this.scrollToPosition({ x: 0, y: 0 });\n        }\n    }\n    scrollToAnchorFromLocation(location) {\n        this.scrollToAnchor(getAnchor(location));\n    }\n    scrollToElement(element) {\n        element.scrollIntoView();\n    }\n    focusElement(element) {\n        if (element instanceof HTMLElement) {\n            if (element.hasAttribute(\"tabindex\")) {\n                element.focus();\n            }\n            else {\n                element.setAttribute(\"tabindex\", \"-1\");\n                element.focus();\n                element.removeAttribute(\"tabindex\");\n            }\n        }\n    }\n    scrollToPosition({ x, y }) {\n        this.scrollRoot.scrollTo(x, y);\n    }\n    scrollToTop() {\n        this.scrollToPosition({ x: 0, y: 0 });\n    }\n    get scrollRoot() {\n        return window;\n    }\n    async render(renderer) {\n        const { isPreview, shouldRender, newSnapshot: snapshot } = renderer;\n        if (shouldRender) {\n            try {\n                this.renderPromise = new Promise((resolve) => (this.resolveRenderPromise = resolve));\n                this.renderer = renderer;\n                await this.prepareToRenderSnapshot(renderer);\n                const renderInterception = new Promise((resolve) => (this.resolveInterceptionPromise = resolve));\n                const options = { resume: this.resolveInterceptionPromise, render: this.renderer.renderElement };\n                const immediateRender = this.delegate.allowsImmediateRender(snapshot, options);\n                if (!immediateRender)\n                    await renderInterception;\n                await this.renderSnapshot(renderer);\n                this.delegate.viewRenderedSnapshot(snapshot, isPreview);\n                this.delegate.preloadOnLoadLinksForView(this.element);\n                this.finishRenderingSnapshot(renderer);\n            }\n            finally {\n                delete this.renderer;\n                this.resolveRenderPromise(undefined);\n                delete this.renderPromise;\n            }\n        }\n        else {\n            this.invalidate(renderer.reloadReason);\n        }\n    }\n    invalidate(reason) {\n        this.delegate.viewInvalidated(reason);\n    }\n    async prepareToRenderSnapshot(renderer) {\n        this.markAsPreview(renderer.isPreview);\n        await renderer.prepareToRender();\n    }\n    markAsPreview(isPreview) {\n        if (isPreview) {\n            this.element.setAttribute(\"data-turbo-preview\", \"\");\n        }\n        else {\n            this.element.removeAttribute(\"data-turbo-preview\");\n        }\n    }\n    async renderSnapshot(renderer) {\n        await renderer.render();\n    }\n    finishRenderingSnapshot(renderer) {\n        renderer.finishRendering();\n    }\n}\n\nclass FrameView extends View {\n    missing() {\n        this.element.innerHTML = `<strong class=\"turbo-frame-error\">Content missing</strong>`;\n    }\n    get snapshot() {\n        return new Snapshot(this.element);\n    }\n}\n\nclass LinkInterceptor {\n    constructor(delegate, element) {\n        this.clickBubbled = (event) => {\n            if (this.respondsToEventTarget(event.target)) {\n                this.clickEvent = event;\n            }\n            else {\n                delete this.clickEvent;\n            }\n        };\n        this.linkClicked = ((event) => {\n            if (this.clickEvent && this.respondsToEventTarget(event.target) && event.target instanceof Element) {\n                if (this.delegate.shouldInterceptLinkClick(event.target, event.detail.url, event.detail.originalEvent)) {\n                    this.clickEvent.preventDefault();\n                    event.preventDefault();\n                    this.delegate.linkClickIntercepted(event.target, event.detail.url, event.detail.originalEvent);\n                }\n            }\n            delete this.clickEvent;\n        });\n        this.willVisit = ((_event) => {\n            delete this.clickEvent;\n        });\n        this.delegate = delegate;\n        this.element = element;\n    }\n    start() {\n        this.element.addEventListener(\"click\", this.clickBubbled);\n        document.addEventListener(\"turbo:click\", this.linkClicked);\n        document.addEventListener(\"turbo:before-visit\", this.willVisit);\n    }\n    stop() {\n        this.element.removeEventListener(\"click\", this.clickBubbled);\n        document.removeEventListener(\"turbo:click\", this.linkClicked);\n        document.removeEventListener(\"turbo:before-visit\", this.willVisit);\n    }\n    respondsToEventTarget(target) {\n        const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;\n        return element && element.closest(\"turbo-frame, html\") == this.element;\n    }\n}\n\nclass LinkClickObserver {\n    constructor(delegate, eventTarget) {\n        this.started = false;\n        this.clickCaptured = () => {\n            this.eventTarget.removeEventListener(\"click\", this.clickBubbled, false);\n            this.eventTarget.addEventListener(\"click\", this.clickBubbled, false);\n        };\n        this.clickBubbled = (event) => {\n            if (event instanceof MouseEvent && this.clickEventIsSignificant(event)) {\n                const target = (event.composedPath && event.composedPath()[0]) || event.target;\n                const link = this.findLinkFromClickTarget(target);\n                if (link && doesNotTargetIFrame(link)) {\n                    const location = this.getLocationForLink(link);\n                    if (this.delegate.willFollowLinkToLocation(link, location, event)) {\n                        event.preventDefault();\n                        this.delegate.followedLinkToLocation(link, location);\n                    }\n                }\n            }\n        };\n        this.delegate = delegate;\n        this.eventTarget = eventTarget;\n    }\n    start() {\n        if (!this.started) {\n            this.eventTarget.addEventListener(\"click\", this.clickCaptured, true);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.eventTarget.removeEventListener(\"click\", this.clickCaptured, true);\n            this.started = false;\n        }\n    }\n    clickEventIsSignificant(event) {\n        return !((event.target && event.target.isContentEditable) ||\n            event.defaultPrevented ||\n            event.which > 1 ||\n            event.altKey ||\n            event.ctrlKey ||\n            event.metaKey ||\n            event.shiftKey);\n    }\n    findLinkFromClickTarget(target) {\n        return findClosestRecursively(target, \"a[href]:not([target^=_]):not([download])\");\n    }\n    getLocationForLink(link) {\n        return expandURL(link.getAttribute(\"href\") || \"\");\n    }\n}\nfunction doesNotTargetIFrame(anchor) {\n    if (anchor.hasAttribute(\"target\")) {\n        for (const element of document.getElementsByName(anchor.target)) {\n            if (element instanceof HTMLIFrameElement)\n                return false;\n        }\n        return true;\n    }\n    else {\n        return true;\n    }\n}\n\nclass FormLinkClickObserver {\n    constructor(delegate, element) {\n        this.delegate = delegate;\n        this.linkInterceptor = new LinkClickObserver(this, element);\n    }\n    start() {\n        this.linkInterceptor.start();\n    }\n    stop() {\n        this.linkInterceptor.stop();\n    }\n    willFollowLinkToLocation(link, location, originalEvent) {\n        return (this.delegate.willSubmitFormLinkToLocation(link, location, originalEvent) &&\n            link.hasAttribute(\"data-turbo-method\"));\n    }\n    followedLinkToLocation(link, location) {\n        const form = document.createElement(\"form\");\n        const type = \"hidden\";\n        for (const [name, value] of location.searchParams) {\n            form.append(Object.assign(document.createElement(\"input\"), { type, name, value }));\n        }\n        const action = Object.assign(location, { search: \"\" });\n        form.setAttribute(\"data-turbo\", \"true\");\n        form.setAttribute(\"action\", action.href);\n        form.setAttribute(\"hidden\", \"\");\n        const method = link.getAttribute(\"data-turbo-method\");\n        if (method)\n            form.setAttribute(\"method\", method);\n        const turboFrame = link.getAttribute(\"data-turbo-frame\");\n        if (turboFrame)\n            form.setAttribute(\"data-turbo-frame\", turboFrame);\n        const turboAction = getVisitAction(link);\n        if (turboAction)\n            form.setAttribute(\"data-turbo-action\", turboAction);\n        const turboConfirm = link.getAttribute(\"data-turbo-confirm\");\n        if (turboConfirm)\n            form.setAttribute(\"data-turbo-confirm\", turboConfirm);\n        const turboStream = link.hasAttribute(\"data-turbo-stream\");\n        if (turboStream)\n            form.setAttribute(\"data-turbo-stream\", \"\");\n        this.delegate.submittedFormLinkToLocation(link, location, form);\n        document.body.appendChild(form);\n        form.addEventListener(\"turbo:submit-end\", () => form.remove(), { once: true });\n        requestAnimationFrame(() => form.requestSubmit());\n    }\n}\n\nclass Bardo {\n    static async preservingPermanentElements(delegate, permanentElementMap, callback) {\n        const bardo = new this(delegate, permanentElementMap);\n        bardo.enter();\n        await callback();\n        bardo.leave();\n    }\n    constructor(delegate, permanentElementMap) {\n        this.delegate = delegate;\n        this.permanentElementMap = permanentElementMap;\n    }\n    enter() {\n        for (const id in this.permanentElementMap) {\n            const [currentPermanentElement, newPermanentElement] = this.permanentElementMap[id];\n            this.delegate.enteringBardo(currentPermanentElement, newPermanentElement);\n            this.replaceNewPermanentElementWithPlaceholder(newPermanentElement);\n        }\n    }\n    leave() {\n        for (const id in this.permanentElementMap) {\n            const [currentPermanentElement] = this.permanentElementMap[id];\n            this.replaceCurrentPermanentElementWithClone(currentPermanentElement);\n            this.replacePlaceholderWithPermanentElement(currentPermanentElement);\n            this.delegate.leavingBardo(currentPermanentElement);\n        }\n    }\n    replaceNewPermanentElementWithPlaceholder(permanentElement) {\n        const placeholder = createPlaceholderForPermanentElement(permanentElement);\n        permanentElement.replaceWith(placeholder);\n    }\n    replaceCurrentPermanentElementWithClone(permanentElement) {\n        const clone = permanentElement.cloneNode(true);\n        permanentElement.replaceWith(clone);\n    }\n    replacePlaceholderWithPermanentElement(permanentElement) {\n        const placeholder = this.getPlaceholderById(permanentElement.id);\n        placeholder === null || placeholder === void 0 ? void 0 : placeholder.replaceWith(permanentElement);\n    }\n    getPlaceholderById(id) {\n        return this.placeholders.find((element) => element.content == id);\n    }\n    get placeholders() {\n        return [...document.querySelectorAll(\"meta[name=turbo-permanent-placeholder][content]\")];\n    }\n}\nfunction createPlaceholderForPermanentElement(permanentElement) {\n    const element = document.createElement(\"meta\");\n    element.setAttribute(\"name\", \"turbo-permanent-placeholder\");\n    element.setAttribute(\"content\", permanentElement.id);\n    return element;\n}\n\nclass Renderer {\n    constructor(currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {\n        this.activeElement = null;\n        this.currentSnapshot = currentSnapshot;\n        this.newSnapshot = newSnapshot;\n        this.isPreview = isPreview;\n        this.willRender = willRender;\n        this.renderElement = renderElement;\n        this.promise = new Promise((resolve, reject) => (this.resolvingFunctions = { resolve, reject }));\n    }\n    get shouldRender() {\n        return true;\n    }\n    get reloadReason() {\n        return;\n    }\n    prepareToRender() {\n        return;\n    }\n    finishRendering() {\n        if (this.resolvingFunctions) {\n            this.resolvingFunctions.resolve();\n            delete this.resolvingFunctions;\n        }\n    }\n    async preservingPermanentElements(callback) {\n        await Bardo.preservingPermanentElements(this, this.permanentElementMap, callback);\n    }\n    focusFirstAutofocusableElement() {\n        const element = this.connectedSnapshot.firstAutofocusableElement;\n        if (elementIsFocusable(element)) {\n            element.focus();\n        }\n    }\n    enteringBardo(currentPermanentElement) {\n        if (this.activeElement)\n            return;\n        if (currentPermanentElement.contains(this.currentSnapshot.activeElement)) {\n            this.activeElement = this.currentSnapshot.activeElement;\n        }\n    }\n    leavingBardo(currentPermanentElement) {\n        if (currentPermanentElement.contains(this.activeElement) && this.activeElement instanceof HTMLElement) {\n            this.activeElement.focus();\n            this.activeElement = null;\n        }\n    }\n    get connectedSnapshot() {\n        return this.newSnapshot.isConnected ? this.newSnapshot : this.currentSnapshot;\n    }\n    get currentElement() {\n        return this.currentSnapshot.element;\n    }\n    get newElement() {\n        return this.newSnapshot.element;\n    }\n    get permanentElementMap() {\n        return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot);\n    }\n}\nfunction elementIsFocusable(element) {\n    return element && typeof element.focus == \"function\";\n}\n\nclass FrameRenderer extends Renderer {\n    static renderElement(currentElement, newElement) {\n        var _a;\n        const destinationRange = document.createRange();\n        destinationRange.selectNodeContents(currentElement);\n        destinationRange.deleteContents();\n        const frameElement = newElement;\n        const sourceRange = (_a = frameElement.ownerDocument) === null || _a === void 0 ? void 0 : _a.createRange();\n        if (sourceRange) {\n            sourceRange.selectNodeContents(frameElement);\n            currentElement.appendChild(sourceRange.extractContents());\n        }\n    }\n    constructor(delegate, currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {\n        super(currentSnapshot, newSnapshot, renderElement, isPreview, willRender);\n        this.delegate = delegate;\n    }\n    get shouldRender() {\n        return true;\n    }\n    async render() {\n        await nextAnimationFrame();\n        this.preservingPermanentElements(() => {\n            this.loadFrameElement();\n        });\n        this.scrollFrameIntoView();\n        await nextAnimationFrame();\n        this.focusFirstAutofocusableElement();\n        await nextAnimationFrame();\n        this.activateScriptElements();\n    }\n    loadFrameElement() {\n        this.delegate.willRenderFrame(this.currentElement, this.newElement);\n        this.renderElement(this.currentElement, this.newElement);\n    }\n    scrollFrameIntoView() {\n        if (this.currentElement.autoscroll || this.newElement.autoscroll) {\n            const element = this.currentElement.firstElementChild;\n            const block = readScrollLogicalPosition(this.currentElement.getAttribute(\"data-autoscroll-block\"), \"end\");\n            const behavior = readScrollBehavior(this.currentElement.getAttribute(\"data-autoscroll-behavior\"), \"auto\");\n            if (element) {\n                element.scrollIntoView({ block, behavior });\n                return true;\n            }\n        }\n        return false;\n    }\n    activateScriptElements() {\n        for (const inertScriptElement of this.newScriptElements) {\n            const activatedScriptElement = activateScriptElement(inertScriptElement);\n            inertScriptElement.replaceWith(activatedScriptElement);\n        }\n    }\n    get newScriptElements() {\n        return this.currentElement.querySelectorAll(\"script\");\n    }\n}\nfunction readScrollLogicalPosition(value, defaultValue) {\n    if (value == \"end\" || value == \"start\" || value == \"center\" || value == \"nearest\") {\n        return value;\n    }\n    else {\n        return defaultValue;\n    }\n}\nfunction readScrollBehavior(value, defaultValue) {\n    if (value == \"auto\" || value == \"smooth\") {\n        return value;\n    }\n    else {\n        return defaultValue;\n    }\n}\n\nclass ProgressBar {\n    static get defaultCSS() {\n        return unindent `\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 2147483647;\n        transition:\n          width ${ProgressBar.animationDuration}ms ease-out,\n          opacity ${ProgressBar.animationDuration / 2}ms ${ProgressBar.animationDuration / 2}ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    `;\n    }\n    constructor() {\n        this.hiding = false;\n        this.value = 0;\n        this.visible = false;\n        this.trickle = () => {\n            this.setValue(this.value + Math.random() / 100);\n        };\n        this.stylesheetElement = this.createStylesheetElement();\n        this.progressElement = this.createProgressElement();\n        this.installStylesheetElement();\n        this.setValue(0);\n    }\n    show() {\n        if (!this.visible) {\n            this.visible = true;\n            this.installProgressElement();\n            this.startTrickling();\n        }\n    }\n    hide() {\n        if (this.visible && !this.hiding) {\n            this.hiding = true;\n            this.fadeProgressElement(() => {\n                this.uninstallProgressElement();\n                this.stopTrickling();\n                this.visible = false;\n                this.hiding = false;\n            });\n        }\n    }\n    setValue(value) {\n        this.value = value;\n        this.refresh();\n    }\n    installStylesheetElement() {\n        document.head.insertBefore(this.stylesheetElement, document.head.firstChild);\n    }\n    installProgressElement() {\n        this.progressElement.style.width = \"0\";\n        this.progressElement.style.opacity = \"1\";\n        document.documentElement.insertBefore(this.progressElement, document.body);\n        this.refresh();\n    }\n    fadeProgressElement(callback) {\n        this.progressElement.style.opacity = \"0\";\n        setTimeout(callback, ProgressBar.animationDuration * 1.5);\n    }\n    uninstallProgressElement() {\n        if (this.progressElement.parentNode) {\n            document.documentElement.removeChild(this.progressElement);\n        }\n    }\n    startTrickling() {\n        if (!this.trickleInterval) {\n            this.trickleInterval = window.setInterval(this.trickle, ProgressBar.animationDuration);\n        }\n    }\n    stopTrickling() {\n        window.clearInterval(this.trickleInterval);\n        delete this.trickleInterval;\n    }\n    refresh() {\n        requestAnimationFrame(() => {\n            this.progressElement.style.width = `${10 + this.value * 90}%`;\n        });\n    }\n    createStylesheetElement() {\n        const element = document.createElement(\"style\");\n        element.type = \"text/css\";\n        element.textContent = ProgressBar.defaultCSS;\n        if (this.cspNonce) {\n            element.nonce = this.cspNonce;\n        }\n        return element;\n    }\n    createProgressElement() {\n        const element = document.createElement(\"div\");\n        element.className = \"turbo-progress-bar\";\n        return element;\n    }\n    get cspNonce() {\n        return getMetaContent(\"csp-nonce\");\n    }\n}\nProgressBar.animationDuration = 300;\n\nclass HeadSnapshot extends Snapshot {\n    constructor() {\n        super(...arguments);\n        this.detailsByOuterHTML = this.children\n            .filter((element) => !elementIsNoscript(element))\n            .map((element) => elementWithoutNonce(element))\n            .reduce((result, element) => {\n            const { outerHTML } = element;\n            const details = outerHTML in result\n                ? result[outerHTML]\n                : {\n                    type: elementType(element),\n                    tracked: elementIsTracked(element),\n                    elements: [],\n                };\n            return Object.assign(Object.assign({}, result), { [outerHTML]: Object.assign(Object.assign({}, details), { elements: [...details.elements, element] }) });\n        }, {});\n    }\n    get trackedElementSignature() {\n        return Object.keys(this.detailsByOuterHTML)\n            .filter((outerHTML) => this.detailsByOuterHTML[outerHTML].tracked)\n            .join(\"\");\n    }\n    getScriptElementsNotInSnapshot(snapshot) {\n        return this.getElementsMatchingTypeNotInSnapshot(\"script\", snapshot);\n    }\n    getStylesheetElementsNotInSnapshot(snapshot) {\n        return this.getElementsMatchingTypeNotInSnapshot(\"stylesheet\", snapshot);\n    }\n    getElementsMatchingTypeNotInSnapshot(matchedType, snapshot) {\n        return Object.keys(this.detailsByOuterHTML)\n            .filter((outerHTML) => !(outerHTML in snapshot.detailsByOuterHTML))\n            .map((outerHTML) => this.detailsByOuterHTML[outerHTML])\n            .filter(({ type }) => type == matchedType)\n            .map(({ elements: [element] }) => element);\n    }\n    get provisionalElements() {\n        return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n            const { type, tracked, elements } = this.detailsByOuterHTML[outerHTML];\n            if (type == null && !tracked) {\n                return [...result, ...elements];\n            }\n            else if (elements.length > 1) {\n                return [...result, ...elements.slice(1)];\n            }\n            else {\n                return result;\n            }\n        }, []);\n    }\n    getMetaValue(name) {\n        const element = this.findMetaElementByName(name);\n        return element ? element.getAttribute(\"content\") : null;\n    }\n    findMetaElementByName(name) {\n        return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n            const { elements: [element], } = this.detailsByOuterHTML[outerHTML];\n            return elementIsMetaElementWithName(element, name) ? element : result;\n        }, undefined);\n    }\n}\nfunction elementType(element) {\n    if (elementIsScript(element)) {\n        return \"script\";\n    }\n    else if (elementIsStylesheet(element)) {\n        return \"stylesheet\";\n    }\n}\nfunction elementIsTracked(element) {\n    return element.getAttribute(\"data-turbo-track\") == \"reload\";\n}\nfunction elementIsScript(element) {\n    const tagName = element.localName;\n    return tagName == \"script\";\n}\nfunction elementIsNoscript(element) {\n    const tagName = element.localName;\n    return tagName == \"noscript\";\n}\nfunction elementIsStylesheet(element) {\n    const tagName = element.localName;\n    return tagName == \"style\" || (tagName == \"link\" && element.getAttribute(\"rel\") == \"stylesheet\");\n}\nfunction elementIsMetaElementWithName(element, name) {\n    const tagName = element.localName;\n    return tagName == \"meta\" && element.getAttribute(\"name\") == name;\n}\nfunction elementWithoutNonce(element) {\n    if (element.hasAttribute(\"nonce\")) {\n        element.setAttribute(\"nonce\", \"\");\n    }\n    return element;\n}\n\nclass PageSnapshot extends Snapshot {\n    static fromHTMLString(html = \"\") {\n        return this.fromDocument(parseHTMLDocument(html));\n    }\n    static fromElement(element) {\n        return this.fromDocument(element.ownerDocument);\n    }\n    static fromDocument({ head, body }) {\n        return new this(body, new HeadSnapshot(head));\n    }\n    constructor(element, headSnapshot) {\n        super(element);\n        this.headSnapshot = headSnapshot;\n    }\n    clone() {\n        const clonedElement = this.element.cloneNode(true);\n        const selectElements = this.element.querySelectorAll(\"select\");\n        const clonedSelectElements = clonedElement.querySelectorAll(\"select\");\n        for (const [index, source] of selectElements.entries()) {\n            const clone = clonedSelectElements[index];\n            for (const option of clone.selectedOptions)\n                option.selected = false;\n            for (const option of source.selectedOptions)\n                clone.options[option.index].selected = true;\n        }\n        for (const clonedPasswordInput of clonedElement.querySelectorAll('input[type=\"password\"]')) {\n            clonedPasswordInput.value = \"\";\n        }\n        return new PageSnapshot(clonedElement, this.headSnapshot);\n    }\n    get headElement() {\n        return this.headSnapshot.element;\n    }\n    get rootLocation() {\n        var _a;\n        const root = (_a = this.getSetting(\"root\")) !== null && _a !== void 0 ? _a : \"/\";\n        return expandURL(root);\n    }\n    get cacheControlValue() {\n        return this.getSetting(\"cache-control\");\n    }\n    get isPreviewable() {\n        return this.cacheControlValue != \"no-preview\";\n    }\n    get isCacheable() {\n        return this.cacheControlValue != \"no-cache\";\n    }\n    get isVisitable() {\n        return this.getSetting(\"visit-control\") != \"reload\";\n    }\n    getSetting(name) {\n        return this.headSnapshot.getMetaValue(`turbo-${name}`);\n    }\n}\n\nvar TimingMetric;\n(function (TimingMetric) {\n    TimingMetric[\"visitStart\"] = \"visitStart\";\n    TimingMetric[\"requestStart\"] = \"requestStart\";\n    TimingMetric[\"requestEnd\"] = \"requestEnd\";\n    TimingMetric[\"visitEnd\"] = \"visitEnd\";\n})(TimingMetric || (TimingMetric = {}));\nvar VisitState;\n(function (VisitState) {\n    VisitState[\"initialized\"] = \"initialized\";\n    VisitState[\"started\"] = \"started\";\n    VisitState[\"canceled\"] = \"canceled\";\n    VisitState[\"failed\"] = \"failed\";\n    VisitState[\"completed\"] = \"completed\";\n})(VisitState || (VisitState = {}));\nconst defaultOptions = {\n    action: \"advance\",\n    historyChanged: false,\n    visitCachedSnapshot: () => { },\n    willRender: true,\n    updateHistory: true,\n    shouldCacheSnapshot: true,\n    acceptsStreamResponse: false,\n};\nvar SystemStatusCode;\n(function (SystemStatusCode) {\n    SystemStatusCode[SystemStatusCode[\"networkFailure\"] = 0] = \"networkFailure\";\n    SystemStatusCode[SystemStatusCode[\"timeoutFailure\"] = -1] = \"timeoutFailure\";\n    SystemStatusCode[SystemStatusCode[\"contentTypeMismatch\"] = -2] = \"contentTypeMismatch\";\n})(SystemStatusCode || (SystemStatusCode = {}));\nclass Visit {\n    constructor(delegate, location, restorationIdentifier, options = {}) {\n        this.identifier = uuid();\n        this.timingMetrics = {};\n        this.followedRedirect = false;\n        this.historyChanged = false;\n        this.scrolled = false;\n        this.shouldCacheSnapshot = true;\n        this.acceptsStreamResponse = false;\n        this.snapshotCached = false;\n        this.state = VisitState.initialized;\n        this.delegate = delegate;\n        this.location = location;\n        this.restorationIdentifier = restorationIdentifier || uuid();\n        const { action, historyChanged, referrer, snapshot, snapshotHTML, response, visitCachedSnapshot, willRender, updateHistory, shouldCacheSnapshot, acceptsStreamResponse, } = Object.assign(Object.assign({}, defaultOptions), options);\n        this.action = action;\n        this.historyChanged = historyChanged;\n        this.referrer = referrer;\n        this.snapshot = snapshot;\n        this.snapshotHTML = snapshotHTML;\n        this.response = response;\n        this.isSamePage = this.delegate.locationWithActionIsSamePage(this.location, this.action);\n        this.visitCachedSnapshot = visitCachedSnapshot;\n        this.willRender = willRender;\n        this.updateHistory = updateHistory;\n        this.scrolled = !willRender;\n        this.shouldCacheSnapshot = shouldCacheSnapshot;\n        this.acceptsStreamResponse = acceptsStreamResponse;\n    }\n    get adapter() {\n        return this.delegate.adapter;\n    }\n    get view() {\n        return this.delegate.view;\n    }\n    get history() {\n        return this.delegate.history;\n    }\n    get restorationData() {\n        return this.history.getRestorationDataForIdentifier(this.restorationIdentifier);\n    }\n    get silent() {\n        return this.isSamePage;\n    }\n    start() {\n        if (this.state == VisitState.initialized) {\n            this.recordTimingMetric(TimingMetric.visitStart);\n            this.state = VisitState.started;\n            this.adapter.visitStarted(this);\n            this.delegate.visitStarted(this);\n        }\n    }\n    cancel() {\n        if (this.state == VisitState.started) {\n            if (this.request) {\n                this.request.cancel();\n            }\n            this.cancelRender();\n            this.state = VisitState.canceled;\n        }\n    }\n    complete() {\n        if (this.state == VisitState.started) {\n            this.recordTimingMetric(TimingMetric.visitEnd);\n            this.state = VisitState.completed;\n            this.followRedirect();\n            if (!this.followedRedirect) {\n                this.adapter.visitCompleted(this);\n                this.delegate.visitCompleted(this);\n            }\n        }\n    }\n    fail() {\n        if (this.state == VisitState.started) {\n            this.state = VisitState.failed;\n            this.adapter.visitFailed(this);\n        }\n    }\n    changeHistory() {\n        var _a;\n        if (!this.historyChanged && this.updateHistory) {\n            const actionForHistory = this.location.href === ((_a = this.referrer) === null || _a === void 0 ? void 0 : _a.href) ? \"replace\" : this.action;\n            const method = getHistoryMethodForAction(actionForHistory);\n            this.history.update(method, this.location, this.restorationIdentifier);\n            this.historyChanged = true;\n        }\n    }\n    issueRequest() {\n        if (this.hasPreloadedResponse()) {\n            this.simulateRequest();\n        }\n        else if (this.shouldIssueRequest() && !this.request) {\n            this.request = new FetchRequest(this, FetchMethod.get, this.location);\n            this.request.perform();\n        }\n    }\n    simulateRequest() {\n        if (this.response) {\n            this.startRequest();\n            this.recordResponse();\n            this.finishRequest();\n        }\n    }\n    startRequest() {\n        this.recordTimingMetric(TimingMetric.requestStart);\n        this.adapter.visitRequestStarted(this);\n    }\n    recordResponse(response = this.response) {\n        this.response = response;\n        if (response) {\n            const { statusCode } = response;\n            if (isSuccessful(statusCode)) {\n                this.adapter.visitRequestCompleted(this);\n            }\n            else {\n                this.adapter.visitRequestFailedWithStatusCode(this, statusCode);\n            }\n        }\n    }\n    finishRequest() {\n        this.recordTimingMetric(TimingMetric.requestEnd);\n        this.adapter.visitRequestFinished(this);\n    }\n    loadResponse() {\n        if (this.response) {\n            const { statusCode, responseHTML } = this.response;\n            this.render(async () => {\n                if (this.shouldCacheSnapshot)\n                    this.cacheSnapshot();\n                if (this.view.renderPromise)\n                    await this.view.renderPromise;\n                if (isSuccessful(statusCode) && responseHTML != null) {\n                    await this.view.renderPage(PageSnapshot.fromHTMLString(responseHTML), false, this.willRender, this);\n                    this.performScroll();\n                    this.adapter.visitRendered(this);\n                    this.complete();\n                }\n                else {\n                    await this.view.renderError(PageSnapshot.fromHTMLString(responseHTML), this);\n                    this.adapter.visitRendered(this);\n                    this.fail();\n                }\n            });\n        }\n    }\n    getCachedSnapshot() {\n        const snapshot = this.view.getCachedSnapshotForLocation(this.location) || this.getPreloadedSnapshot();\n        if (snapshot && (!getAnchor(this.location) || snapshot.hasAnchor(getAnchor(this.location)))) {\n            if (this.action == \"restore\" || snapshot.isPreviewable) {\n                return snapshot;\n            }\n        }\n    }\n    getPreloadedSnapshot() {\n        if (this.snapshotHTML) {\n            return PageSnapshot.fromHTMLString(this.snapshotHTML);\n        }\n    }\n    hasCachedSnapshot() {\n        return this.getCachedSnapshot() != null;\n    }\n    loadCachedSnapshot() {\n        const snapshot = this.getCachedSnapshot();\n        if (snapshot) {\n            const isPreview = this.shouldIssueRequest();\n            this.render(async () => {\n                this.cacheSnapshot();\n                if (this.isSamePage) {\n                    this.adapter.visitRendered(this);\n                }\n                else {\n                    if (this.view.renderPromise)\n                        await this.view.renderPromise;\n                    await this.view.renderPage(snapshot, isPreview, this.willRender, this);\n                    this.performScroll();\n                    this.adapter.visitRendered(this);\n                    if (!isPreview) {\n                        this.complete();\n                    }\n                }\n            });\n        }\n    }\n    followRedirect() {\n        var _a;\n        if (this.redirectedToLocation && !this.followedRedirect && ((_a = this.response) === null || _a === void 0 ? void 0 : _a.redirected)) {\n            this.adapter.visitProposedToLocation(this.redirectedToLocation, {\n                action: \"replace\",\n                response: this.response,\n                shouldCacheSnapshot: false,\n                willRender: false,\n            });\n            this.followedRedirect = true;\n        }\n    }\n    goToSamePageAnchor() {\n        if (this.isSamePage) {\n            this.render(async () => {\n                this.cacheSnapshot();\n                this.performScroll();\n                this.changeHistory();\n                this.adapter.visitRendered(this);\n            });\n        }\n    }\n    prepareRequest(request) {\n        if (this.acceptsStreamResponse) {\n            request.acceptResponseType(StreamMessage.contentType);\n        }\n    }\n    requestStarted() {\n        this.startRequest();\n    }\n    requestPreventedHandlingResponse(_request, _response) { }\n    async requestSucceededWithResponse(request, response) {\n        const responseHTML = await response.responseHTML;\n        const { redirected, statusCode } = response;\n        if (responseHTML == undefined) {\n            this.recordResponse({\n                statusCode: SystemStatusCode.contentTypeMismatch,\n                redirected,\n            });\n        }\n        else {\n            this.redirectedToLocation = response.redirected ? response.location : undefined;\n            this.recordResponse({ statusCode: statusCode, responseHTML, redirected });\n        }\n    }\n    async requestFailedWithResponse(request, response) {\n        const responseHTML = await response.responseHTML;\n        const { redirected, statusCode } = response;\n        if (responseHTML == undefined) {\n            this.recordResponse({\n                statusCode: SystemStatusCode.contentTypeMismatch,\n                redirected,\n            });\n        }\n        else {\n            this.recordResponse({ statusCode: statusCode, responseHTML, redirected });\n        }\n    }\n    requestErrored(_request, _error) {\n        this.recordResponse({\n            statusCode: SystemStatusCode.networkFailure,\n            redirected: false,\n        });\n    }\n    requestFinished() {\n        this.finishRequest();\n    }\n    performScroll() {\n        if (!this.scrolled && !this.view.forceReloaded) {\n            if (this.action == \"restore\") {\n                this.scrollToRestoredPosition() || this.scrollToAnchor() || this.view.scrollToTop();\n            }\n            else {\n                this.scrollToAnchor() || this.view.scrollToTop();\n            }\n            if (this.isSamePage) {\n                this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation, this.location);\n            }\n            this.scrolled = true;\n        }\n    }\n    scrollToRestoredPosition() {\n        const { scrollPosition } = this.restorationData;\n        if (scrollPosition) {\n            this.view.scrollToPosition(scrollPosition);\n            return true;\n        }\n    }\n    scrollToAnchor() {\n        const anchor = getAnchor(this.location);\n        if (anchor != null) {\n            this.view.scrollToAnchor(anchor);\n            return true;\n        }\n    }\n    recordTimingMetric(metric) {\n        this.timingMetrics[metric] = new Date().getTime();\n    }\n    getTimingMetrics() {\n        return Object.assign({}, this.timingMetrics);\n    }\n    getHistoryMethodForAction(action) {\n        switch (action) {\n            case \"replace\":\n                return history.replaceState;\n            case \"advance\":\n            case \"restore\":\n                return history.pushState;\n        }\n    }\n    hasPreloadedResponse() {\n        return typeof this.response == \"object\";\n    }\n    shouldIssueRequest() {\n        if (this.isSamePage) {\n            return false;\n        }\n        else if (this.action == \"restore\") {\n            return !this.hasCachedSnapshot();\n        }\n        else {\n            return this.willRender;\n        }\n    }\n    cacheSnapshot() {\n        if (!this.snapshotCached) {\n            this.view.cacheSnapshot(this.snapshot).then((snapshot) => snapshot && this.visitCachedSnapshot(snapshot));\n            this.snapshotCached = true;\n        }\n    }\n    async render(callback) {\n        this.cancelRender();\n        await new Promise((resolve) => {\n            this.frame = requestAnimationFrame(() => resolve());\n        });\n        await callback();\n        delete this.frame;\n    }\n    cancelRender() {\n        if (this.frame) {\n            cancelAnimationFrame(this.frame);\n            delete this.frame;\n        }\n    }\n}\nfunction isSuccessful(statusCode) {\n    return statusCode >= 200 && statusCode < 300;\n}\n\nclass BrowserAdapter {\n    constructor(session) {\n        this.progressBar = new ProgressBar();\n        this.showProgressBar = () => {\n            this.progressBar.show();\n        };\n        this.session = session;\n    }\n    visitProposedToLocation(location, options) {\n        this.navigator.startVisit(location, (options === null || options === void 0 ? void 0 : options.restorationIdentifier) || uuid(), options);\n    }\n    visitStarted(visit) {\n        this.location = visit.location;\n        visit.loadCachedSnapshot();\n        visit.issueRequest();\n        visit.goToSamePageAnchor();\n    }\n    visitRequestStarted(visit) {\n        this.progressBar.setValue(0);\n        if (visit.hasCachedSnapshot() || visit.action != \"restore\") {\n            this.showVisitProgressBarAfterDelay();\n        }\n        else {\n            this.showProgressBar();\n        }\n    }\n    visitRequestCompleted(visit) {\n        visit.loadResponse();\n    }\n    visitRequestFailedWithStatusCode(visit, statusCode) {\n        switch (statusCode) {\n            case SystemStatusCode.networkFailure:\n            case SystemStatusCode.timeoutFailure:\n            case SystemStatusCode.contentTypeMismatch:\n                return this.reload({\n                    reason: \"request_failed\",\n                    context: {\n                        statusCode,\n                    },\n                });\n            default:\n                return visit.loadResponse();\n        }\n    }\n    visitRequestFinished(_visit) {\n        this.progressBar.setValue(1);\n        this.hideVisitProgressBar();\n    }\n    visitCompleted(_visit) { }\n    pageInvalidated(reason) {\n        this.reload(reason);\n    }\n    visitFailed(_visit) { }\n    visitRendered(_visit) { }\n    formSubmissionStarted(_formSubmission) {\n        this.progressBar.setValue(0);\n        this.showFormProgressBarAfterDelay();\n    }\n    formSubmissionFinished(_formSubmission) {\n        this.progressBar.setValue(1);\n        this.hideFormProgressBar();\n    }\n    showVisitProgressBarAfterDelay() {\n        this.visitProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n    }\n    hideVisitProgressBar() {\n        this.progressBar.hide();\n        if (this.visitProgressBarTimeout != null) {\n            window.clearTimeout(this.visitProgressBarTimeout);\n            delete this.visitProgressBarTimeout;\n        }\n    }\n    showFormProgressBarAfterDelay() {\n        if (this.formProgressBarTimeout == null) {\n            this.formProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n        }\n    }\n    hideFormProgressBar() {\n        this.progressBar.hide();\n        if (this.formProgressBarTimeout != null) {\n            window.clearTimeout(this.formProgressBarTimeout);\n            delete this.formProgressBarTimeout;\n        }\n    }\n    reload(reason) {\n        var _a;\n        dispatch(\"turbo:reload\", { detail: reason });\n        window.location.href = ((_a = this.location) === null || _a === void 0 ? void 0 : _a.toString()) || window.location.href;\n    }\n    get navigator() {\n        return this.session.navigator;\n    }\n}\n\nclass CacheObserver {\n    constructor() {\n        this.selector = \"[data-turbo-temporary]\";\n        this.deprecatedSelector = \"[data-turbo-cache=false]\";\n        this.started = false;\n        this.removeTemporaryElements = ((_event) => {\n            for (const element of this.temporaryElements) {\n                element.remove();\n            }\n        });\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            addEventListener(\"turbo:before-cache\", this.removeTemporaryElements, false);\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            removeEventListener(\"turbo:before-cache\", this.removeTemporaryElements, false);\n        }\n    }\n    get temporaryElements() {\n        return [...document.querySelectorAll(this.selector), ...this.temporaryElementsWithDeprecation];\n    }\n    get temporaryElementsWithDeprecation() {\n        const elements = document.querySelectorAll(this.deprecatedSelector);\n        if (elements.length) {\n            console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`);\n        }\n        return [...elements];\n    }\n}\n\nclass FrameRedirector {\n    constructor(session, element) {\n        this.session = session;\n        this.element = element;\n        this.linkInterceptor = new LinkInterceptor(this, element);\n        this.formSubmitObserver = new FormSubmitObserver(this, element);\n    }\n    start() {\n        this.linkInterceptor.start();\n        this.formSubmitObserver.start();\n    }\n    stop() {\n        this.linkInterceptor.stop();\n        this.formSubmitObserver.stop();\n    }\n    shouldInterceptLinkClick(element, _location, _event) {\n        return this.shouldRedirect(element);\n    }\n    linkClickIntercepted(element, url, event) {\n        const frame = this.findFrameElement(element);\n        if (frame) {\n            frame.delegate.linkClickIntercepted(element, url, event);\n        }\n    }\n    willSubmitForm(element, submitter) {\n        return (element.closest(\"turbo-frame\") == null &&\n            this.shouldSubmit(element, submitter) &&\n            this.shouldRedirect(element, submitter));\n    }\n    formSubmitted(element, submitter) {\n        const frame = this.findFrameElement(element, submitter);\n        if (frame) {\n            frame.delegate.formSubmitted(element, submitter);\n        }\n    }\n    shouldSubmit(form, submitter) {\n        var _a;\n        const action = getAction(form, submitter);\n        const meta = this.element.ownerDocument.querySelector(`meta[name=\"turbo-root\"]`);\n        const rootLocation = expandURL((_a = meta === null || meta === void 0 ? void 0 : meta.content) !== null && _a !== void 0 ? _a : \"/\");\n        return this.shouldRedirect(form, submitter) && locationIsVisitable(action, rootLocation);\n    }\n    shouldRedirect(element, submitter) {\n        const isNavigatable = element instanceof HTMLFormElement\n            ? this.session.submissionIsNavigatable(element, submitter)\n            : this.session.elementIsNavigatable(element);\n        if (isNavigatable) {\n            const frame = this.findFrameElement(element, submitter);\n            return frame ? frame != element.closest(\"turbo-frame\") : false;\n        }\n        else {\n            return false;\n        }\n    }\n    findFrameElement(element, submitter) {\n        const id = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"data-turbo-frame\")) || element.getAttribute(\"data-turbo-frame\");\n        if (id && id != \"_top\") {\n            const frame = this.element.querySelector(`#${id}:not([disabled])`);\n            if (frame instanceof FrameElement) {\n                return frame;\n            }\n        }\n    }\n}\n\nclass History {\n    constructor(delegate) {\n        this.restorationIdentifier = uuid();\n        this.restorationData = {};\n        this.started = false;\n        this.pageLoaded = false;\n        this.onPopState = (event) => {\n            if (this.shouldHandlePopState()) {\n                const { turbo } = event.state || {};\n                if (turbo) {\n                    this.location = new URL(window.location.href);\n                    const { restorationIdentifier } = turbo;\n                    this.restorationIdentifier = restorationIdentifier;\n                    this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location, restorationIdentifier);\n                }\n            }\n        };\n        this.onPageLoad = async (_event) => {\n            await nextMicrotask();\n            this.pageLoaded = true;\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            addEventListener(\"popstate\", this.onPopState, false);\n            addEventListener(\"load\", this.onPageLoad, false);\n            this.started = true;\n            this.replace(new URL(window.location.href));\n        }\n    }\n    stop() {\n        if (this.started) {\n            removeEventListener(\"popstate\", this.onPopState, false);\n            removeEventListener(\"load\", this.onPageLoad, false);\n            this.started = false;\n        }\n    }\n    push(location, restorationIdentifier) {\n        this.update(history.pushState, location, restorationIdentifier);\n    }\n    replace(location, restorationIdentifier) {\n        this.update(history.replaceState, location, restorationIdentifier);\n    }\n    update(method, location, restorationIdentifier = uuid()) {\n        const state = { turbo: { restorationIdentifier } };\n        method.call(history, state, \"\", location.href);\n        this.location = location;\n        this.restorationIdentifier = restorationIdentifier;\n    }\n    getRestorationDataForIdentifier(restorationIdentifier) {\n        return this.restorationData[restorationIdentifier] || {};\n    }\n    updateRestorationData(additionalData) {\n        const { restorationIdentifier } = this;\n        const restorationData = this.restorationData[restorationIdentifier];\n        this.restorationData[restorationIdentifier] = Object.assign(Object.assign({}, restorationData), additionalData);\n    }\n    assumeControlOfScrollRestoration() {\n        var _a;\n        if (!this.previousScrollRestoration) {\n            this.previousScrollRestoration = (_a = history.scrollRestoration) !== null && _a !== void 0 ? _a : \"auto\";\n            history.scrollRestoration = \"manual\";\n        }\n    }\n    relinquishControlOfScrollRestoration() {\n        if (this.previousScrollRestoration) {\n            history.scrollRestoration = this.previousScrollRestoration;\n            delete this.previousScrollRestoration;\n        }\n    }\n    shouldHandlePopState() {\n        return this.pageIsLoaded();\n    }\n    pageIsLoaded() {\n        return this.pageLoaded || document.readyState == \"complete\";\n    }\n}\n\nclass Navigator {\n    constructor(delegate) {\n        this.delegate = delegate;\n    }\n    proposeVisit(location, options = {}) {\n        if (this.delegate.allowsVisitingLocationWithAction(location, options.action)) {\n            if (locationIsVisitable(location, this.view.snapshot.rootLocation)) {\n                this.delegate.visitProposedToLocation(location, options);\n            }\n            else {\n                window.location.href = location.toString();\n            }\n        }\n    }\n    startVisit(locatable, restorationIdentifier, options = {}) {\n        this.stop();\n        this.currentVisit = new Visit(this, expandURL(locatable), restorationIdentifier, Object.assign({ referrer: this.location }, options));\n        this.currentVisit.start();\n    }\n    submitForm(form, submitter) {\n        this.stop();\n        this.formSubmission = new FormSubmission(this, form, submitter, true);\n        this.formSubmission.start();\n    }\n    stop() {\n        if (this.formSubmission) {\n            this.formSubmission.stop();\n            delete this.formSubmission;\n        }\n        if (this.currentVisit) {\n            this.currentVisit.cancel();\n            delete this.currentVisit;\n        }\n    }\n    get adapter() {\n        return this.delegate.adapter;\n    }\n    get view() {\n        return this.delegate.view;\n    }\n    get history() {\n        return this.delegate.history;\n    }\n    formSubmissionStarted(formSubmission) {\n        if (typeof this.adapter.formSubmissionStarted === \"function\") {\n            this.adapter.formSubmissionStarted(formSubmission);\n        }\n    }\n    async formSubmissionSucceededWithResponse(formSubmission, fetchResponse) {\n        if (formSubmission == this.formSubmission) {\n            const responseHTML = await fetchResponse.responseHTML;\n            if (responseHTML) {\n                const shouldCacheSnapshot = formSubmission.isSafe;\n                if (!shouldCacheSnapshot) {\n                    this.view.clearSnapshotCache();\n                }\n                const { statusCode, redirected } = fetchResponse;\n                const action = this.getActionForFormSubmission(formSubmission);\n                const visitOptions = {\n                    action,\n                    shouldCacheSnapshot,\n                    response: { statusCode, responseHTML, redirected },\n                };\n                this.proposeVisit(fetchResponse.location, visitOptions);\n            }\n        }\n    }\n    async formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n        const responseHTML = await fetchResponse.responseHTML;\n        if (responseHTML) {\n            const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n            if (fetchResponse.serverError) {\n                await this.view.renderError(snapshot, this.currentVisit);\n            }\n            else {\n                await this.view.renderPage(snapshot, false, true, this.currentVisit);\n            }\n            this.view.scrollToTop();\n            this.view.clearSnapshotCache();\n        }\n    }\n    formSubmissionErrored(formSubmission, error) {\n        console.error(error);\n    }\n    formSubmissionFinished(formSubmission) {\n        if (typeof this.adapter.formSubmissionFinished === \"function\") {\n            this.adapter.formSubmissionFinished(formSubmission);\n        }\n    }\n    visitStarted(visit) {\n        this.delegate.visitStarted(visit);\n    }\n    visitCompleted(visit) {\n        this.delegate.visitCompleted(visit);\n    }\n    locationWithActionIsSamePage(location, action) {\n        const anchor = getAnchor(location);\n        const currentAnchor = getAnchor(this.view.lastRenderedLocation);\n        const isRestorationToTop = action === \"restore\" && typeof anchor === \"undefined\";\n        return (action !== \"replace\" &&\n            getRequestURL(location) === getRequestURL(this.view.lastRenderedLocation) &&\n            (isRestorationToTop || (anchor != null && anchor !== currentAnchor)));\n    }\n    visitScrolledToSamePageLocation(oldURL, newURL) {\n        this.delegate.visitScrolledToSamePageLocation(oldURL, newURL);\n    }\n    get location() {\n        return this.history.location;\n    }\n    get restorationIdentifier() {\n        return this.history.restorationIdentifier;\n    }\n    getActionForFormSubmission({ submitter, formElement }) {\n        return getVisitAction(submitter, formElement) || \"advance\";\n    }\n}\n\nvar PageStage;\n(function (PageStage) {\n    PageStage[PageStage[\"initial\"] = 0] = \"initial\";\n    PageStage[PageStage[\"loading\"] = 1] = \"loading\";\n    PageStage[PageStage[\"interactive\"] = 2] = \"interactive\";\n    PageStage[PageStage[\"complete\"] = 3] = \"complete\";\n})(PageStage || (PageStage = {}));\nclass PageObserver {\n    constructor(delegate) {\n        this.stage = PageStage.initial;\n        this.started = false;\n        this.interpretReadyState = () => {\n            const { readyState } = this;\n            if (readyState == \"interactive\") {\n                this.pageIsInteractive();\n            }\n            else if (readyState == \"complete\") {\n                this.pageIsComplete();\n            }\n        };\n        this.pageWillUnload = () => {\n            this.delegate.pageWillUnload();\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            if (this.stage == PageStage.initial) {\n                this.stage = PageStage.loading;\n            }\n            document.addEventListener(\"readystatechange\", this.interpretReadyState, false);\n            addEventListener(\"pagehide\", this.pageWillUnload, false);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            document.removeEventListener(\"readystatechange\", this.interpretReadyState, false);\n            removeEventListener(\"pagehide\", this.pageWillUnload, false);\n            this.started = false;\n        }\n    }\n    pageIsInteractive() {\n        if (this.stage == PageStage.loading) {\n            this.stage = PageStage.interactive;\n            this.delegate.pageBecameInteractive();\n        }\n    }\n    pageIsComplete() {\n        this.pageIsInteractive();\n        if (this.stage == PageStage.interactive) {\n            this.stage = PageStage.complete;\n            this.delegate.pageLoaded();\n        }\n    }\n    get readyState() {\n        return document.readyState;\n    }\n}\n\nclass ScrollObserver {\n    constructor(delegate) {\n        this.started = false;\n        this.onScroll = () => {\n            this.updatePosition({ x: window.pageXOffset, y: window.pageYOffset });\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            addEventListener(\"scroll\", this.onScroll, false);\n            this.onScroll();\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            removeEventListener(\"scroll\", this.onScroll, false);\n            this.started = false;\n        }\n    }\n    updatePosition(position) {\n        this.delegate.scrollPositionChanged(position);\n    }\n}\n\nclass StreamMessageRenderer {\n    render({ fragment }) {\n        Bardo.preservingPermanentElements(this, getPermanentElementMapForFragment(fragment), () => document.documentElement.appendChild(fragment));\n    }\n    enteringBardo(currentPermanentElement, newPermanentElement) {\n        newPermanentElement.replaceWith(currentPermanentElement.cloneNode(true));\n    }\n    leavingBardo() { }\n}\nfunction getPermanentElementMapForFragment(fragment) {\n    const permanentElementsInDocument = queryPermanentElementsAll(document.documentElement);\n    const permanentElementMap = {};\n    for (const permanentElementInDocument of permanentElementsInDocument) {\n        const { id } = permanentElementInDocument;\n        for (const streamElement of fragment.querySelectorAll(\"turbo-stream\")) {\n            const elementInStream = getPermanentElementById(streamElement.templateElement.content, id);\n            if (elementInStream) {\n                permanentElementMap[id] = [permanentElementInDocument, elementInStream];\n            }\n        }\n    }\n    return permanentElementMap;\n}\n\nclass StreamObserver {\n    constructor(delegate) {\n        this.sources = new Set();\n        this.started = false;\n        this.inspectFetchResponse = ((event) => {\n            const response = fetchResponseFromEvent(event);\n            if (response && fetchResponseIsStream(response)) {\n                event.preventDefault();\n                this.receiveMessageResponse(response);\n            }\n        });\n        this.receiveMessageEvent = (event) => {\n            if (this.started && typeof event.data == \"string\") {\n                this.receiveMessageHTML(event.data);\n            }\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            addEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            removeEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n        }\n    }\n    connectStreamSource(source) {\n        if (!this.streamSourceIsConnected(source)) {\n            this.sources.add(source);\n            source.addEventListener(\"message\", this.receiveMessageEvent, false);\n        }\n    }\n    disconnectStreamSource(source) {\n        if (this.streamSourceIsConnected(source)) {\n            this.sources.delete(source);\n            source.removeEventListener(\"message\", this.receiveMessageEvent, false);\n        }\n    }\n    streamSourceIsConnected(source) {\n        return this.sources.has(source);\n    }\n    async receiveMessageResponse(response) {\n        const html = await response.responseHTML;\n        if (html) {\n            this.receiveMessageHTML(html);\n        }\n    }\n    receiveMessageHTML(html) {\n        this.delegate.receivedMessageFromStream(StreamMessage.wrap(html));\n    }\n}\nfunction fetchResponseFromEvent(event) {\n    var _a;\n    const fetchResponse = (_a = event.detail) === null || _a === void 0 ? void 0 : _a.fetchResponse;\n    if (fetchResponse instanceof FetchResponse) {\n        return fetchResponse;\n    }\n}\nfunction fetchResponseIsStream(response) {\n    var _a;\n    const contentType = (_a = response.contentType) !== null && _a !== void 0 ? _a : \"\";\n    return contentType.startsWith(StreamMessage.contentType);\n}\n\nclass ErrorRenderer extends Renderer {\n    static renderElement(currentElement, newElement) {\n        const { documentElement, body } = document;\n        documentElement.replaceChild(newElement, body);\n    }\n    async render() {\n        this.replaceHeadAndBody();\n        this.activateScriptElements();\n    }\n    replaceHeadAndBody() {\n        const { documentElement, head } = document;\n        documentElement.replaceChild(this.newHead, head);\n        this.renderElement(this.currentElement, this.newElement);\n    }\n    activateScriptElements() {\n        for (const replaceableElement of this.scriptElements) {\n            const parentNode = replaceableElement.parentNode;\n            if (parentNode) {\n                const element = activateScriptElement(replaceableElement);\n                parentNode.replaceChild(element, replaceableElement);\n            }\n        }\n    }\n    get newHead() {\n        return this.newSnapshot.headSnapshot.element;\n    }\n    get scriptElements() {\n        return document.documentElement.querySelectorAll(\"script\");\n    }\n}\n\nclass PageRenderer extends Renderer {\n    static renderElement(currentElement, newElement) {\n        if (document.body && newElement instanceof HTMLBodyElement) {\n            document.body.replaceWith(newElement);\n        }\n        else {\n            document.documentElement.appendChild(newElement);\n        }\n    }\n    get shouldRender() {\n        return this.newSnapshot.isVisitable && this.trackedElementsAreIdentical;\n    }\n    get reloadReason() {\n        if (!this.newSnapshot.isVisitable) {\n            return {\n                reason: \"turbo_visit_control_is_reload\",\n            };\n        }\n        if (!this.trackedElementsAreIdentical) {\n            return {\n                reason: \"tracked_element_mismatch\",\n            };\n        }\n    }\n    async prepareToRender() {\n        await this.mergeHead();\n    }\n    async render() {\n        if (this.willRender) {\n            await this.replaceBody();\n        }\n    }\n    finishRendering() {\n        super.finishRendering();\n        if (!this.isPreview) {\n            this.focusFirstAutofocusableElement();\n        }\n    }\n    get currentHeadSnapshot() {\n        return this.currentSnapshot.headSnapshot;\n    }\n    get newHeadSnapshot() {\n        return this.newSnapshot.headSnapshot;\n    }\n    get newElement() {\n        return this.newSnapshot.element;\n    }\n    async mergeHead() {\n        const mergedHeadElements = this.mergeProvisionalElements();\n        const newStylesheetElements = this.copyNewHeadStylesheetElements();\n        this.copyNewHeadScriptElements();\n        await mergedHeadElements;\n        await newStylesheetElements;\n    }\n    async replaceBody() {\n        await this.preservingPermanentElements(async () => {\n            this.activateNewBody();\n            await this.assignNewBody();\n        });\n    }\n    get trackedElementsAreIdentical() {\n        return this.currentHeadSnapshot.trackedElementSignature == this.newHeadSnapshot.trackedElementSignature;\n    }\n    async copyNewHeadStylesheetElements() {\n        const loadingElements = [];\n        for (const element of this.newHeadStylesheetElements) {\n            loadingElements.push(waitForLoad(element));\n            document.head.appendChild(element);\n        }\n        await Promise.all(loadingElements);\n    }\n    copyNewHeadScriptElements() {\n        for (const element of this.newHeadScriptElements) {\n            document.head.appendChild(activateScriptElement(element));\n        }\n    }\n    async mergeProvisionalElements() {\n        const newHeadElements = [...this.newHeadProvisionalElements];\n        for (const element of this.currentHeadProvisionalElements) {\n            if (!this.isCurrentElementInElementList(element, newHeadElements)) {\n                document.head.removeChild(element);\n            }\n        }\n        for (const element of newHeadElements) {\n            document.head.appendChild(element);\n        }\n    }\n    isCurrentElementInElementList(element, elementList) {\n        for (const [index, newElement] of elementList.entries()) {\n            if (element.tagName == \"TITLE\") {\n                if (newElement.tagName != \"TITLE\") {\n                    continue;\n                }\n                if (element.innerHTML == newElement.innerHTML) {\n                    elementList.splice(index, 1);\n                    return true;\n                }\n            }\n            if (newElement.isEqualNode(element)) {\n                elementList.splice(index, 1);\n                return true;\n            }\n        }\n        return false;\n    }\n    removeCurrentHeadProvisionalElements() {\n        for (const element of this.currentHeadProvisionalElements) {\n            document.head.removeChild(element);\n        }\n    }\n    copyNewHeadProvisionalElements() {\n        for (const element of this.newHeadProvisionalElements) {\n            document.head.appendChild(element);\n        }\n    }\n    activateNewBody() {\n        document.adoptNode(this.newElement);\n        this.activateNewBodyScriptElements();\n    }\n    activateNewBodyScriptElements() {\n        for (const inertScriptElement of this.newBodyScriptElements) {\n            const activatedScriptElement = activateScriptElement(inertScriptElement);\n            inertScriptElement.replaceWith(activatedScriptElement);\n        }\n    }\n    async assignNewBody() {\n        await this.renderElement(this.currentElement, this.newElement);\n    }\n    get newHeadStylesheetElements() {\n        return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot);\n    }\n    get newHeadScriptElements() {\n        return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot);\n    }\n    get currentHeadProvisionalElements() {\n        return this.currentHeadSnapshot.provisionalElements;\n    }\n    get newHeadProvisionalElements() {\n        return this.newHeadSnapshot.provisionalElements;\n    }\n    get newBodyScriptElements() {\n        return this.newElement.querySelectorAll(\"script\");\n    }\n}\n\nclass SnapshotCache {\n    constructor(size) {\n        this.keys = [];\n        this.snapshots = {};\n        this.size = size;\n    }\n    has(location) {\n        return toCacheKey(location) in this.snapshots;\n    }\n    get(location) {\n        if (this.has(location)) {\n            const snapshot = this.read(location);\n            this.touch(location);\n            return snapshot;\n        }\n    }\n    put(location, snapshot) {\n        this.write(location, snapshot);\n        this.touch(location);\n        return snapshot;\n    }\n    clear() {\n        this.snapshots = {};\n    }\n    read(location) {\n        return this.snapshots[toCacheKey(location)];\n    }\n    write(location, snapshot) {\n        this.snapshots[toCacheKey(location)] = snapshot;\n    }\n    touch(location) {\n        const key = toCacheKey(location);\n        const index = this.keys.indexOf(key);\n        if (index > -1)\n            this.keys.splice(index, 1);\n        this.keys.unshift(key);\n        this.trim();\n    }\n    trim() {\n        for (const key of this.keys.splice(this.size)) {\n            delete this.snapshots[key];\n        }\n    }\n}\n\nclass PageView extends View {\n    constructor() {\n        super(...arguments);\n        this.snapshotCache = new SnapshotCache(10);\n        this.lastRenderedLocation = new URL(location.href);\n        this.forceReloaded = false;\n    }\n    renderPage(snapshot, isPreview = false, willRender = true, visit) {\n        const renderer = new PageRenderer(this.snapshot, snapshot, PageRenderer.renderElement, isPreview, willRender);\n        if (!renderer.shouldRender) {\n            this.forceReloaded = true;\n        }\n        else {\n            visit === null || visit === void 0 ? void 0 : visit.changeHistory();\n        }\n        return this.render(renderer);\n    }\n    renderError(snapshot, visit) {\n        visit === null || visit === void 0 ? void 0 : visit.changeHistory();\n        const renderer = new ErrorRenderer(this.snapshot, snapshot, ErrorRenderer.renderElement, false);\n        return this.render(renderer);\n    }\n    clearSnapshotCache() {\n        this.snapshotCache.clear();\n    }\n    async cacheSnapshot(snapshot = this.snapshot) {\n        if (snapshot.isCacheable) {\n            this.delegate.viewWillCacheSnapshot();\n            const { lastRenderedLocation: location } = this;\n            await nextEventLoopTick();\n            const cachedSnapshot = snapshot.clone();\n            this.snapshotCache.put(location, cachedSnapshot);\n            return cachedSnapshot;\n        }\n    }\n    getCachedSnapshotForLocation(location) {\n        return this.snapshotCache.get(location);\n    }\n    get snapshot() {\n        return PageSnapshot.fromElement(this.element);\n    }\n}\n\nclass Preloader {\n    constructor(delegate) {\n        this.selector = \"a[data-turbo-preload]\";\n        this.delegate = delegate;\n    }\n    get snapshotCache() {\n        return this.delegate.navigator.view.snapshotCache;\n    }\n    start() {\n        if (document.readyState === \"loading\") {\n            return document.addEventListener(\"DOMContentLoaded\", () => {\n                this.preloadOnLoadLinksForView(document.body);\n            });\n        }\n        else {\n            this.preloadOnLoadLinksForView(document.body);\n        }\n    }\n    preloadOnLoadLinksForView(element) {\n        for (const link of element.querySelectorAll(this.selector)) {\n            this.preloadURL(link);\n        }\n    }\n    async preloadURL(link) {\n        const location = new URL(link.href);\n        if (this.snapshotCache.has(location)) {\n            return;\n        }\n        try {\n            const response = await fetch(location.toString(), { headers: { \"VND.PREFETCH\": \"true\", Accept: \"text/html\" } });\n            const responseText = await response.text();\n            const snapshot = PageSnapshot.fromHTMLString(responseText);\n            this.snapshotCache.put(location, snapshot);\n        }\n        catch (_) {\n        }\n    }\n}\n\nclass Session {\n    constructor() {\n        this.navigator = new Navigator(this);\n        this.history = new History(this);\n        this.preloader = new Preloader(this);\n        this.view = new PageView(this, document.documentElement);\n        this.adapter = new BrowserAdapter(this);\n        this.pageObserver = new PageObserver(this);\n        this.cacheObserver = new CacheObserver();\n        this.linkClickObserver = new LinkClickObserver(this, window);\n        this.formSubmitObserver = new FormSubmitObserver(this, document);\n        this.scrollObserver = new ScrollObserver(this);\n        this.streamObserver = new StreamObserver(this);\n        this.formLinkClickObserver = new FormLinkClickObserver(this, document.documentElement);\n        this.frameRedirector = new FrameRedirector(this, document.documentElement);\n        this.streamMessageRenderer = new StreamMessageRenderer();\n        this.drive = true;\n        this.enabled = true;\n        this.progressBarDelay = 500;\n        this.started = false;\n        this.formMode = \"on\";\n    }\n    start() {\n        if (!this.started) {\n            this.pageObserver.start();\n            this.cacheObserver.start();\n            this.formLinkClickObserver.start();\n            this.linkClickObserver.start();\n            this.formSubmitObserver.start();\n            this.scrollObserver.start();\n            this.streamObserver.start();\n            this.frameRedirector.start();\n            this.history.start();\n            this.preloader.start();\n            this.started = true;\n            this.enabled = true;\n        }\n    }\n    disable() {\n        this.enabled = false;\n    }\n    stop() {\n        if (this.started) {\n            this.pageObserver.stop();\n            this.cacheObserver.stop();\n            this.formLinkClickObserver.stop();\n            this.linkClickObserver.stop();\n            this.formSubmitObserver.stop();\n            this.scrollObserver.stop();\n            this.streamObserver.stop();\n            this.frameRedirector.stop();\n            this.history.stop();\n            this.started = false;\n        }\n    }\n    registerAdapter(adapter) {\n        this.adapter = adapter;\n    }\n    visit(location, options = {}) {\n        const frameElement = options.frame ? document.getElementById(options.frame) : null;\n        if (frameElement instanceof FrameElement) {\n            frameElement.src = location.toString();\n            frameElement.loaded;\n        }\n        else {\n            this.navigator.proposeVisit(expandURL(location), options);\n        }\n    }\n    connectStreamSource(source) {\n        this.streamObserver.connectStreamSource(source);\n    }\n    disconnectStreamSource(source) {\n        this.streamObserver.disconnectStreamSource(source);\n    }\n    renderStreamMessage(message) {\n        this.streamMessageRenderer.render(StreamMessage.wrap(message));\n    }\n    clearCache() {\n        this.view.clearSnapshotCache();\n    }\n    setProgressBarDelay(delay) {\n        this.progressBarDelay = delay;\n    }\n    setFormMode(mode) {\n        this.formMode = mode;\n    }\n    get location() {\n        return this.history.location;\n    }\n    get restorationIdentifier() {\n        return this.history.restorationIdentifier;\n    }\n    historyPoppedToLocationWithRestorationIdentifier(location, restorationIdentifier) {\n        if (this.enabled) {\n            this.navigator.startVisit(location, restorationIdentifier, {\n                action: \"restore\",\n                historyChanged: true,\n            });\n        }\n        else {\n            this.adapter.pageInvalidated({\n                reason: \"turbo_disabled\",\n            });\n        }\n    }\n    scrollPositionChanged(position) {\n        this.history.updateRestorationData({ scrollPosition: position });\n    }\n    willSubmitFormLinkToLocation(link, location) {\n        return this.elementIsNavigatable(link) && locationIsVisitable(location, this.snapshot.rootLocation);\n    }\n    submittedFormLinkToLocation() { }\n    willFollowLinkToLocation(link, location, event) {\n        return (this.elementIsNavigatable(link) &&\n            locationIsVisitable(location, this.snapshot.rootLocation) &&\n            this.applicationAllowsFollowingLinkToLocation(link, location, event));\n    }\n    followedLinkToLocation(link, location) {\n        const action = this.getActionForLink(link);\n        const acceptsStreamResponse = link.hasAttribute(\"data-turbo-stream\");\n        this.visit(location.href, { action, acceptsStreamResponse });\n    }\n    allowsVisitingLocationWithAction(location, action) {\n        return this.locationWithActionIsSamePage(location, action) || this.applicationAllowsVisitingLocation(location);\n    }\n    visitProposedToLocation(location, options) {\n        extendURLWithDeprecatedProperties(location);\n        this.adapter.visitProposedToLocation(location, options);\n    }\n    visitStarted(visit) {\n        if (!visit.acceptsStreamResponse) {\n            markAsBusy(document.documentElement);\n        }\n        extendURLWithDeprecatedProperties(visit.location);\n        if (!visit.silent) {\n            this.notifyApplicationAfterVisitingLocation(visit.location, visit.action);\n        }\n    }\n    visitCompleted(visit) {\n        clearBusyState(document.documentElement);\n        this.notifyApplicationAfterPageLoad(visit.getTimingMetrics());\n    }\n    locationWithActionIsSamePage(location, action) {\n        return this.navigator.locationWithActionIsSamePage(location, action);\n    }\n    visitScrolledToSamePageLocation(oldURL, newURL) {\n        this.notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL);\n    }\n    willSubmitForm(form, submitter) {\n        const action = getAction(form, submitter);\n        return (this.submissionIsNavigatable(form, submitter) &&\n            locationIsVisitable(expandURL(action), this.snapshot.rootLocation));\n    }\n    formSubmitted(form, submitter) {\n        this.navigator.submitForm(form, submitter);\n    }\n    pageBecameInteractive() {\n        this.view.lastRenderedLocation = this.location;\n        this.notifyApplicationAfterPageLoad();\n    }\n    pageLoaded() {\n        this.history.assumeControlOfScrollRestoration();\n    }\n    pageWillUnload() {\n        this.history.relinquishControlOfScrollRestoration();\n    }\n    receivedMessageFromStream(message) {\n        this.renderStreamMessage(message);\n    }\n    viewWillCacheSnapshot() {\n        var _a;\n        if (!((_a = this.navigator.currentVisit) === null || _a === void 0 ? void 0 : _a.silent)) {\n            this.notifyApplicationBeforeCachingSnapshot();\n        }\n    }\n    allowsImmediateRender({ element }, options) {\n        const event = this.notifyApplicationBeforeRender(element, options);\n        const { defaultPrevented, detail: { render }, } = event;\n        if (this.view.renderer && render) {\n            this.view.renderer.renderElement = render;\n        }\n        return !defaultPrevented;\n    }\n    viewRenderedSnapshot(_snapshot, _isPreview) {\n        this.view.lastRenderedLocation = this.history.location;\n        this.notifyApplicationAfterRender();\n    }\n    preloadOnLoadLinksForView(element) {\n        this.preloader.preloadOnLoadLinksForView(element);\n    }\n    viewInvalidated(reason) {\n        this.adapter.pageInvalidated(reason);\n    }\n    frameLoaded(frame) {\n        this.notifyApplicationAfterFrameLoad(frame);\n    }\n    frameRendered(fetchResponse, frame) {\n        this.notifyApplicationAfterFrameRender(fetchResponse, frame);\n    }\n    applicationAllowsFollowingLinkToLocation(link, location, ev) {\n        const event = this.notifyApplicationAfterClickingLinkToLocation(link, location, ev);\n        return !event.defaultPrevented;\n    }\n    applicationAllowsVisitingLocation(location) {\n        const event = this.notifyApplicationBeforeVisitingLocation(location);\n        return !event.defaultPrevented;\n    }\n    notifyApplicationAfterClickingLinkToLocation(link, location, event) {\n        return dispatch(\"turbo:click\", {\n            target: link,\n            detail: { url: location.href, originalEvent: event },\n            cancelable: true,\n        });\n    }\n    notifyApplicationBeforeVisitingLocation(location) {\n        return dispatch(\"turbo:before-visit\", {\n            detail: { url: location.href },\n            cancelable: true,\n        });\n    }\n    notifyApplicationAfterVisitingLocation(location, action) {\n        return dispatch(\"turbo:visit\", { detail: { url: location.href, action } });\n    }\n    notifyApplicationBeforeCachingSnapshot() {\n        return dispatch(\"turbo:before-cache\");\n    }\n    notifyApplicationBeforeRender(newBody, options) {\n        return dispatch(\"turbo:before-render\", {\n            detail: Object.assign({ newBody }, options),\n            cancelable: true,\n        });\n    }\n    notifyApplicationAfterRender() {\n        return dispatch(\"turbo:render\");\n    }\n    notifyApplicationAfterPageLoad(timing = {}) {\n        return dispatch(\"turbo:load\", {\n            detail: { url: this.location.href, timing },\n        });\n    }\n    notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL) {\n        dispatchEvent(new HashChangeEvent(\"hashchange\", {\n            oldURL: oldURL.toString(),\n            newURL: newURL.toString(),\n        }));\n    }\n    notifyApplicationAfterFrameLoad(frame) {\n        return dispatch(\"turbo:frame-load\", { target: frame });\n    }\n    notifyApplicationAfterFrameRender(fetchResponse, frame) {\n        return dispatch(\"turbo:frame-render\", {\n            detail: { fetchResponse },\n            target: frame,\n            cancelable: true,\n        });\n    }\n    submissionIsNavigatable(form, submitter) {\n        if (this.formMode == \"off\") {\n            return false;\n        }\n        else {\n            const submitterIsNavigatable = submitter ? this.elementIsNavigatable(submitter) : true;\n            if (this.formMode == \"optin\") {\n                return submitterIsNavigatable && form.closest('[data-turbo=\"true\"]') != null;\n            }\n            else {\n                return submitterIsNavigatable && this.elementIsNavigatable(form);\n            }\n        }\n    }\n    elementIsNavigatable(element) {\n        const container = findClosestRecursively(element, \"[data-turbo]\");\n        const withinFrame = findClosestRecursively(element, \"turbo-frame\");\n        if (this.drive || withinFrame) {\n            if (container) {\n                return container.getAttribute(\"data-turbo\") != \"false\";\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            if (container) {\n                return container.getAttribute(\"data-turbo\") == \"true\";\n            }\n            else {\n                return false;\n            }\n        }\n    }\n    getActionForLink(link) {\n        return getVisitAction(link) || \"advance\";\n    }\n    get snapshot() {\n        return this.view.snapshot;\n    }\n}\nfunction extendURLWithDeprecatedProperties(url) {\n    Object.defineProperties(url, deprecatedLocationPropertyDescriptors);\n}\nconst deprecatedLocationPropertyDescriptors = {\n    absoluteURL: {\n        get() {\n            return this.toString();\n        },\n    },\n};\n\nclass Cache {\n    constructor(session) {\n        this.session = session;\n    }\n    clear() {\n        this.session.clearCache();\n    }\n    resetCacheControl() {\n        this.setCacheControl(\"\");\n    }\n    exemptPageFromCache() {\n        this.setCacheControl(\"no-cache\");\n    }\n    exemptPageFromPreview() {\n        this.setCacheControl(\"no-preview\");\n    }\n    setCacheControl(value) {\n        setMetaContent(\"turbo-cache-control\", value);\n    }\n}\n\nconst StreamActions = {\n    after() {\n        this.targetElements.forEach((e) => { var _a; return (_a = e.parentElement) === null || _a === void 0 ? void 0 : _a.insertBefore(this.templateContent, e.nextSibling); });\n    },\n    append() {\n        this.removeDuplicateTargetChildren();\n        this.targetElements.forEach((e) => e.append(this.templateContent));\n    },\n    before() {\n        this.targetElements.forEach((e) => { var _a; return (_a = e.parentElement) === null || _a === void 0 ? void 0 : _a.insertBefore(this.templateContent, e); });\n    },\n    prepend() {\n        this.removeDuplicateTargetChildren();\n        this.targetElements.forEach((e) => e.prepend(this.templateContent));\n    },\n    remove() {\n        this.targetElements.forEach((e) => e.remove());\n    },\n    replace() {\n        this.targetElements.forEach((e) => e.replaceWith(this.templateContent));\n    },\n    update() {\n        this.targetElements.forEach((targetElement) => {\n            targetElement.innerHTML = \"\";\n            targetElement.append(this.templateContent);\n        });\n    },\n};\n\nconst session = new Session();\nconst cache = new Cache(session);\nconst { navigator: navigator$1 } = session;\nfunction start() {\n    session.start();\n}\nfunction registerAdapter(adapter) {\n    session.registerAdapter(adapter);\n}\nfunction visit(location, options) {\n    session.visit(location, options);\n}\nfunction connectStreamSource(source) {\n    session.connectStreamSource(source);\n}\nfunction disconnectStreamSource(source) {\n    session.disconnectStreamSource(source);\n}\nfunction renderStreamMessage(message) {\n    session.renderStreamMessage(message);\n}\nfunction clearCache() {\n    console.warn(\"Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`\");\n    session.clearCache();\n}\nfunction setProgressBarDelay(delay) {\n    session.setProgressBarDelay(delay);\n}\nfunction setConfirmMethod(confirmMethod) {\n    FormSubmission.confirmMethod = confirmMethod;\n}\nfunction setFormMode(mode) {\n    session.setFormMode(mode);\n}\n\nvar Turbo = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    navigator: navigator$1,\n    session: session,\n    cache: cache,\n    PageRenderer: PageRenderer,\n    PageSnapshot: PageSnapshot,\n    FrameRenderer: FrameRenderer,\n    start: start,\n    registerAdapter: registerAdapter,\n    visit: visit,\n    connectStreamSource: connectStreamSource,\n    disconnectStreamSource: disconnectStreamSource,\n    renderStreamMessage: renderStreamMessage,\n    clearCache: clearCache,\n    setProgressBarDelay: setProgressBarDelay,\n    setConfirmMethod: setConfirmMethod,\n    setFormMode: setFormMode,\n    StreamActions: StreamActions\n});\n\nclass TurboFrameMissingError extends Error {\n}\n\nclass FrameController {\n    constructor(element) {\n        this.fetchResponseLoaded = (_fetchResponse) => { };\n        this.currentFetchRequest = null;\n        this.resolveVisitPromise = () => { };\n        this.connected = false;\n        this.hasBeenLoaded = false;\n        this.ignoredAttributes = new Set();\n        this.action = null;\n        this.visitCachedSnapshot = ({ element }) => {\n            const frame = element.querySelector(\"#\" + this.element.id);\n            if (frame && this.previousFrameElement) {\n                frame.replaceChildren(...this.previousFrameElement.children);\n            }\n            delete this.previousFrameElement;\n        };\n        this.element = element;\n        this.view = new FrameView(this, this.element);\n        this.appearanceObserver = new AppearanceObserver(this, this.element);\n        this.formLinkClickObserver = new FormLinkClickObserver(this, this.element);\n        this.linkInterceptor = new LinkInterceptor(this, this.element);\n        this.restorationIdentifier = uuid();\n        this.formSubmitObserver = new FormSubmitObserver(this, this.element);\n    }\n    connect() {\n        if (!this.connected) {\n            this.connected = true;\n            if (this.loadingStyle == FrameLoadingStyle.lazy) {\n                this.appearanceObserver.start();\n            }\n            else {\n                this.loadSourceURL();\n            }\n            this.formLinkClickObserver.start();\n            this.linkInterceptor.start();\n            this.formSubmitObserver.start();\n        }\n    }\n    disconnect() {\n        if (this.connected) {\n            this.connected = false;\n            this.appearanceObserver.stop();\n            this.formLinkClickObserver.stop();\n            this.linkInterceptor.stop();\n            this.formSubmitObserver.stop();\n        }\n    }\n    disabledChanged() {\n        if (this.loadingStyle == FrameLoadingStyle.eager) {\n            this.loadSourceURL();\n        }\n    }\n    sourceURLChanged() {\n        if (this.isIgnoringChangesTo(\"src\"))\n            return;\n        if (this.element.isConnected) {\n            this.complete = false;\n        }\n        if (this.loadingStyle == FrameLoadingStyle.eager || this.hasBeenLoaded) {\n            this.loadSourceURL();\n        }\n    }\n    sourceURLReloaded() {\n        const { src } = this.element;\n        this.ignoringChangesToAttribute(\"complete\", () => {\n            this.element.removeAttribute(\"complete\");\n        });\n        this.element.src = null;\n        this.element.src = src;\n        return this.element.loaded;\n    }\n    completeChanged() {\n        if (this.isIgnoringChangesTo(\"complete\"))\n            return;\n        this.loadSourceURL();\n    }\n    loadingStyleChanged() {\n        if (this.loadingStyle == FrameLoadingStyle.lazy) {\n            this.appearanceObserver.start();\n        }\n        else {\n            this.appearanceObserver.stop();\n            this.loadSourceURL();\n        }\n    }\n    async loadSourceURL() {\n        if (this.enabled && this.isActive && !this.complete && this.sourceURL) {\n            this.element.loaded = this.visit(expandURL(this.sourceURL));\n            this.appearanceObserver.stop();\n            await this.element.loaded;\n            this.hasBeenLoaded = true;\n        }\n    }\n    async loadResponse(fetchResponse) {\n        if (fetchResponse.redirected || (fetchResponse.succeeded && fetchResponse.isHTML)) {\n            this.sourceURL = fetchResponse.response.url;\n        }\n        try {\n            const html = await fetchResponse.responseHTML;\n            if (html) {\n                const document = parseHTMLDocument(html);\n                const pageSnapshot = PageSnapshot.fromDocument(document);\n                if (pageSnapshot.isVisitable) {\n                    await this.loadFrameResponse(fetchResponse, document);\n                }\n                else {\n                    await this.handleUnvisitableFrameResponse(fetchResponse);\n                }\n            }\n        }\n        finally {\n            this.fetchResponseLoaded = () => { };\n        }\n    }\n    elementAppearedInViewport(element) {\n        this.proposeVisitIfNavigatedWithAction(element, element);\n        this.loadSourceURL();\n    }\n    willSubmitFormLinkToLocation(link) {\n        return this.shouldInterceptNavigation(link);\n    }\n    submittedFormLinkToLocation(link, _location, form) {\n        const frame = this.findFrameElement(link);\n        if (frame)\n            form.setAttribute(\"data-turbo-frame\", frame.id);\n    }\n    shouldInterceptLinkClick(element, _location, _event) {\n        return this.shouldInterceptNavigation(element);\n    }\n    linkClickIntercepted(element, location) {\n        this.navigateFrame(element, location);\n    }\n    willSubmitForm(element, submitter) {\n        return element.closest(\"turbo-frame\") == this.element && this.shouldInterceptNavigation(element, submitter);\n    }\n    formSubmitted(element, submitter) {\n        if (this.formSubmission) {\n            this.formSubmission.stop();\n        }\n        this.formSubmission = new FormSubmission(this, element, submitter);\n        const { fetchRequest } = this.formSubmission;\n        this.prepareRequest(fetchRequest);\n        this.formSubmission.start();\n    }\n    prepareRequest(request) {\n        var _a;\n        request.headers[\"Turbo-Frame\"] = this.id;\n        if ((_a = this.currentNavigationElement) === null || _a === void 0 ? void 0 : _a.hasAttribute(\"data-turbo-stream\")) {\n            request.acceptResponseType(StreamMessage.contentType);\n        }\n    }\n    requestStarted(_request) {\n        markAsBusy(this.element);\n    }\n    requestPreventedHandlingResponse(_request, _response) {\n        this.resolveVisitPromise();\n    }\n    async requestSucceededWithResponse(request, response) {\n        await this.loadResponse(response);\n        this.resolveVisitPromise();\n    }\n    async requestFailedWithResponse(request, response) {\n        await this.loadResponse(response);\n        this.resolveVisitPromise();\n    }\n    requestErrored(request, error) {\n        console.error(error);\n        this.resolveVisitPromise();\n    }\n    requestFinished(_request) {\n        clearBusyState(this.element);\n    }\n    formSubmissionStarted({ formElement }) {\n        markAsBusy(formElement, this.findFrameElement(formElement));\n    }\n    formSubmissionSucceededWithResponse(formSubmission, response) {\n        const frame = this.findFrameElement(formSubmission.formElement, formSubmission.submitter);\n        frame.delegate.proposeVisitIfNavigatedWithAction(frame, formSubmission.formElement, formSubmission.submitter);\n        frame.delegate.loadResponse(response);\n        if (!formSubmission.isSafe) {\n            session.clearCache();\n        }\n    }\n    formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n        this.element.delegate.loadResponse(fetchResponse);\n        session.clearCache();\n    }\n    formSubmissionErrored(formSubmission, error) {\n        console.error(error);\n    }\n    formSubmissionFinished({ formElement }) {\n        clearBusyState(formElement, this.findFrameElement(formElement));\n    }\n    allowsImmediateRender({ element: newFrame }, options) {\n        const event = dispatch(\"turbo:before-frame-render\", {\n            target: this.element,\n            detail: Object.assign({ newFrame }, options),\n            cancelable: true,\n        });\n        const { defaultPrevented, detail: { render }, } = event;\n        if (this.view.renderer && render) {\n            this.view.renderer.renderElement = render;\n        }\n        return !defaultPrevented;\n    }\n    viewRenderedSnapshot(_snapshot, _isPreview) { }\n    preloadOnLoadLinksForView(element) {\n        session.preloadOnLoadLinksForView(element);\n    }\n    viewInvalidated() { }\n    willRenderFrame(currentElement, _newElement) {\n        this.previousFrameElement = currentElement.cloneNode(true);\n    }\n    async loadFrameResponse(fetchResponse, document) {\n        const newFrameElement = await this.extractForeignFrameElement(document.body);\n        if (newFrameElement) {\n            const snapshot = new Snapshot(newFrameElement);\n            const renderer = new FrameRenderer(this, this.view.snapshot, snapshot, FrameRenderer.renderElement, false, false);\n            if (this.view.renderPromise)\n                await this.view.renderPromise;\n            this.changeHistory();\n            await this.view.render(renderer);\n            this.complete = true;\n            session.frameRendered(fetchResponse, this.element);\n            session.frameLoaded(this.element);\n            this.fetchResponseLoaded(fetchResponse);\n        }\n        else if (this.willHandleFrameMissingFromResponse(fetchResponse)) {\n            this.handleFrameMissingFromResponse(fetchResponse);\n        }\n    }\n    async visit(url) {\n        var _a;\n        const request = new FetchRequest(this, FetchMethod.get, url, new URLSearchParams(), this.element);\n        (_a = this.currentFetchRequest) === null || _a === void 0 ? void 0 : _a.cancel();\n        this.currentFetchRequest = request;\n        return new Promise((resolve) => {\n            this.resolveVisitPromise = () => {\n                this.resolveVisitPromise = () => { };\n                this.currentFetchRequest = null;\n                resolve();\n            };\n            request.perform();\n        });\n    }\n    navigateFrame(element, url, submitter) {\n        const frame = this.findFrameElement(element, submitter);\n        frame.delegate.proposeVisitIfNavigatedWithAction(frame, element, submitter);\n        this.withCurrentNavigationElement(element, () => {\n            frame.src = url;\n        });\n    }\n    proposeVisitIfNavigatedWithAction(frame, element, submitter) {\n        this.action = getVisitAction(submitter, element, frame);\n        if (this.action) {\n            const pageSnapshot = PageSnapshot.fromElement(frame).clone();\n            const { visitCachedSnapshot } = frame.delegate;\n            frame.delegate.fetchResponseLoaded = (fetchResponse) => {\n                if (frame.src) {\n                    const { statusCode, redirected } = fetchResponse;\n                    const responseHTML = frame.ownerDocument.documentElement.outerHTML;\n                    const response = { statusCode, redirected, responseHTML };\n                    const options = {\n                        response,\n                        visitCachedSnapshot,\n                        willRender: false,\n                        updateHistory: false,\n                        restorationIdentifier: this.restorationIdentifier,\n                        snapshot: pageSnapshot,\n                    };\n                    if (this.action)\n                        options.action = this.action;\n                    session.visit(frame.src, options);\n                }\n            };\n        }\n    }\n    changeHistory() {\n        if (this.action) {\n            const method = getHistoryMethodForAction(this.action);\n            session.history.update(method, expandURL(this.element.src || \"\"), this.restorationIdentifier);\n        }\n    }\n    async handleUnvisitableFrameResponse(fetchResponse) {\n        console.warn(`The response (${fetchResponse.statusCode}) from <turbo-frame id=\"${this.element.id}\"> is performing a full page visit due to turbo-visit-control.`);\n        await this.visitResponse(fetchResponse.response);\n    }\n    willHandleFrameMissingFromResponse(fetchResponse) {\n        this.element.setAttribute(\"complete\", \"\");\n        const response = fetchResponse.response;\n        const visit = async (url, options = {}) => {\n            if (url instanceof Response) {\n                this.visitResponse(url);\n            }\n            else {\n                session.visit(url, options);\n            }\n        };\n        const event = dispatch(\"turbo:frame-missing\", {\n            target: this.element,\n            detail: { response, visit },\n            cancelable: true,\n        });\n        return !event.defaultPrevented;\n    }\n    handleFrameMissingFromResponse(fetchResponse) {\n        this.view.missing();\n        this.throwFrameMissingError(fetchResponse);\n    }\n    throwFrameMissingError(fetchResponse) {\n        const message = `The response (${fetchResponse.statusCode}) did not contain the expected <turbo-frame id=\"${this.element.id}\"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;\n        throw new TurboFrameMissingError(message);\n    }\n    async visitResponse(response) {\n        const wrapped = new FetchResponse(response);\n        const responseHTML = await wrapped.responseHTML;\n        const { location, redirected, statusCode } = wrapped;\n        return session.visit(location, { response: { redirected, statusCode, responseHTML } });\n    }\n    findFrameElement(element, submitter) {\n        var _a;\n        const id = getAttribute(\"data-turbo-frame\", submitter, element) || this.element.getAttribute(\"target\");\n        return (_a = getFrameElementById(id)) !== null && _a !== void 0 ? _a : this.element;\n    }\n    async extractForeignFrameElement(container) {\n        let element;\n        const id = CSS.escape(this.id);\n        try {\n            element = activateElement(container.querySelector(`turbo-frame#${id}`), this.sourceURL);\n            if (element) {\n                return element;\n            }\n            element = activateElement(container.querySelector(`turbo-frame[src][recurse~=${id}]`), this.sourceURL);\n            if (element) {\n                await element.loaded;\n                return await this.extractForeignFrameElement(element);\n            }\n        }\n        catch (error) {\n            console.error(error);\n            return new FrameElement();\n        }\n        return null;\n    }\n    formActionIsVisitable(form, submitter) {\n        const action = getAction(form, submitter);\n        return locationIsVisitable(expandURL(action), this.rootLocation);\n    }\n    shouldInterceptNavigation(element, submitter) {\n        const id = getAttribute(\"data-turbo-frame\", submitter, element) || this.element.getAttribute(\"target\");\n        if (element instanceof HTMLFormElement && !this.formActionIsVisitable(element, submitter)) {\n            return false;\n        }\n        if (!this.enabled || id == \"_top\") {\n            return false;\n        }\n        if (id) {\n            const frameElement = getFrameElementById(id);\n            if (frameElement) {\n                return !frameElement.disabled;\n            }\n        }\n        if (!session.elementIsNavigatable(element)) {\n            return false;\n        }\n        if (submitter && !session.elementIsNavigatable(submitter)) {\n            return false;\n        }\n        return true;\n    }\n    get id() {\n        return this.element.id;\n    }\n    get enabled() {\n        return !this.element.disabled;\n    }\n    get sourceURL() {\n        if (this.element.src) {\n            return this.element.src;\n        }\n    }\n    set sourceURL(sourceURL) {\n        this.ignoringChangesToAttribute(\"src\", () => {\n            this.element.src = sourceURL !== null && sourceURL !== void 0 ? sourceURL : null;\n        });\n    }\n    get loadingStyle() {\n        return this.element.loading;\n    }\n    get isLoading() {\n        return this.formSubmission !== undefined || this.resolveVisitPromise() !== undefined;\n    }\n    get complete() {\n        return this.element.hasAttribute(\"complete\");\n    }\n    set complete(value) {\n        this.ignoringChangesToAttribute(\"complete\", () => {\n            if (value) {\n                this.element.setAttribute(\"complete\", \"\");\n            }\n            else {\n                this.element.removeAttribute(\"complete\");\n            }\n        });\n    }\n    get isActive() {\n        return this.element.isActive && this.connected;\n    }\n    get rootLocation() {\n        var _a;\n        const meta = this.element.ownerDocument.querySelector(`meta[name=\"turbo-root\"]`);\n        const root = (_a = meta === null || meta === void 0 ? void 0 : meta.content) !== null && _a !== void 0 ? _a : \"/\";\n        return expandURL(root);\n    }\n    isIgnoringChangesTo(attributeName) {\n        return this.ignoredAttributes.has(attributeName);\n    }\n    ignoringChangesToAttribute(attributeName, callback) {\n        this.ignoredAttributes.add(attributeName);\n        callback();\n        this.ignoredAttributes.delete(attributeName);\n    }\n    withCurrentNavigationElement(element, callback) {\n        this.currentNavigationElement = element;\n        callback();\n        delete this.currentNavigationElement;\n    }\n}\nfunction getFrameElementById(id) {\n    if (id != null) {\n        const element = document.getElementById(id);\n        if (element instanceof FrameElement) {\n            return element;\n        }\n    }\n}\nfunction activateElement(element, currentURL) {\n    if (element) {\n        const src = element.getAttribute(\"src\");\n        if (src != null && currentURL != null && urlsAreEqual(src, currentURL)) {\n            throw new Error(`Matching <turbo-frame id=\"${element.id}\"> element has a source URL which references itself`);\n        }\n        if (element.ownerDocument !== document) {\n            element = document.importNode(element, true);\n        }\n        if (element instanceof FrameElement) {\n            element.connectedCallback();\n            element.disconnectedCallback();\n            return element;\n        }\n    }\n}\n\nclass StreamElement extends HTMLElement {\n    static async renderElement(newElement) {\n        await newElement.performAction();\n    }\n    async connectedCallback() {\n        try {\n            await this.render();\n        }\n        catch (error) {\n            console.error(error);\n        }\n        finally {\n            this.disconnect();\n        }\n    }\n    async render() {\n        var _a;\n        return ((_a = this.renderPromise) !== null && _a !== void 0 ? _a : (this.renderPromise = (async () => {\n            const event = this.beforeRenderEvent;\n            if (this.dispatchEvent(event)) {\n                await nextAnimationFrame();\n                await event.detail.render(this);\n            }\n        })()));\n    }\n    disconnect() {\n        try {\n            this.remove();\n        }\n        catch (_a) { }\n    }\n    removeDuplicateTargetChildren() {\n        this.duplicateChildren.forEach((c) => c.remove());\n    }\n    get duplicateChildren() {\n        var _a;\n        const existingChildren = this.targetElements.flatMap((e) => [...e.children]).filter((c) => !!c.id);\n        const newChildrenIds = [...(((_a = this.templateContent) === null || _a === void 0 ? void 0 : _a.children) || [])].filter((c) => !!c.id).map((c) => c.id);\n        return existingChildren.filter((c) => newChildrenIds.includes(c.id));\n    }\n    get performAction() {\n        if (this.action) {\n            const actionFunction = StreamActions[this.action];\n            if (actionFunction) {\n                return actionFunction;\n            }\n            this.raise(\"unknown action\");\n        }\n        this.raise(\"action attribute is missing\");\n    }\n    get targetElements() {\n        if (this.target) {\n            return this.targetElementsById;\n        }\n        else if (this.targets) {\n            return this.targetElementsByQuery;\n        }\n        else {\n            this.raise(\"target or targets attribute is missing\");\n        }\n    }\n    get templateContent() {\n        return this.templateElement.content.cloneNode(true);\n    }\n    get templateElement() {\n        if (this.firstElementChild === null) {\n            const template = this.ownerDocument.createElement(\"template\");\n            this.appendChild(template);\n            return template;\n        }\n        else if (this.firstElementChild instanceof HTMLTemplateElement) {\n            return this.firstElementChild;\n        }\n        this.raise(\"first child element must be a <template> element\");\n    }\n    get action() {\n        return this.getAttribute(\"action\");\n    }\n    get target() {\n        return this.getAttribute(\"target\");\n    }\n    get targets() {\n        return this.getAttribute(\"targets\");\n    }\n    raise(message) {\n        throw new Error(`${this.description}: ${message}`);\n    }\n    get description() {\n        var _a, _b;\n        return (_b = ((_a = this.outerHTML.match(/<[^>]+>/)) !== null && _a !== void 0 ? _a : [])[0]) !== null && _b !== void 0 ? _b : \"<turbo-stream>\";\n    }\n    get beforeRenderEvent() {\n        return new CustomEvent(\"turbo:before-stream-render\", {\n            bubbles: true,\n            cancelable: true,\n            detail: { newStream: this, render: StreamElement.renderElement },\n        });\n    }\n    get targetElementsById() {\n        var _a;\n        const element = (_a = this.ownerDocument) === null || _a === void 0 ? void 0 : _a.getElementById(this.target);\n        if (element !== null) {\n            return [element];\n        }\n        else {\n            return [];\n        }\n    }\n    get targetElementsByQuery() {\n        var _a;\n        const elements = (_a = this.ownerDocument) === null || _a === void 0 ? void 0 : _a.querySelectorAll(this.targets);\n        if (elements.length !== 0) {\n            return Array.prototype.slice.call(elements);\n        }\n        else {\n            return [];\n        }\n    }\n}\n\nclass StreamSourceElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        this.streamSource = null;\n    }\n    connectedCallback() {\n        this.streamSource = this.src.match(/^ws{1,2}:/) ? new WebSocket(this.src) : new EventSource(this.src);\n        connectStreamSource(this.streamSource);\n    }\n    disconnectedCallback() {\n        if (this.streamSource) {\n            disconnectStreamSource(this.streamSource);\n        }\n    }\n    get src() {\n        return this.getAttribute(\"src\") || \"\";\n    }\n}\n\nFrameElement.delegateConstructor = FrameController;\nif (customElements.get(\"turbo-frame\") === undefined) {\n    customElements.define(\"turbo-frame\", FrameElement);\n}\nif (customElements.get(\"turbo-stream\") === undefined) {\n    customElements.define(\"turbo-stream\", StreamElement);\n}\nif (customElements.get(\"turbo-stream-source\") === undefined) {\n    customElements.define(\"turbo-stream-source\", StreamSourceElement);\n}\n\n(() => {\n    let element = document.currentScript;\n    if (!element)\n        return;\n    if (element.hasAttribute(\"data-turbo-suppress-warning\"))\n        return;\n    element = element.parentElement;\n    while (element) {\n        if (element == document.body) {\n            return console.warn(unindent `\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements\n\n        \u2014\u2014\n        Suppress this warning by adding a \"data-turbo-suppress-warning\" attribute to: %s\n      `, element.outerHTML);\n        }\n        element = element.parentElement;\n    }\n})();\n\nwindow.Turbo = Turbo;\nstart();\n\nexport { FrameElement, FrameLoadingStyle, FrameRenderer, PageRenderer, PageSnapshot, StreamActions, StreamElement, StreamSourceElement, cache, clearCache, connectStreamSource, disconnectStreamSource, navigator$1 as navigator, registerAdapter, renderStreamMessage, session, setConfirmMethod, setFormMode, setProgressBarDelay, start, visit };\n", "let consumer\n\nexport async function getConsumer() {\n  return consumer || setConsumer(createConsumer().then(setConsumer))\n}\n\nexport function setConsumer(newConsumer) {\n  return consumer = newConsumer\n}\n\nexport async function createConsumer() {\n  const { createConsumer } = await import(/* webpackChunkName: \"actioncable\" */ \"@rails/actioncable/src\")\n  return createConsumer()\n}\n\nexport async function subscribeTo(channel, mixin) {\n  const { subscriptions } = await getConsumer()\n  return subscriptions.create(channel, mixin)\n}\n", "// Based on https://github.com/nathan7/snakeize\n//\n// This software is released under the MIT license:\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\nexport default function walk (obj) {\n    if (!obj || typeof obj !== 'object') return obj;\n    if (obj instanceof Date || obj instanceof RegExp) return obj;\n    if (Array.isArray(obj)) return obj.map(walk);\n    return Object.keys(obj).reduce(function (acc, key) {\n        var camel = key[0].toLowerCase() + key.slice(1).replace(/([A-Z]+)/g, function (m, x) {\n            return '_' + x.toLowerCase();\n        });\n        acc[camel] = walk(obj[key]);\n        return acc;\n    }, {});\n};", "import { connectStreamSource, disconnectStreamSource } from \"@hotwired/turbo\"\nimport { subscribeTo } from \"./cable\"\nimport snakeize from \"./snakeize\"\n\nclass TurboCableStreamSourceElement extends HTMLElement {\n  async connectedCallback() {\n    connectStreamSource(this)\n    this.subscription = await subscribeTo(this.channel, {\n      received: this.dispatchMessageEvent.bind(this),\n      connected: this.subscriptionConnected.bind(this),\n      disconnected: this.subscriptionDisconnected.bind(this)\n    })\n  }\n\n  disconnectedCallback() {\n    disconnectStreamSource(this)\n    if (this.subscription) this.subscription.unsubscribe()\n  }\n\n  dispatchMessageEvent(data) {\n    const event = new MessageEvent(\"message\", { data })\n    return this.dispatchEvent(event)\n  }\n\n  subscriptionConnected() {\n    this.setAttribute(\"connected\", \"\")\n  }\n\n  subscriptionDisconnected() {\n    this.removeAttribute(\"connected\")\n  }\n\n  get channel() {\n    const channel = this.getAttribute(\"channel\")\n    const signed_stream_name = this.getAttribute(\"signed-stream-name\")\n    return { channel, signed_stream_name, ...snakeize({ ...this.dataset }) }\n  }\n}\n\n\nif (customElements.get(\"turbo-cable-stream-source\") === undefined) {\n  customElements.define(\"turbo-cable-stream-source\", TurboCableStreamSourceElement)\n}\n", "export function encodeMethodIntoRequestBody(event) {\n  if (event.target instanceof HTMLFormElement) {\n    const { target: form, detail: { fetchOptions } } = event\n\n    form.addEventListener(\"turbo:submit-start\", ({ detail: { formSubmission: { submitter } } }) => {\n      const body = isBodyInit(fetchOptions.body) ? fetchOptions.body : new URLSearchParams()\n      const method = determineFetchMethod(submitter, body, form)\n\n      if (!/get/i.test(method)) {\n        if (/post/i.test(method)) {\n          body.delete(\"_method\")\n        } else {\n          body.set(\"_method\", method)\n        }\n\n        fetchOptions.method = \"post\"\n      }\n    }, { once: true })\n  }\n}\n\nfunction determineFetchMethod(submitter, body, form) {\n  const formMethod = determineFormMethod(submitter)\n  const overrideMethod = body.get(\"_method\")\n  const method = form.getAttribute(\"method\") || \"get\"\n\n  if (typeof formMethod == \"string\") {\n    return formMethod\n  } else if (typeof overrideMethod == \"string\") {\n    return overrideMethod\n  } else {\n    return method\n  }\n}\n\nfunction determineFormMethod(submitter) {\n  if (submitter instanceof HTMLButtonElement || submitter instanceof HTMLInputElement) {\n    if (submitter.hasAttribute(\"formmethod\")) {\n      return submitter.formMethod\n    } else {\n      return null\n    }\n  } else {\n    return null\n  }\n}\n\nfunction isBodyInit(body) {\n  return body instanceof FormData || body instanceof URLSearchParams\n}\n", "import \"./cable_stream_source_element\"\n\nimport * as Turbo from \"@hotwired/turbo\"\nexport { Turbo }\n\nimport * as cable from \"./cable\"\nexport { cable }\n\nimport { encodeMethodIntoRequestBody } from \"./fetch_requests\"\n\naddEventListener(\"turbo:before-fetch-request\", encodeMethodIntoRequestBody)\n", "/*\nStimulus 3.2.1\nCopyright \u00A9 2023 Basecamp, LLC\n */\nclass EventListener {\n    constructor(eventTarget, eventName, eventOptions) {\n        this.eventTarget = eventTarget;\n        this.eventName = eventName;\n        this.eventOptions = eventOptions;\n        this.unorderedBindings = new Set();\n    }\n    connect() {\n        this.eventTarget.addEventListener(this.eventName, this, this.eventOptions);\n    }\n    disconnect() {\n        this.eventTarget.removeEventListener(this.eventName, this, this.eventOptions);\n    }\n    bindingConnected(binding) {\n        this.unorderedBindings.add(binding);\n    }\n    bindingDisconnected(binding) {\n        this.unorderedBindings.delete(binding);\n    }\n    handleEvent(event) {\n        const extendedEvent = extendEvent(event);\n        for (const binding of this.bindings) {\n            if (extendedEvent.immediatePropagationStopped) {\n                break;\n            }\n            else {\n                binding.handleEvent(extendedEvent);\n            }\n        }\n    }\n    hasBindings() {\n        return this.unorderedBindings.size > 0;\n    }\n    get bindings() {\n        return Array.from(this.unorderedBindings).sort((left, right) => {\n            const leftIndex = left.index, rightIndex = right.index;\n            return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;\n        });\n    }\n}\nfunction extendEvent(event) {\n    if (\"immediatePropagationStopped\" in event) {\n        return event;\n    }\n    else {\n        const { stopImmediatePropagation } = event;\n        return Object.assign(event, {\n            immediatePropagationStopped: false,\n            stopImmediatePropagation() {\n                this.immediatePropagationStopped = true;\n                stopImmediatePropagation.call(this);\n            },\n        });\n    }\n}\n\nclass Dispatcher {\n    constructor(application) {\n        this.application = application;\n        this.eventListenerMaps = new Map();\n        this.started = false;\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.eventListeners.forEach((eventListener) => eventListener.connect());\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.eventListeners.forEach((eventListener) => eventListener.disconnect());\n        }\n    }\n    get eventListeners() {\n        return Array.from(this.eventListenerMaps.values()).reduce((listeners, map) => listeners.concat(Array.from(map.values())), []);\n    }\n    bindingConnected(binding) {\n        this.fetchEventListenerForBinding(binding).bindingConnected(binding);\n    }\n    bindingDisconnected(binding, clearEventListeners = false) {\n        this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);\n        if (clearEventListeners)\n            this.clearEventListenersForBinding(binding);\n    }\n    handleError(error, message, detail = {}) {\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    clearEventListenersForBinding(binding) {\n        const eventListener = this.fetchEventListenerForBinding(binding);\n        if (!eventListener.hasBindings()) {\n            eventListener.disconnect();\n            this.removeMappedEventListenerFor(binding);\n        }\n    }\n    removeMappedEventListenerFor(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        eventListenerMap.delete(cacheKey);\n        if (eventListenerMap.size == 0)\n            this.eventListenerMaps.delete(eventTarget);\n    }\n    fetchEventListenerForBinding(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        return this.fetchEventListener(eventTarget, eventName, eventOptions);\n    }\n    fetchEventListener(eventTarget, eventName, eventOptions) {\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        let eventListener = eventListenerMap.get(cacheKey);\n        if (!eventListener) {\n            eventListener = this.createEventListener(eventTarget, eventName, eventOptions);\n            eventListenerMap.set(cacheKey, eventListener);\n        }\n        return eventListener;\n    }\n    createEventListener(eventTarget, eventName, eventOptions) {\n        const eventListener = new EventListener(eventTarget, eventName, eventOptions);\n        if (this.started) {\n            eventListener.connect();\n        }\n        return eventListener;\n    }\n    fetchEventListenerMapForEventTarget(eventTarget) {\n        let eventListenerMap = this.eventListenerMaps.get(eventTarget);\n        if (!eventListenerMap) {\n            eventListenerMap = new Map();\n            this.eventListenerMaps.set(eventTarget, eventListenerMap);\n        }\n        return eventListenerMap;\n    }\n    cacheKey(eventName, eventOptions) {\n        const parts = [eventName];\n        Object.keys(eventOptions)\n            .sort()\n            .forEach((key) => {\n            parts.push(`${eventOptions[key] ? \"\" : \"!\"}${key}`);\n        });\n        return parts.join(\":\");\n    }\n}\n\nconst defaultActionDescriptorFilters = {\n    stop({ event, value }) {\n        if (value)\n            event.stopPropagation();\n        return true;\n    },\n    prevent({ event, value }) {\n        if (value)\n            event.preventDefault();\n        return true;\n    },\n    self({ event, value, element }) {\n        if (value) {\n            return element === event.target;\n        }\n        else {\n            return true;\n        }\n    },\n};\nconst descriptorPattern = /^(?:(?:([^.]+?)\\+)?(.+?)(?:\\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;\nfunction parseActionDescriptorString(descriptorString) {\n    const source = descriptorString.trim();\n    const matches = source.match(descriptorPattern) || [];\n    let eventName = matches[2];\n    let keyFilter = matches[3];\n    if (keyFilter && ![\"keydown\", \"keyup\", \"keypress\"].includes(eventName)) {\n        eventName += `.${keyFilter}`;\n        keyFilter = \"\";\n    }\n    return {\n        eventTarget: parseEventTarget(matches[4]),\n        eventName,\n        eventOptions: matches[7] ? parseEventOptions(matches[7]) : {},\n        identifier: matches[5],\n        methodName: matches[6],\n        keyFilter: matches[1] || keyFilter,\n    };\n}\nfunction parseEventTarget(eventTargetName) {\n    if (eventTargetName == \"window\") {\n        return window;\n    }\n    else if (eventTargetName == \"document\") {\n        return document;\n    }\n}\nfunction parseEventOptions(eventOptions) {\n    return eventOptions\n        .split(\":\")\n        .reduce((options, token) => Object.assign(options, { [token.replace(/^!/, \"\")]: !/^!/.test(token) }), {});\n}\nfunction stringifyEventTarget(eventTarget) {\n    if (eventTarget == window) {\n        return \"window\";\n    }\n    else if (eventTarget == document) {\n        return \"document\";\n    }\n}\n\nfunction camelize(value) {\n    return value.replace(/(?:[_-])([a-z0-9])/g, (_, char) => char.toUpperCase());\n}\nfunction namespaceCamelize(value) {\n    return camelize(value.replace(/--/g, \"-\").replace(/__/g, \"_\"));\n}\nfunction capitalize(value) {\n    return value.charAt(0).toUpperCase() + value.slice(1);\n}\nfunction dasherize(value) {\n    return value.replace(/([A-Z])/g, (_, char) => `-${char.toLowerCase()}`);\n}\nfunction tokenize(value) {\n    return value.match(/[^\\s]+/g) || [];\n}\n\nfunction isSomething(object) {\n    return object !== null && object !== undefined;\n}\nfunction hasProperty(object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n}\n\nconst allModifiers = [\"meta\", \"ctrl\", \"alt\", \"shift\"];\nclass Action {\n    constructor(element, index, descriptor, schema) {\n        this.element = element;\n        this.index = index;\n        this.eventTarget = descriptor.eventTarget || element;\n        this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error(\"missing event name\");\n        this.eventOptions = descriptor.eventOptions || {};\n        this.identifier = descriptor.identifier || error(\"missing identifier\");\n        this.methodName = descriptor.methodName || error(\"missing method name\");\n        this.keyFilter = descriptor.keyFilter || \"\";\n        this.schema = schema;\n    }\n    static forToken(token, schema) {\n        return new this(token.element, token.index, parseActionDescriptorString(token.content), schema);\n    }\n    toString() {\n        const eventFilter = this.keyFilter ? `.${this.keyFilter}` : \"\";\n        const eventTarget = this.eventTargetName ? `@${this.eventTargetName}` : \"\";\n        return `${this.eventName}${eventFilter}${eventTarget}->${this.identifier}#${this.methodName}`;\n    }\n    shouldIgnoreKeyboardEvent(event) {\n        if (!this.keyFilter) {\n            return false;\n        }\n        const filters = this.keyFilter.split(\"+\");\n        if (this.keyFilterDissatisfied(event, filters)) {\n            return true;\n        }\n        const standardFilter = filters.filter((key) => !allModifiers.includes(key))[0];\n        if (!standardFilter) {\n            return false;\n        }\n        if (!hasProperty(this.keyMappings, standardFilter)) {\n            error(`contains unknown key filter: ${this.keyFilter}`);\n        }\n        return this.keyMappings[standardFilter].toLowerCase() !== event.key.toLowerCase();\n    }\n    shouldIgnoreMouseEvent(event) {\n        if (!this.keyFilter) {\n            return false;\n        }\n        const filters = [this.keyFilter];\n        if (this.keyFilterDissatisfied(event, filters)) {\n            return true;\n        }\n        return false;\n    }\n    get params() {\n        const params = {};\n        const pattern = new RegExp(`^data-${this.identifier}-(.+)-param$`, \"i\");\n        for (const { name, value } of Array.from(this.element.attributes)) {\n            const match = name.match(pattern);\n            const key = match && match[1];\n            if (key) {\n                params[camelize(key)] = typecast(value);\n            }\n        }\n        return params;\n    }\n    get eventTargetName() {\n        return stringifyEventTarget(this.eventTarget);\n    }\n    get keyMappings() {\n        return this.schema.keyMappings;\n    }\n    keyFilterDissatisfied(event, filters) {\n        const [meta, ctrl, alt, shift] = allModifiers.map((modifier) => filters.includes(modifier));\n        return event.metaKey !== meta || event.ctrlKey !== ctrl || event.altKey !== alt || event.shiftKey !== shift;\n    }\n}\nconst defaultEventNames = {\n    a: () => \"click\",\n    button: () => \"click\",\n    form: () => \"submit\",\n    details: () => \"toggle\",\n    input: (e) => (e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"input\"),\n    select: () => \"change\",\n    textarea: () => \"input\",\n};\nfunction getDefaultEventNameForElement(element) {\n    const tagName = element.tagName.toLowerCase();\n    if (tagName in defaultEventNames) {\n        return defaultEventNames[tagName](element);\n    }\n}\nfunction error(message) {\n    throw new Error(message);\n}\nfunction typecast(value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (o_O) {\n        return value;\n    }\n}\n\nclass Binding {\n    constructor(context, action) {\n        this.context = context;\n        this.action = action;\n    }\n    get index() {\n        return this.action.index;\n    }\n    get eventTarget() {\n        return this.action.eventTarget;\n    }\n    get eventOptions() {\n        return this.action.eventOptions;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    handleEvent(event) {\n        const actionEvent = this.prepareActionEvent(event);\n        if (this.willBeInvokedByEvent(event) && this.applyEventModifiers(actionEvent)) {\n            this.invokeWithEvent(actionEvent);\n        }\n    }\n    get eventName() {\n        return this.action.eventName;\n    }\n    get method() {\n        const method = this.controller[this.methodName];\n        if (typeof method == \"function\") {\n            return method;\n        }\n        throw new Error(`Action \"${this.action}\" references undefined method \"${this.methodName}\"`);\n    }\n    applyEventModifiers(event) {\n        const { element } = this.action;\n        const { actionDescriptorFilters } = this.context.application;\n        const { controller } = this.context;\n        let passes = true;\n        for (const [name, value] of Object.entries(this.eventOptions)) {\n            if (name in actionDescriptorFilters) {\n                const filter = actionDescriptorFilters[name];\n                passes = passes && filter({ name, value, event, element, controller });\n            }\n            else {\n                continue;\n            }\n        }\n        return passes;\n    }\n    prepareActionEvent(event) {\n        return Object.assign(event, { params: this.action.params });\n    }\n    invokeWithEvent(event) {\n        const { target, currentTarget } = event;\n        try {\n            this.method.call(this.controller, event);\n            this.context.logDebugActivity(this.methodName, { event, target, currentTarget, action: this.methodName });\n        }\n        catch (error) {\n            const { identifier, controller, element, index } = this;\n            const detail = { identifier, controller, element, index, event };\n            this.context.handleError(error, `invoking action \"${this.action}\"`, detail);\n        }\n    }\n    willBeInvokedByEvent(event) {\n        const eventTarget = event.target;\n        if (event instanceof KeyboardEvent && this.action.shouldIgnoreKeyboardEvent(event)) {\n            return false;\n        }\n        if (event instanceof MouseEvent && this.action.shouldIgnoreMouseEvent(event)) {\n            return false;\n        }\n        if (this.element === eventTarget) {\n            return true;\n        }\n        else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n            return this.scope.containsElement(eventTarget);\n        }\n        else {\n            return this.scope.containsElement(this.action.element);\n        }\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    get methodName() {\n        return this.action.methodName;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nclass ElementObserver {\n    constructor(element, delegate) {\n        this.mutationObserverInit = { attributes: true, childList: true, subtree: true };\n        this.element = element;\n        this.started = false;\n        this.delegate = delegate;\n        this.elements = new Set();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.refresh();\n        }\n    }\n    pause(callback) {\n        if (this.started) {\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n        callback();\n        if (!this.started) {\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            const matches = new Set(this.matchElementsInTree());\n            for (const element of Array.from(this.elements)) {\n                if (!matches.has(element)) {\n                    this.removeElement(element);\n                }\n            }\n            for (const element of Array.from(matches)) {\n                this.addElement(element);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        if (mutation.type == \"attributes\") {\n            this.processAttributeChange(mutation.target, mutation.attributeName);\n        }\n        else if (mutation.type == \"childList\") {\n            this.processRemovedNodes(mutation.removedNodes);\n            this.processAddedNodes(mutation.addedNodes);\n        }\n    }\n    processAttributeChange(element, attributeName) {\n        if (this.elements.has(element)) {\n            if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n                this.delegate.elementAttributeChanged(element, attributeName);\n            }\n            else {\n                this.removeElement(element);\n            }\n        }\n        else if (this.matchElement(element)) {\n            this.addElement(element);\n        }\n    }\n    processRemovedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element) {\n                this.processTree(element, this.removeElement);\n            }\n        }\n    }\n    processAddedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element && this.elementIsActive(element)) {\n                this.processTree(element, this.addElement);\n            }\n        }\n    }\n    matchElement(element) {\n        return this.delegate.matchElement(element);\n    }\n    matchElementsInTree(tree = this.element) {\n        return this.delegate.matchElementsInTree(tree);\n    }\n    processTree(tree, processor) {\n        for (const element of this.matchElementsInTree(tree)) {\n            processor.call(this, element);\n        }\n    }\n    elementFromNode(node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            return node;\n        }\n    }\n    elementIsActive(element) {\n        if (element.isConnected != this.element.isConnected) {\n            return false;\n        }\n        else {\n            return this.element.contains(element);\n        }\n    }\n    addElement(element) {\n        if (!this.elements.has(element)) {\n            if (this.elementIsActive(element)) {\n                this.elements.add(element);\n                if (this.delegate.elementMatched) {\n                    this.delegate.elementMatched(element);\n                }\n            }\n        }\n    }\n    removeElement(element) {\n        if (this.elements.has(element)) {\n            this.elements.delete(element);\n            if (this.delegate.elementUnmatched) {\n                this.delegate.elementUnmatched(element);\n            }\n        }\n    }\n}\n\nclass AttributeObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    get selector() {\n        return `[${this.attributeName}]`;\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    matchElement(element) {\n        return element.hasAttribute(this.attributeName);\n    }\n    matchElementsInTree(tree) {\n        const match = this.matchElement(tree) ? [tree] : [];\n        const matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    }\n    elementMatched(element) {\n        if (this.delegate.elementMatchedAttribute) {\n            this.delegate.elementMatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementUnmatched(element) {\n        if (this.delegate.elementUnmatchedAttribute) {\n            this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementAttributeChanged(element, attributeName) {\n        if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n            this.delegate.elementAttributeValueChanged(element, attributeName);\n        }\n    }\n}\n\nfunction add(map, key, value) {\n    fetch(map, key).add(value);\n}\nfunction del(map, key, value) {\n    fetch(map, key).delete(value);\n    prune(map, key);\n}\nfunction fetch(map, key) {\n    let values = map.get(key);\n    if (!values) {\n        values = new Set();\n        map.set(key, values);\n    }\n    return values;\n}\nfunction prune(map, key) {\n    const values = map.get(key);\n    if (values != null && values.size == 0) {\n        map.delete(key);\n    }\n}\n\nclass Multimap {\n    constructor() {\n        this.valuesByKey = new Map();\n    }\n    get keys() {\n        return Array.from(this.valuesByKey.keys());\n    }\n    get values() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((values, set) => values.concat(Array.from(set)), []);\n    }\n    get size() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((size, set) => size + set.size, 0);\n    }\n    add(key, value) {\n        add(this.valuesByKey, key, value);\n    }\n    delete(key, value) {\n        del(this.valuesByKey, key, value);\n    }\n    has(key, value) {\n        const values = this.valuesByKey.get(key);\n        return values != null && values.has(value);\n    }\n    hasKey(key) {\n        return this.valuesByKey.has(key);\n    }\n    hasValue(value) {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.some((set) => set.has(value));\n    }\n    getValuesForKey(key) {\n        const values = this.valuesByKey.get(key);\n        return values ? Array.from(values) : [];\n    }\n    getKeysForValue(value) {\n        return Array.from(this.valuesByKey)\n            .filter(([_key, values]) => values.has(value))\n            .map(([key, _values]) => key);\n    }\n}\n\nclass IndexedMultimap extends Multimap {\n    constructor() {\n        super();\n        this.keysByValue = new Map();\n    }\n    get values() {\n        return Array.from(this.keysByValue.keys());\n    }\n    add(key, value) {\n        super.add(key, value);\n        add(this.keysByValue, value, key);\n    }\n    delete(key, value) {\n        super.delete(key, value);\n        del(this.keysByValue, value, key);\n    }\n    hasValue(value) {\n        return this.keysByValue.has(value);\n    }\n    getKeysForValue(value) {\n        const set = this.keysByValue.get(value);\n        return set ? Array.from(set) : [];\n    }\n}\n\nclass SelectorObserver {\n    constructor(element, selector, delegate, details) {\n        this._selector = selector;\n        this.details = details;\n        this.elementObserver = new ElementObserver(element, this);\n        this.delegate = delegate;\n        this.matchesByElement = new Multimap();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    get selector() {\n        return this._selector;\n    }\n    set selector(selector) {\n        this._selector = selector;\n        this.refresh();\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    matchElement(element) {\n        const { selector } = this;\n        if (selector) {\n            const matches = element.matches(selector);\n            if (this.delegate.selectorMatchElement) {\n                return matches && this.delegate.selectorMatchElement(element, this.details);\n            }\n            return matches;\n        }\n        else {\n            return false;\n        }\n    }\n    matchElementsInTree(tree) {\n        const { selector } = this;\n        if (selector) {\n            const match = this.matchElement(tree) ? [tree] : [];\n            const matches = Array.from(tree.querySelectorAll(selector)).filter((match) => this.matchElement(match));\n            return match.concat(matches);\n        }\n        else {\n            return [];\n        }\n    }\n    elementMatched(element) {\n        const { selector } = this;\n        if (selector) {\n            this.selectorMatched(element, selector);\n        }\n    }\n    elementUnmatched(element) {\n        const selectors = this.matchesByElement.getKeysForValue(element);\n        for (const selector of selectors) {\n            this.selectorUnmatched(element, selector);\n        }\n    }\n    elementAttributeChanged(element, _attributeName) {\n        const { selector } = this;\n        if (selector) {\n            const matches = this.matchElement(element);\n            const matchedBefore = this.matchesByElement.has(selector, element);\n            if (matches && !matchedBefore) {\n                this.selectorMatched(element, selector);\n            }\n            else if (!matches && matchedBefore) {\n                this.selectorUnmatched(element, selector);\n            }\n        }\n    }\n    selectorMatched(element, selector) {\n        this.delegate.selectorMatched(element, selector, this.details);\n        this.matchesByElement.add(selector, element);\n    }\n    selectorUnmatched(element, selector) {\n        this.delegate.selectorUnmatched(element, selector, this.details);\n        this.matchesByElement.delete(selector, element);\n    }\n}\n\nclass StringMapObserver {\n    constructor(element, delegate) {\n        this.element = element;\n        this.delegate = delegate;\n        this.started = false;\n        this.stringMap = new Map();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, { attributes: true, attributeOldValue: true });\n            this.refresh();\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            for (const attributeName of this.knownAttributeNames) {\n                this.refreshAttribute(attributeName, null);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        const attributeName = mutation.attributeName;\n        if (attributeName) {\n            this.refreshAttribute(attributeName, mutation.oldValue);\n        }\n    }\n    refreshAttribute(attributeName, oldValue) {\n        const key = this.delegate.getStringMapKeyForAttribute(attributeName);\n        if (key != null) {\n            if (!this.stringMap.has(attributeName)) {\n                this.stringMapKeyAdded(key, attributeName);\n            }\n            const value = this.element.getAttribute(attributeName);\n            if (this.stringMap.get(attributeName) != value) {\n                this.stringMapValueChanged(value, key, oldValue);\n            }\n            if (value == null) {\n                const oldValue = this.stringMap.get(attributeName);\n                this.stringMap.delete(attributeName);\n                if (oldValue)\n                    this.stringMapKeyRemoved(key, attributeName, oldValue);\n            }\n            else {\n                this.stringMap.set(attributeName, value);\n            }\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        if (this.delegate.stringMapKeyAdded) {\n            this.delegate.stringMapKeyAdded(key, attributeName);\n        }\n    }\n    stringMapValueChanged(value, key, oldValue) {\n        if (this.delegate.stringMapValueChanged) {\n            this.delegate.stringMapValueChanged(value, key, oldValue);\n        }\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        if (this.delegate.stringMapKeyRemoved) {\n            this.delegate.stringMapKeyRemoved(key, attributeName, oldValue);\n        }\n    }\n    get knownAttributeNames() {\n        return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)));\n    }\n    get currentAttributeNames() {\n        return Array.from(this.element.attributes).map((attribute) => attribute.name);\n    }\n    get recordedAttributeNames() {\n        return Array.from(this.stringMap.keys());\n    }\n}\n\nclass TokenListObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeObserver = new AttributeObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.tokensByElement = new Multimap();\n    }\n    get started() {\n        return this.attributeObserver.started;\n    }\n    start() {\n        this.attributeObserver.start();\n    }\n    pause(callback) {\n        this.attributeObserver.pause(callback);\n    }\n    stop() {\n        this.attributeObserver.stop();\n    }\n    refresh() {\n        this.attributeObserver.refresh();\n    }\n    get element() {\n        return this.attributeObserver.element;\n    }\n    get attributeName() {\n        return this.attributeObserver.attributeName;\n    }\n    elementMatchedAttribute(element) {\n        this.tokensMatched(this.readTokensForElement(element));\n    }\n    elementAttributeValueChanged(element) {\n        const [unmatchedTokens, matchedTokens] = this.refreshTokensForElement(element);\n        this.tokensUnmatched(unmatchedTokens);\n        this.tokensMatched(matchedTokens);\n    }\n    elementUnmatchedAttribute(element) {\n        this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));\n    }\n    tokensMatched(tokens) {\n        tokens.forEach((token) => this.tokenMatched(token));\n    }\n    tokensUnmatched(tokens) {\n        tokens.forEach((token) => this.tokenUnmatched(token));\n    }\n    tokenMatched(token) {\n        this.delegate.tokenMatched(token);\n        this.tokensByElement.add(token.element, token);\n    }\n    tokenUnmatched(token) {\n        this.delegate.tokenUnmatched(token);\n        this.tokensByElement.delete(token.element, token);\n    }\n    refreshTokensForElement(element) {\n        const previousTokens = this.tokensByElement.getValuesForKey(element);\n        const currentTokens = this.readTokensForElement(element);\n        const firstDifferingIndex = zip(previousTokens, currentTokens).findIndex(([previousToken, currentToken]) => !tokensAreEqual(previousToken, currentToken));\n        if (firstDifferingIndex == -1) {\n            return [[], []];\n        }\n        else {\n            return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];\n        }\n    }\n    readTokensForElement(element) {\n        const attributeName = this.attributeName;\n        const tokenString = element.getAttribute(attributeName) || \"\";\n        return parseTokenString(tokenString, element, attributeName);\n    }\n}\nfunction parseTokenString(tokenString, element, attributeName) {\n    return tokenString\n        .trim()\n        .split(/\\s+/)\n        .filter((content) => content.length)\n        .map((content, index) => ({ element, attributeName, content, index }));\n}\nfunction zip(left, right) {\n    const length = Math.max(left.length, right.length);\n    return Array.from({ length }, (_, index) => [left[index], right[index]]);\n}\nfunction tokensAreEqual(left, right) {\n    return left && right && left.index == right.index && left.content == right.content;\n}\n\nclass ValueListObserver {\n    constructor(element, attributeName, delegate) {\n        this.tokenListObserver = new TokenListObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.parseResultsByToken = new WeakMap();\n        this.valuesByTokenByElement = new WeakMap();\n    }\n    get started() {\n        return this.tokenListObserver.started;\n    }\n    start() {\n        this.tokenListObserver.start();\n    }\n    stop() {\n        this.tokenListObserver.stop();\n    }\n    refresh() {\n        this.tokenListObserver.refresh();\n    }\n    get element() {\n        return this.tokenListObserver.element;\n    }\n    get attributeName() {\n        return this.tokenListObserver.attributeName;\n    }\n    tokenMatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).set(token, value);\n            this.delegate.elementMatchedValue(element, value);\n        }\n    }\n    tokenUnmatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).delete(token);\n            this.delegate.elementUnmatchedValue(element, value);\n        }\n    }\n    fetchParseResultForToken(token) {\n        let parseResult = this.parseResultsByToken.get(token);\n        if (!parseResult) {\n            parseResult = this.parseToken(token);\n            this.parseResultsByToken.set(token, parseResult);\n        }\n        return parseResult;\n    }\n    fetchValuesByTokenForElement(element) {\n        let valuesByToken = this.valuesByTokenByElement.get(element);\n        if (!valuesByToken) {\n            valuesByToken = new Map();\n            this.valuesByTokenByElement.set(element, valuesByToken);\n        }\n        return valuesByToken;\n    }\n    parseToken(token) {\n        try {\n            const value = this.delegate.parseValueForToken(token);\n            return { value };\n        }\n        catch (error) {\n            return { error };\n        }\n    }\n}\n\nclass BindingObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.bindingsByAction = new Map();\n    }\n    start() {\n        if (!this.valueListObserver) {\n            this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);\n            this.valueListObserver.start();\n        }\n    }\n    stop() {\n        if (this.valueListObserver) {\n            this.valueListObserver.stop();\n            delete this.valueListObserver;\n            this.disconnectAllActions();\n        }\n    }\n    get element() {\n        return this.context.element;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get actionAttribute() {\n        return this.schema.actionAttribute;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get bindings() {\n        return Array.from(this.bindingsByAction.values());\n    }\n    connectAction(action) {\n        const binding = new Binding(this.context, action);\n        this.bindingsByAction.set(action, binding);\n        this.delegate.bindingConnected(binding);\n    }\n    disconnectAction(action) {\n        const binding = this.bindingsByAction.get(action);\n        if (binding) {\n            this.bindingsByAction.delete(action);\n            this.delegate.bindingDisconnected(binding);\n        }\n    }\n    disconnectAllActions() {\n        this.bindings.forEach((binding) => this.delegate.bindingDisconnected(binding, true));\n        this.bindingsByAction.clear();\n    }\n    parseValueForToken(token) {\n        const action = Action.forToken(token, this.schema);\n        if (action.identifier == this.identifier) {\n            return action;\n        }\n    }\n    elementMatchedValue(element, action) {\n        this.connectAction(action);\n    }\n    elementUnmatchedValue(element, action) {\n        this.disconnectAction(action);\n    }\n}\n\nclass ValueObserver {\n    constructor(context, receiver) {\n        this.context = context;\n        this.receiver = receiver;\n        this.stringMapObserver = new StringMapObserver(this.element, this);\n        this.valueDescriptorMap = this.controller.valueDescriptorMap;\n    }\n    start() {\n        this.stringMapObserver.start();\n        this.invokeChangedCallbacksForDefaultValues();\n    }\n    stop() {\n        this.stringMapObserver.stop();\n    }\n    get element() {\n        return this.context.element;\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    getStringMapKeyForAttribute(attributeName) {\n        if (attributeName in this.valueDescriptorMap) {\n            return this.valueDescriptorMap[attributeName].name;\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        const descriptor = this.valueDescriptorMap[attributeName];\n        if (!this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), descriptor.writer(descriptor.defaultValue));\n        }\n    }\n    stringMapValueChanged(value, name, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[name];\n        if (value === null)\n            return;\n        if (oldValue === null) {\n            oldValue = descriptor.writer(descriptor.defaultValue);\n        }\n        this.invokeChangedCallback(name, value, oldValue);\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[key];\n        if (this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), oldValue);\n        }\n        else {\n            this.invokeChangedCallback(key, descriptor.writer(descriptor.defaultValue), oldValue);\n        }\n    }\n    invokeChangedCallbacksForDefaultValues() {\n        for (const { key, name, defaultValue, writer } of this.valueDescriptors) {\n            if (defaultValue != undefined && !this.controller.data.has(key)) {\n                this.invokeChangedCallback(name, writer(defaultValue), undefined);\n            }\n        }\n    }\n    invokeChangedCallback(name, rawValue, rawOldValue) {\n        const changedMethodName = `${name}Changed`;\n        const changedMethod = this.receiver[changedMethodName];\n        if (typeof changedMethod == \"function\") {\n            const descriptor = this.valueDescriptorNameMap[name];\n            try {\n                const value = descriptor.reader(rawValue);\n                let oldValue = rawOldValue;\n                if (rawOldValue) {\n                    oldValue = descriptor.reader(rawOldValue);\n                }\n                changedMethod.call(this.receiver, value, oldValue);\n            }\n            catch (error) {\n                if (error instanceof TypeError) {\n                    error.message = `Stimulus Value \"${this.context.identifier}.${descriptor.name}\" - ${error.message}`;\n                }\n                throw error;\n            }\n        }\n    }\n    get valueDescriptors() {\n        const { valueDescriptorMap } = this;\n        return Object.keys(valueDescriptorMap).map((key) => valueDescriptorMap[key]);\n    }\n    get valueDescriptorNameMap() {\n        const descriptors = {};\n        Object.keys(this.valueDescriptorMap).forEach((key) => {\n            const descriptor = this.valueDescriptorMap[key];\n            descriptors[descriptor.name] = descriptor;\n        });\n        return descriptors;\n    }\n    hasValue(attributeName) {\n        const descriptor = this.valueDescriptorNameMap[attributeName];\n        const hasMethodName = `has${capitalize(descriptor.name)}`;\n        return this.receiver[hasMethodName];\n    }\n}\n\nclass TargetObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.targetsByName = new Multimap();\n    }\n    start() {\n        if (!this.tokenListObserver) {\n            this.tokenListObserver = new TokenListObserver(this.element, this.attributeName, this);\n            this.tokenListObserver.start();\n        }\n    }\n    stop() {\n        if (this.tokenListObserver) {\n            this.disconnectAllTargets();\n            this.tokenListObserver.stop();\n            delete this.tokenListObserver;\n        }\n    }\n    tokenMatched({ element, content: name }) {\n        if (this.scope.containsElement(element)) {\n            this.connectTarget(element, name);\n        }\n    }\n    tokenUnmatched({ element, content: name }) {\n        this.disconnectTarget(element, name);\n    }\n    connectTarget(element, name) {\n        var _a;\n        if (!this.targetsByName.has(name, element)) {\n            this.targetsByName.add(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetConnected(element, name));\n        }\n    }\n    disconnectTarget(element, name) {\n        var _a;\n        if (this.targetsByName.has(name, element)) {\n            this.targetsByName.delete(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetDisconnected(element, name));\n        }\n    }\n    disconnectAllTargets() {\n        for (const name of this.targetsByName.keys) {\n            for (const element of this.targetsByName.getValuesForKey(name)) {\n                this.disconnectTarget(element, name);\n            }\n        }\n    }\n    get attributeName() {\n        return `data-${this.context.identifier}-target`;\n    }\n    get element() {\n        return this.context.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nfunction readInheritableStaticArrayValues(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return Array.from(ancestors.reduce((values, constructor) => {\n        getOwnStaticArrayValues(constructor, propertyName).forEach((name) => values.add(name));\n        return values;\n    }, new Set()));\n}\nfunction readInheritableStaticObjectPairs(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return ancestors.reduce((pairs, constructor) => {\n        pairs.push(...getOwnStaticObjectPairs(constructor, propertyName));\n        return pairs;\n    }, []);\n}\nfunction getAncestorsForConstructor(constructor) {\n    const ancestors = [];\n    while (constructor) {\n        ancestors.push(constructor);\n        constructor = Object.getPrototypeOf(constructor);\n    }\n    return ancestors.reverse();\n}\nfunction getOwnStaticArrayValues(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return Array.isArray(definition) ? definition : [];\n}\nfunction getOwnStaticObjectPairs(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return definition ? Object.keys(definition).map((key) => [key, definition[key]]) : [];\n}\n\nclass OutletObserver {\n    constructor(context, delegate) {\n        this.started = false;\n        this.context = context;\n        this.delegate = delegate;\n        this.outletsByName = new Multimap();\n        this.outletElementsByName = new Multimap();\n        this.selectorObserverMap = new Map();\n        this.attributeObserverMap = new Map();\n    }\n    start() {\n        if (!this.started) {\n            this.outletDefinitions.forEach((outletName) => {\n                this.setupSelectorObserverForOutlet(outletName);\n                this.setupAttributeObserverForOutlet(outletName);\n            });\n            this.started = true;\n            this.dependentContexts.forEach((context) => context.refresh());\n        }\n    }\n    refresh() {\n        this.selectorObserverMap.forEach((observer) => observer.refresh());\n        this.attributeObserverMap.forEach((observer) => observer.refresh());\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.disconnectAllOutlets();\n            this.stopSelectorObservers();\n            this.stopAttributeObservers();\n        }\n    }\n    stopSelectorObservers() {\n        if (this.selectorObserverMap.size > 0) {\n            this.selectorObserverMap.forEach((observer) => observer.stop());\n            this.selectorObserverMap.clear();\n        }\n    }\n    stopAttributeObservers() {\n        if (this.attributeObserverMap.size > 0) {\n            this.attributeObserverMap.forEach((observer) => observer.stop());\n            this.attributeObserverMap.clear();\n        }\n    }\n    selectorMatched(element, _selector, { outletName }) {\n        const outlet = this.getOutlet(element, outletName);\n        if (outlet) {\n            this.connectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorUnmatched(element, _selector, { outletName }) {\n        const outlet = this.getOutletFromMap(element, outletName);\n        if (outlet) {\n            this.disconnectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorMatchElement(element, { outletName }) {\n        const selector = this.selector(outletName);\n        const hasOutlet = this.hasOutlet(element, outletName);\n        const hasOutletController = element.matches(`[${this.schema.controllerAttribute}~=${outletName}]`);\n        if (selector) {\n            return hasOutlet && hasOutletController && element.matches(selector);\n        }\n        else {\n            return false;\n        }\n    }\n    elementMatchedAttribute(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    elementAttributeValueChanged(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    elementUnmatchedAttribute(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    connectOutlet(outlet, element, outletName) {\n        var _a;\n        if (!this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.add(outletName, outlet);\n            this.outletElementsByName.add(outletName, element);\n            (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletConnected(outlet, element, outletName));\n        }\n    }\n    disconnectOutlet(outlet, element, outletName) {\n        var _a;\n        if (this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.delete(outletName, outlet);\n            this.outletElementsByName.delete(outletName, element);\n            (_a = this.selectorObserverMap\n                .get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletDisconnected(outlet, element, outletName));\n        }\n    }\n    disconnectAllOutlets() {\n        for (const outletName of this.outletElementsByName.keys) {\n            for (const element of this.outletElementsByName.getValuesForKey(outletName)) {\n                for (const outlet of this.outletsByName.getValuesForKey(outletName)) {\n                    this.disconnectOutlet(outlet, element, outletName);\n                }\n            }\n        }\n    }\n    updateSelectorObserverForOutlet(outletName) {\n        const observer = this.selectorObserverMap.get(outletName);\n        if (observer) {\n            observer.selector = this.selector(outletName);\n        }\n    }\n    setupSelectorObserverForOutlet(outletName) {\n        const selector = this.selector(outletName);\n        const selectorObserver = new SelectorObserver(document.body, selector, this, { outletName });\n        this.selectorObserverMap.set(outletName, selectorObserver);\n        selectorObserver.start();\n    }\n    setupAttributeObserverForOutlet(outletName) {\n        const attributeName = this.attributeNameForOutletName(outletName);\n        const attributeObserver = new AttributeObserver(this.scope.element, attributeName, this);\n        this.attributeObserverMap.set(outletName, attributeObserver);\n        attributeObserver.start();\n    }\n    selector(outletName) {\n        return this.scope.outlets.getSelectorForOutletName(outletName);\n    }\n    attributeNameForOutletName(outletName) {\n        return this.scope.schema.outletAttributeForScope(this.identifier, outletName);\n    }\n    getOutletNameFromOutletAttributeName(attributeName) {\n        return this.outletDefinitions.find((outletName) => this.attributeNameForOutletName(outletName) === attributeName);\n    }\n    get outletDependencies() {\n        const dependencies = new Multimap();\n        this.router.modules.forEach((module) => {\n            const constructor = module.definition.controllerConstructor;\n            const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n            outlets.forEach((outlet) => dependencies.add(outlet, module.identifier));\n        });\n        return dependencies;\n    }\n    get outletDefinitions() {\n        return this.outletDependencies.getKeysForValue(this.identifier);\n    }\n    get dependentControllerIdentifiers() {\n        return this.outletDependencies.getValuesForKey(this.identifier);\n    }\n    get dependentContexts() {\n        const identifiers = this.dependentControllerIdentifiers;\n        return this.router.contexts.filter((context) => identifiers.includes(context.identifier));\n    }\n    hasOutlet(element, outletName) {\n        return !!this.getOutlet(element, outletName) || !!this.getOutletFromMap(element, outletName);\n    }\n    getOutlet(element, outletName) {\n        return this.application.getControllerForElementAndIdentifier(element, outletName);\n    }\n    getOutletFromMap(element, outletName) {\n        return this.outletsByName.getValuesForKey(outletName).find((outlet) => outlet.element === element);\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get router() {\n        return this.application.router;\n    }\n}\n\nclass Context {\n    constructor(module, scope) {\n        this.logDebugActivity = (functionName, detail = {}) => {\n            const { identifier, controller, element } = this;\n            detail = Object.assign({ identifier, controller, element }, detail);\n            this.application.logDebugActivity(this.identifier, functionName, detail);\n        };\n        this.module = module;\n        this.scope = scope;\n        this.controller = new module.controllerConstructor(this);\n        this.bindingObserver = new BindingObserver(this, this.dispatcher);\n        this.valueObserver = new ValueObserver(this, this.controller);\n        this.targetObserver = new TargetObserver(this, this);\n        this.outletObserver = new OutletObserver(this, this);\n        try {\n            this.controller.initialize();\n            this.logDebugActivity(\"initialize\");\n        }\n        catch (error) {\n            this.handleError(error, \"initializing controller\");\n        }\n    }\n    connect() {\n        this.bindingObserver.start();\n        this.valueObserver.start();\n        this.targetObserver.start();\n        this.outletObserver.start();\n        try {\n            this.controller.connect();\n            this.logDebugActivity(\"connect\");\n        }\n        catch (error) {\n            this.handleError(error, \"connecting controller\");\n        }\n    }\n    refresh() {\n        this.outletObserver.refresh();\n    }\n    disconnect() {\n        try {\n            this.controller.disconnect();\n            this.logDebugActivity(\"disconnect\");\n        }\n        catch (error) {\n            this.handleError(error, \"disconnecting controller\");\n        }\n        this.outletObserver.stop();\n        this.targetObserver.stop();\n        this.valueObserver.stop();\n        this.bindingObserver.stop();\n    }\n    get application() {\n        return this.module.application;\n    }\n    get identifier() {\n        return this.module.identifier;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get dispatcher() {\n        return this.application.dispatcher;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get parentElement() {\n        return this.element.parentElement;\n    }\n    handleError(error, message, detail = {}) {\n        const { identifier, controller, element } = this;\n        detail = Object.assign({ identifier, controller, element }, detail);\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    targetConnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetConnected`, element);\n    }\n    targetDisconnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetDisconnected`, element);\n    }\n    outletConnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletConnected`, outlet, element);\n    }\n    outletDisconnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletDisconnected`, outlet, element);\n    }\n    invokeControllerMethod(methodName, ...args) {\n        const controller = this.controller;\n        if (typeof controller[methodName] == \"function\") {\n            controller[methodName](...args);\n        }\n    }\n}\n\nfunction bless(constructor) {\n    return shadow(constructor, getBlessedProperties(constructor));\n}\nfunction shadow(constructor, properties) {\n    const shadowConstructor = extend(constructor);\n    const shadowProperties = getShadowProperties(constructor.prototype, properties);\n    Object.defineProperties(shadowConstructor.prototype, shadowProperties);\n    return shadowConstructor;\n}\nfunction getBlessedProperties(constructor) {\n    const blessings = readInheritableStaticArrayValues(constructor, \"blessings\");\n    return blessings.reduce((blessedProperties, blessing) => {\n        const properties = blessing(constructor);\n        for (const key in properties) {\n            const descriptor = blessedProperties[key] || {};\n            blessedProperties[key] = Object.assign(descriptor, properties[key]);\n        }\n        return blessedProperties;\n    }, {});\n}\nfunction getShadowProperties(prototype, properties) {\n    return getOwnKeys(properties).reduce((shadowProperties, key) => {\n        const descriptor = getShadowedDescriptor(prototype, properties, key);\n        if (descriptor) {\n            Object.assign(shadowProperties, { [key]: descriptor });\n        }\n        return shadowProperties;\n    }, {});\n}\nfunction getShadowedDescriptor(prototype, properties, key) {\n    const shadowingDescriptor = Object.getOwnPropertyDescriptor(prototype, key);\n    const shadowedByValue = shadowingDescriptor && \"value\" in shadowingDescriptor;\n    if (!shadowedByValue) {\n        const descriptor = Object.getOwnPropertyDescriptor(properties, key).value;\n        if (shadowingDescriptor) {\n            descriptor.get = shadowingDescriptor.get || descriptor.get;\n            descriptor.set = shadowingDescriptor.set || descriptor.set;\n        }\n        return descriptor;\n    }\n}\nconst getOwnKeys = (() => {\n    if (typeof Object.getOwnPropertySymbols == \"function\") {\n        return (object) => [...Object.getOwnPropertyNames(object), ...Object.getOwnPropertySymbols(object)];\n    }\n    else {\n        return Object.getOwnPropertyNames;\n    }\n})();\nconst extend = (() => {\n    function extendWithReflect(constructor) {\n        function extended() {\n            return Reflect.construct(constructor, arguments, new.target);\n        }\n        extended.prototype = Object.create(constructor.prototype, {\n            constructor: { value: extended },\n        });\n        Reflect.setPrototypeOf(extended, constructor);\n        return extended;\n    }\n    function testReflectExtension() {\n        const a = function () {\n            this.a.call(this);\n        };\n        const b = extendWithReflect(a);\n        b.prototype.a = function () { };\n        return new b();\n    }\n    try {\n        testReflectExtension();\n        return extendWithReflect;\n    }\n    catch (error) {\n        return (constructor) => class extended extends constructor {\n        };\n    }\n})();\n\nfunction blessDefinition(definition) {\n    return {\n        identifier: definition.identifier,\n        controllerConstructor: bless(definition.controllerConstructor),\n    };\n}\n\nclass Module {\n    constructor(application, definition) {\n        this.application = application;\n        this.definition = blessDefinition(definition);\n        this.contextsByScope = new WeakMap();\n        this.connectedContexts = new Set();\n    }\n    get identifier() {\n        return this.definition.identifier;\n    }\n    get controllerConstructor() {\n        return this.definition.controllerConstructor;\n    }\n    get contexts() {\n        return Array.from(this.connectedContexts);\n    }\n    connectContextForScope(scope) {\n        const context = this.fetchContextForScope(scope);\n        this.connectedContexts.add(context);\n        context.connect();\n    }\n    disconnectContextForScope(scope) {\n        const context = this.contextsByScope.get(scope);\n        if (context) {\n            this.connectedContexts.delete(context);\n            context.disconnect();\n        }\n    }\n    fetchContextForScope(scope) {\n        let context = this.contextsByScope.get(scope);\n        if (!context) {\n            context = new Context(this, scope);\n            this.contextsByScope.set(scope, context);\n        }\n        return context;\n    }\n}\n\nclass ClassMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    has(name) {\n        return this.data.has(this.getDataKey(name));\n    }\n    get(name) {\n        return this.getAll(name)[0];\n    }\n    getAll(name) {\n        const tokenString = this.data.get(this.getDataKey(name)) || \"\";\n        return tokenize(tokenString);\n    }\n    getAttributeName(name) {\n        return this.data.getAttributeNameForKey(this.getDataKey(name));\n    }\n    getDataKey(name) {\n        return `${name}-class`;\n    }\n    get data() {\n        return this.scope.data;\n    }\n}\n\nclass DataMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.getAttribute(name);\n    }\n    set(key, value) {\n        const name = this.getAttributeNameForKey(key);\n        this.element.setAttribute(name, value);\n        return this.get(key);\n    }\n    has(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.hasAttribute(name);\n    }\n    delete(key) {\n        if (this.has(key)) {\n            const name = this.getAttributeNameForKey(key);\n            this.element.removeAttribute(name);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    getAttributeNameForKey(key) {\n        return `data-${this.identifier}-${dasherize(key)}`;\n    }\n}\n\nclass Guide {\n    constructor(logger) {\n        this.warnedKeysByObject = new WeakMap();\n        this.logger = logger;\n    }\n    warn(object, key, message) {\n        let warnedKeys = this.warnedKeysByObject.get(object);\n        if (!warnedKeys) {\n            warnedKeys = new Set();\n            this.warnedKeysByObject.set(object, warnedKeys);\n        }\n        if (!warnedKeys.has(key)) {\n            warnedKeys.add(key);\n            this.logger.warn(message, object);\n        }\n    }\n}\n\nfunction attributeValueContainsToken(attributeName, token) {\n    return `[${attributeName}~=\"${token}\"]`;\n}\n\nclass TargetSet {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(targetName) {\n        return this.find(targetName) != null;\n    }\n    find(...targetNames) {\n        return targetNames.reduce((target, targetName) => target || this.findTarget(targetName) || this.findLegacyTarget(targetName), undefined);\n    }\n    findAll(...targetNames) {\n        return targetNames.reduce((targets, targetName) => [\n            ...targets,\n            ...this.findAllTargets(targetName),\n            ...this.findAllLegacyTargets(targetName),\n        ], []);\n    }\n    findTarget(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findElement(selector);\n    }\n    findAllTargets(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector);\n    }\n    getSelectorForTargetName(targetName) {\n        const attributeName = this.schema.targetAttributeForScope(this.identifier);\n        return attributeValueContainsToken(attributeName, targetName);\n    }\n    findLegacyTarget(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.deprecate(this.scope.findElement(selector), targetName);\n    }\n    findAllLegacyTargets(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector).map((element) => this.deprecate(element, targetName));\n    }\n    getLegacySelectorForTargetName(targetName) {\n        const targetDescriptor = `${this.identifier}.${targetName}`;\n        return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n    }\n    deprecate(element, targetName) {\n        if (element) {\n            const { identifier } = this;\n            const attributeName = this.schema.targetAttribute;\n            const revisedAttributeName = this.schema.targetAttributeForScope(identifier);\n            this.guide.warn(element, `target:${targetName}`, `Please replace ${attributeName}=\"${identifier}.${targetName}\" with ${revisedAttributeName}=\"${targetName}\". ` +\n                `The ${attributeName} attribute is deprecated and will be removed in a future version of Stimulus.`);\n        }\n        return element;\n    }\n    get guide() {\n        return this.scope.guide;\n    }\n}\n\nclass OutletSet {\n    constructor(scope, controllerElement) {\n        this.scope = scope;\n        this.controllerElement = controllerElement;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(outletName) {\n        return this.find(outletName) != null;\n    }\n    find(...outletNames) {\n        return outletNames.reduce((outlet, outletName) => outlet || this.findOutlet(outletName), undefined);\n    }\n    findAll(...outletNames) {\n        return outletNames.reduce((outlets, outletName) => [...outlets, ...this.findAllOutlets(outletName)], []);\n    }\n    getSelectorForOutletName(outletName) {\n        const attributeName = this.schema.outletAttributeForScope(this.identifier, outletName);\n        return this.controllerElement.getAttribute(attributeName);\n    }\n    findOutlet(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        if (selector)\n            return this.findElement(selector, outletName);\n    }\n    findAllOutlets(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        return selector ? this.findAllElements(selector, outletName) : [];\n    }\n    findElement(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName))[0];\n    }\n    findAllElements(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName));\n    }\n    matchesElement(element, selector, outletName) {\n        const controllerAttribute = element.getAttribute(this.scope.schema.controllerAttribute) || \"\";\n        return element.matches(selector) && controllerAttribute.split(\" \").includes(outletName);\n    }\n}\n\nclass Scope {\n    constructor(schema, element, identifier, logger) {\n        this.targets = new TargetSet(this);\n        this.classes = new ClassMap(this);\n        this.data = new DataMap(this);\n        this.containsElement = (element) => {\n            return element.closest(this.controllerSelector) === this.element;\n        };\n        this.schema = schema;\n        this.element = element;\n        this.identifier = identifier;\n        this.guide = new Guide(logger);\n        this.outlets = new OutletSet(this.documentScope, element);\n    }\n    findElement(selector) {\n        return this.element.matches(selector) ? this.element : this.queryElements(selector).find(this.containsElement);\n    }\n    findAllElements(selector) {\n        return [\n            ...(this.element.matches(selector) ? [this.element] : []),\n            ...this.queryElements(selector).filter(this.containsElement),\n        ];\n    }\n    queryElements(selector) {\n        return Array.from(this.element.querySelectorAll(selector));\n    }\n    get controllerSelector() {\n        return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n    }\n    get isDocumentScope() {\n        return this.element === document.documentElement;\n    }\n    get documentScope() {\n        return this.isDocumentScope\n            ? this\n            : new Scope(this.schema, document.documentElement, this.identifier, this.guide.logger);\n    }\n}\n\nclass ScopeObserver {\n    constructor(element, schema, delegate) {\n        this.element = element;\n        this.schema = schema;\n        this.delegate = delegate;\n        this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);\n        this.scopesByIdentifierByElement = new WeakMap();\n        this.scopeReferenceCounts = new WeakMap();\n    }\n    start() {\n        this.valueListObserver.start();\n    }\n    stop() {\n        this.valueListObserver.stop();\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    parseValueForToken(token) {\n        const { element, content: identifier } = token;\n        return this.parseValueForElementAndIdentifier(element, identifier);\n    }\n    parseValueForElementAndIdentifier(element, identifier) {\n        const scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);\n        let scope = scopesByIdentifier.get(identifier);\n        if (!scope) {\n            scope = this.delegate.createScopeForElementAndIdentifier(element, identifier);\n            scopesByIdentifier.set(identifier, scope);\n        }\n        return scope;\n    }\n    elementMatchedValue(element, value) {\n        const referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;\n        this.scopeReferenceCounts.set(value, referenceCount);\n        if (referenceCount == 1) {\n            this.delegate.scopeConnected(value);\n        }\n    }\n    elementUnmatchedValue(element, value) {\n        const referenceCount = this.scopeReferenceCounts.get(value);\n        if (referenceCount) {\n            this.scopeReferenceCounts.set(value, referenceCount - 1);\n            if (referenceCount == 1) {\n                this.delegate.scopeDisconnected(value);\n            }\n        }\n    }\n    fetchScopesByIdentifierForElement(element) {\n        let scopesByIdentifier = this.scopesByIdentifierByElement.get(element);\n        if (!scopesByIdentifier) {\n            scopesByIdentifier = new Map();\n            this.scopesByIdentifierByElement.set(element, scopesByIdentifier);\n        }\n        return scopesByIdentifier;\n    }\n}\n\nclass Router {\n    constructor(application) {\n        this.application = application;\n        this.scopeObserver = new ScopeObserver(this.element, this.schema, this);\n        this.scopesByIdentifier = new Multimap();\n        this.modulesByIdentifier = new Map();\n    }\n    get element() {\n        return this.application.element;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get logger() {\n        return this.application.logger;\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    get modules() {\n        return Array.from(this.modulesByIdentifier.values());\n    }\n    get contexts() {\n        return this.modules.reduce((contexts, module) => contexts.concat(module.contexts), []);\n    }\n    start() {\n        this.scopeObserver.start();\n    }\n    stop() {\n        this.scopeObserver.stop();\n    }\n    loadDefinition(definition) {\n        this.unloadIdentifier(definition.identifier);\n        const module = new Module(this.application, definition);\n        this.connectModule(module);\n        const afterLoad = definition.controllerConstructor.afterLoad;\n        if (afterLoad) {\n            afterLoad.call(definition.controllerConstructor, definition.identifier, this.application);\n        }\n    }\n    unloadIdentifier(identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            this.disconnectModule(module);\n        }\n    }\n    getContextForElementAndIdentifier(element, identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            return module.contexts.find((context) => context.element == element);\n        }\n    }\n    proposeToConnectScopeForElementAndIdentifier(element, identifier) {\n        const scope = this.scopeObserver.parseValueForElementAndIdentifier(element, identifier);\n        if (scope) {\n            this.scopeObserver.elementMatchedValue(scope.element, scope);\n        }\n        else {\n            console.error(`Couldn't find or create scope for identifier: \"${identifier}\" and element:`, element);\n        }\n    }\n    handleError(error, message, detail) {\n        this.application.handleError(error, message, detail);\n    }\n    createScopeForElementAndIdentifier(element, identifier) {\n        return new Scope(this.schema, element, identifier, this.logger);\n    }\n    scopeConnected(scope) {\n        this.scopesByIdentifier.add(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.connectContextForScope(scope);\n        }\n    }\n    scopeDisconnected(scope) {\n        this.scopesByIdentifier.delete(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.disconnectContextForScope(scope);\n        }\n    }\n    connectModule(module) {\n        this.modulesByIdentifier.set(module.identifier, module);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.connectContextForScope(scope));\n    }\n    disconnectModule(module) {\n        this.modulesByIdentifier.delete(module.identifier);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.disconnectContextForScope(scope));\n    }\n}\n\nconst defaultSchema = {\n    controllerAttribute: \"data-controller\",\n    actionAttribute: \"data-action\",\n    targetAttribute: \"data-target\",\n    targetAttributeForScope: (identifier) => `data-${identifier}-target`,\n    outletAttributeForScope: (identifier, outlet) => `data-${identifier}-${outlet}-outlet`,\n    keyMappings: Object.assign(Object.assign({ enter: \"Enter\", tab: \"Tab\", esc: \"Escape\", space: \" \", up: \"ArrowUp\", down: \"ArrowDown\", left: \"ArrowLeft\", right: \"ArrowRight\", home: \"Home\", end: \"End\", page_up: \"PageUp\", page_down: \"PageDown\" }, objectFromEntries(\"abcdefghijklmnopqrstuvwxyz\".split(\"\").map((c) => [c, c]))), objectFromEntries(\"0123456789\".split(\"\").map((n) => [n, n]))),\n};\nfunction objectFromEntries(array) {\n    return array.reduce((memo, [k, v]) => (Object.assign(Object.assign({}, memo), { [k]: v })), {});\n}\n\nclass Application {\n    constructor(element = document.documentElement, schema = defaultSchema) {\n        this.logger = console;\n        this.debug = false;\n        this.logDebugActivity = (identifier, functionName, detail = {}) => {\n            if (this.debug) {\n                this.logFormattedMessage(identifier, functionName, detail);\n            }\n        };\n        this.element = element;\n        this.schema = schema;\n        this.dispatcher = new Dispatcher(this);\n        this.router = new Router(this);\n        this.actionDescriptorFilters = Object.assign({}, defaultActionDescriptorFilters);\n    }\n    static start(element, schema) {\n        const application = new this(element, schema);\n        application.start();\n        return application;\n    }\n    async start() {\n        await domReady();\n        this.logDebugActivity(\"application\", \"starting\");\n        this.dispatcher.start();\n        this.router.start();\n        this.logDebugActivity(\"application\", \"start\");\n    }\n    stop() {\n        this.logDebugActivity(\"application\", \"stopping\");\n        this.dispatcher.stop();\n        this.router.stop();\n        this.logDebugActivity(\"application\", \"stop\");\n    }\n    register(identifier, controllerConstructor) {\n        this.load({ identifier, controllerConstructor });\n    }\n    registerActionOption(name, filter) {\n        this.actionDescriptorFilters[name] = filter;\n    }\n    load(head, ...rest) {\n        const definitions = Array.isArray(head) ? head : [head, ...rest];\n        definitions.forEach((definition) => {\n            if (definition.controllerConstructor.shouldLoad) {\n                this.router.loadDefinition(definition);\n            }\n        });\n    }\n    unload(head, ...rest) {\n        const identifiers = Array.isArray(head) ? head : [head, ...rest];\n        identifiers.forEach((identifier) => this.router.unloadIdentifier(identifier));\n    }\n    get controllers() {\n        return this.router.contexts.map((context) => context.controller);\n    }\n    getControllerForElementAndIdentifier(element, identifier) {\n        const context = this.router.getContextForElementAndIdentifier(element, identifier);\n        return context ? context.controller : null;\n    }\n    handleError(error, message, detail) {\n        var _a;\n        this.logger.error(`%s\\n\\n%o\\n\\n%o`, message, error, detail);\n        (_a = window.onerror) === null || _a === void 0 ? void 0 : _a.call(window, message, \"\", 0, 0, error);\n    }\n    logFormattedMessage(identifier, functionName, detail = {}) {\n        detail = Object.assign({ application: this }, detail);\n        this.logger.groupCollapsed(`${identifier} #${functionName}`);\n        this.logger.log(\"details:\", Object.assign({}, detail));\n        this.logger.groupEnd();\n    }\n}\nfunction domReady() {\n    return new Promise((resolve) => {\n        if (document.readyState == \"loading\") {\n            document.addEventListener(\"DOMContentLoaded\", () => resolve());\n        }\n        else {\n            resolve();\n        }\n    });\n}\n\nfunction ClassPropertiesBlessing(constructor) {\n    const classes = readInheritableStaticArrayValues(constructor, \"classes\");\n    return classes.reduce((properties, classDefinition) => {\n        return Object.assign(properties, propertiesForClassDefinition(classDefinition));\n    }, {});\n}\nfunction propertiesForClassDefinition(key) {\n    return {\n        [`${key}Class`]: {\n            get() {\n                const { classes } = this;\n                if (classes.has(key)) {\n                    return classes.get(key);\n                }\n                else {\n                    const attribute = classes.getAttributeName(key);\n                    throw new Error(`Missing attribute \"${attribute}\"`);\n                }\n            },\n        },\n        [`${key}Classes`]: {\n            get() {\n                return this.classes.getAll(key);\n            },\n        },\n        [`has${capitalize(key)}Class`]: {\n            get() {\n                return this.classes.has(key);\n            },\n        },\n    };\n}\n\nfunction OutletPropertiesBlessing(constructor) {\n    const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n    return outlets.reduce((properties, outletDefinition) => {\n        return Object.assign(properties, propertiesForOutletDefinition(outletDefinition));\n    }, {});\n}\nfunction getOutletController(controller, element, identifier) {\n    return controller.application.getControllerForElementAndIdentifier(element, identifier);\n}\nfunction getControllerAndEnsureConnectedScope(controller, element, outletName) {\n    let outletController = getOutletController(controller, element, outletName);\n    if (outletController)\n        return outletController;\n    controller.application.router.proposeToConnectScopeForElementAndIdentifier(element, outletName);\n    outletController = getOutletController(controller, element, outletName);\n    if (outletController)\n        return outletController;\n}\nfunction propertiesForOutletDefinition(name) {\n    const camelizedName = namespaceCamelize(name);\n    return {\n        [`${camelizedName}Outlet`]: {\n            get() {\n                const outletElement = this.outlets.find(name);\n                const selector = this.outlets.getSelectorForOutletName(name);\n                if (outletElement) {\n                    const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);\n                    if (outletController)\n                        return outletController;\n                    throw new Error(`The provided outlet element is missing an outlet controller \"${name}\" instance for host controller \"${this.identifier}\"`);\n                }\n                throw new Error(`Missing outlet element \"${name}\" for host controller \"${this.identifier}\". Stimulus couldn't find a matching outlet element using selector \"${selector}\".`);\n            },\n        },\n        [`${camelizedName}Outlets`]: {\n            get() {\n                const outlets = this.outlets.findAll(name);\n                if (outlets.length > 0) {\n                    return outlets\n                        .map((outletElement) => {\n                        const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);\n                        if (outletController)\n                            return outletController;\n                        console.warn(`The provided outlet element is missing an outlet controller \"${name}\" instance for host controller \"${this.identifier}\"`, outletElement);\n                    })\n                        .filter((controller) => controller);\n                }\n                return [];\n            },\n        },\n        [`${camelizedName}OutletElement`]: {\n            get() {\n                const outletElement = this.outlets.find(name);\n                const selector = this.outlets.getSelectorForOutletName(name);\n                if (outletElement) {\n                    return outletElement;\n                }\n                else {\n                    throw new Error(`Missing outlet element \"${name}\" for host controller \"${this.identifier}\". Stimulus couldn't find a matching outlet element using selector \"${selector}\".`);\n                }\n            },\n        },\n        [`${camelizedName}OutletElements`]: {\n            get() {\n                return this.outlets.findAll(name);\n            },\n        },\n        [`has${capitalize(camelizedName)}Outlet`]: {\n            get() {\n                return this.outlets.has(name);\n            },\n        },\n    };\n}\n\nfunction TargetPropertiesBlessing(constructor) {\n    const targets = readInheritableStaticArrayValues(constructor, \"targets\");\n    return targets.reduce((properties, targetDefinition) => {\n        return Object.assign(properties, propertiesForTargetDefinition(targetDefinition));\n    }, {});\n}\nfunction propertiesForTargetDefinition(name) {\n    return {\n        [`${name}Target`]: {\n            get() {\n                const target = this.targets.find(name);\n                if (target) {\n                    return target;\n                }\n                else {\n                    throw new Error(`Missing target element \"${name}\" for \"${this.identifier}\" controller`);\n                }\n            },\n        },\n        [`${name}Targets`]: {\n            get() {\n                return this.targets.findAll(name);\n            },\n        },\n        [`has${capitalize(name)}Target`]: {\n            get() {\n                return this.targets.has(name);\n            },\n        },\n    };\n}\n\nfunction ValuePropertiesBlessing(constructor) {\n    const valueDefinitionPairs = readInheritableStaticObjectPairs(constructor, \"values\");\n    const propertyDescriptorMap = {\n        valueDescriptorMap: {\n            get() {\n                return valueDefinitionPairs.reduce((result, valueDefinitionPair) => {\n                    const valueDescriptor = parseValueDefinitionPair(valueDefinitionPair, this.identifier);\n                    const attributeName = this.data.getAttributeNameForKey(valueDescriptor.key);\n                    return Object.assign(result, { [attributeName]: valueDescriptor });\n                }, {});\n            },\n        },\n    };\n    return valueDefinitionPairs.reduce((properties, valueDefinitionPair) => {\n        return Object.assign(properties, propertiesForValueDefinitionPair(valueDefinitionPair));\n    }, propertyDescriptorMap);\n}\nfunction propertiesForValueDefinitionPair(valueDefinitionPair, controller) {\n    const definition = parseValueDefinitionPair(valueDefinitionPair, controller);\n    const { key, name, reader: read, writer: write } = definition;\n    return {\n        [name]: {\n            get() {\n                const value = this.data.get(key);\n                if (value !== null) {\n                    return read(value);\n                }\n                else {\n                    return definition.defaultValue;\n                }\n            },\n            set(value) {\n                if (value === undefined) {\n                    this.data.delete(key);\n                }\n                else {\n                    this.data.set(key, write(value));\n                }\n            },\n        },\n        [`has${capitalize(name)}`]: {\n            get() {\n                return this.data.has(key) || definition.hasCustomDefaultValue;\n            },\n        },\n    };\n}\nfunction parseValueDefinitionPair([token, typeDefinition], controller) {\n    return valueDescriptorForTokenAndTypeDefinition({\n        controller,\n        token,\n        typeDefinition,\n    });\n}\nfunction parseValueTypeConstant(constant) {\n    switch (constant) {\n        case Array:\n            return \"array\";\n        case Boolean:\n            return \"boolean\";\n        case Number:\n            return \"number\";\n        case Object:\n            return \"object\";\n        case String:\n            return \"string\";\n    }\n}\nfunction parseValueTypeDefault(defaultValue) {\n    switch (typeof defaultValue) {\n        case \"boolean\":\n            return \"boolean\";\n        case \"number\":\n            return \"number\";\n        case \"string\":\n            return \"string\";\n    }\n    if (Array.isArray(defaultValue))\n        return \"array\";\n    if (Object.prototype.toString.call(defaultValue) === \"[object Object]\")\n        return \"object\";\n}\nfunction parseValueTypeObject(payload) {\n    const { controller, token, typeObject } = payload;\n    const hasType = isSomething(typeObject.type);\n    const hasDefault = isSomething(typeObject.default);\n    const fullObject = hasType && hasDefault;\n    const onlyType = hasType && !hasDefault;\n    const onlyDefault = !hasType && hasDefault;\n    const typeFromObject = parseValueTypeConstant(typeObject.type);\n    const typeFromDefaultValue = parseValueTypeDefault(payload.typeObject.default);\n    if (onlyType)\n        return typeFromObject;\n    if (onlyDefault)\n        return typeFromDefaultValue;\n    if (typeFromObject !== typeFromDefaultValue) {\n        const propertyPath = controller ? `${controller}.${token}` : token;\n        throw new Error(`The specified default value for the Stimulus Value \"${propertyPath}\" must match the defined type \"${typeFromObject}\". The provided default value of \"${typeObject.default}\" is of type \"${typeFromDefaultValue}\".`);\n    }\n    if (fullObject)\n        return typeFromObject;\n}\nfunction parseValueTypeDefinition(payload) {\n    const { controller, token, typeDefinition } = payload;\n    const typeObject = { controller, token, typeObject: typeDefinition };\n    const typeFromObject = parseValueTypeObject(typeObject);\n    const typeFromDefaultValue = parseValueTypeDefault(typeDefinition);\n    const typeFromConstant = parseValueTypeConstant(typeDefinition);\n    const type = typeFromObject || typeFromDefaultValue || typeFromConstant;\n    if (type)\n        return type;\n    const propertyPath = controller ? `${controller}.${typeDefinition}` : token;\n    throw new Error(`Unknown value type \"${propertyPath}\" for \"${token}\" value`);\n}\nfunction defaultValueForDefinition(typeDefinition) {\n    const constant = parseValueTypeConstant(typeDefinition);\n    if (constant)\n        return defaultValuesByType[constant];\n    const hasDefault = hasProperty(typeDefinition, \"default\");\n    const hasType = hasProperty(typeDefinition, \"type\");\n    const typeObject = typeDefinition;\n    if (hasDefault)\n        return typeObject.default;\n    if (hasType) {\n        const { type } = typeObject;\n        const constantFromType = parseValueTypeConstant(type);\n        if (constantFromType)\n            return defaultValuesByType[constantFromType];\n    }\n    return typeDefinition;\n}\nfunction valueDescriptorForTokenAndTypeDefinition(payload) {\n    const { token, typeDefinition } = payload;\n    const key = `${dasherize(token)}-value`;\n    const type = parseValueTypeDefinition(payload);\n    return {\n        type,\n        key,\n        name: camelize(key),\n        get defaultValue() {\n            return defaultValueForDefinition(typeDefinition);\n        },\n        get hasCustomDefaultValue() {\n            return parseValueTypeDefault(typeDefinition) !== undefined;\n        },\n        reader: readers[type],\n        writer: writers[type] || writers.default,\n    };\n}\nconst defaultValuesByType = {\n    get array() {\n        return [];\n    },\n    boolean: false,\n    number: 0,\n    get object() {\n        return {};\n    },\n    string: \"\",\n};\nconst readers = {\n    array(value) {\n        const array = JSON.parse(value);\n        if (!Array.isArray(array)) {\n            throw new TypeError(`expected value of type \"array\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(array)}\"`);\n        }\n        return array;\n    },\n    boolean(value) {\n        return !(value == \"0\" || String(value).toLowerCase() == \"false\");\n    },\n    number(value) {\n        return Number(value.replace(/_/g, \"\"));\n    },\n    object(value) {\n        const object = JSON.parse(value);\n        if (object === null || typeof object != \"object\" || Array.isArray(object)) {\n            throw new TypeError(`expected value of type \"object\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(object)}\"`);\n        }\n        return object;\n    },\n    string(value) {\n        return value;\n    },\n};\nconst writers = {\n    default: writeString,\n    array: writeJSON,\n    object: writeJSON,\n};\nfunction writeJSON(value) {\n    return JSON.stringify(value);\n}\nfunction writeString(value) {\n    return `${value}`;\n}\n\nclass Controller {\n    constructor(context) {\n        this.context = context;\n    }\n    static get shouldLoad() {\n        return true;\n    }\n    static afterLoad(_identifier, _application) {\n        return;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get targets() {\n        return this.scope.targets;\n    }\n    get outlets() {\n        return this.scope.outlets;\n    }\n    get classes() {\n        return this.scope.classes;\n    }\n    get data() {\n        return this.scope.data;\n    }\n    initialize() {\n    }\n    connect() {\n    }\n    disconnect() {\n    }\n    dispatch(eventName, { target = this.element, detail = {}, prefix = this.identifier, bubbles = true, cancelable = true, } = {}) {\n        const type = prefix ? `${prefix}:${eventName}` : eventName;\n        const event = new CustomEvent(type, { detail, bubbles, cancelable });\n        target.dispatchEvent(event);\n        return event;\n    }\n}\nController.blessings = [\n    ClassPropertiesBlessing,\n    TargetPropertiesBlessing,\n    ValuePropertiesBlessing,\n    OutletPropertiesBlessing,\n];\nController.targets = [];\nController.outlets = [];\nController.values = {};\n\nexport { Application, AttributeObserver, Context, Controller, ElementObserver, IndexedMultimap, Multimap, SelectorObserver, StringMapObserver, TokenListObserver, ValueListObserver, add, defaultSchema, del, fetch, prune };\n", "import { LightGallery } from './lightgallery';\nimport { VideoSource } from './plugins/video/types';\n\n/**\n * List of lightGallery events\n * All events should be documented here\n * Below interfaces are used to build the website documentations\n * */\nexport const lGEvents: {\n    [key: string]: string;\n} = {\n    afterAppendSlide: 'lgAfterAppendSlide',\n    init: 'lgInit',\n    hasVideo: 'lgHasVideo',\n    containerResize: 'lgContainerResize',\n    updateSlides: 'lgUpdateSlides',\n    afterAppendSubHtml: 'lgAfterAppendSubHtml',\n    beforeOpen: 'lgBeforeOpen',\n    afterOpen: 'lgAfterOpen',\n    slideItemLoad: 'lgSlideItemLoad',\n    beforeSlide: 'lgBeforeSlide',\n    afterSlide: 'lgAfterSlide',\n    posterClick: 'lgPosterClick',\n    dragStart: 'lgDragStart',\n    dragMove: 'lgDragMove',\n    dragEnd: 'lgDragEnd',\n    beforeNextSlide: 'lgBeforeNextSlide',\n    beforePrevSlide: 'lgBeforePrevSlide',\n    beforeClose: 'lgBeforeClose',\n    afterClose: 'lgAfterClose',\n    rotateLeft: 'lgRotateLeft',\n    rotateRight: 'lgRotateRight',\n    flipHorizontal: 'lgFlipHorizontal',\n    flipVertical: 'lgFlipVertical',\n    autoplay: 'lgAutoplay',\n    autoplayStart: 'lgAutoplayStart',\n    autoplayStop: 'lgAutoplayStop',\n};\n\n// Follow the below format for the event documentation\n// @method is the method name when event is used with Angular/React components\n\n/**\n * Fired only once when lightGallery is initialized\n * @name lgInit\n * @method onInit\n * @example\n *   const lg = document.getElementById('custom-events-demo');\n *   // Perform any action on lightGallery initialization.\n *   // Init event returns the plugin instance that can be used to call any lightGalley public method\n *   let pluginInstance = null;\n *   lg.addEventListener('lgInit', (event) => {\n *      pluginInstance = event.detail.instance;\n *   });\n *   lightGallery(lg);\n * @see <a href=\"/docs/methods\">Methods<a>\n */\nexport interface InitDetail {\n    /**\n     * lightGallery plugin instance\n     */\n    instance: LightGallery;\n}\n\n/**\n * Fired when the slide content has been inserted into it's slide container.\n * @name lgAfterAppendSlide\n * @method onAfterAppendSlide\n */\nexport interface AfterAppendSlideEventDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n\n/**\n * Fired immediately before opening the gallery\n * @name lgBeforeOpen\n * @method onBeforeOpen\n */\nexport interface BeforeOpenDetail {}\n\n/**\n * Fired immediately after opening the gallery\n * @name lgAfterOpen\n * @method onAfterOpen\n */\nexport interface AfterOpenDetail {}\n\n/**\n * Fired once the media inside the slide has been completely loaded .\n * @name lgSlideItemLoad\n * @method onSlideItemLoad\n */\nexport interface SlideItemLoadDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n    /**\n     * For the first slide, lightGallery adds some delay for displaying the loaded slide item.\n     * This delay is required for the transition effect when the slide item is displayed\n     * Respect the delay when you use this event\n     */\n    delay: number;\n\n    // Will be true for the first slide\n    isFirstSlide: boolean;\n}\n\n/**\n * Fired immediately before each slide transition.\n * @name lgBeforeSlide\n * @method onBeforeSlide\n * @example\n *   const lg = document.getElementById('custom-events-demo');\n *   // Perform any action before each slide transition\n *   lg.addEventListener('lgBeforeSlide', (event) => {\n *       const { index, prevIndex } = event.detail;\n *       alert(index, prevIndex);\n *   });\n *   lightGallery(lg);\n */\nexport interface BeforeSlideDetail {\n    /**\n     * Index of the previous slide\n     */\n    prevIndex: number;\n    /**\n     * Index of the slide\n     */\n    index: number;\n    /**\n     * true if slide function called via touch event or mouse drag\n     */\n    fromTouch: boolean;\n    /**\n     * true if slide function called via thumbnail click\n     */\n    fromThumb: boolean;\n}\n\n/**\n * Fired immediately after each slide transition.\n * @name lgAfterSlide\n * @method onAfterSlide\n */\nexport interface AfterSlideDetail {\n    /**\n     * Index of the previous slide\n     */\n    prevIndex: number;\n    /**\n     * Index of the slide\n     */\n    index: number;\n    /**\n     * true if slide function called via touch event or mouse drag\n     */\n    fromTouch: boolean;\n    /**\n     * true if slide function called via thumbnail click\n     */\n    fromThumb: boolean;\n}\n\n/**\n * Fired when the video poster is clicked.\n * @name lgPosterClick\n * @method onPosterClick\n */\nexport interface PosterClickDetail {}\n\n/**\n * Fired when the drag event to move to different slide starts.\n * @name lgDragStart\n * @method onDragStart\n */\nexport interface DragStartDetail {}\n\n/**\n * Fired periodically during the drag operation.\n * @name lgDragMove\n * @method onDragMove\n */\nexport interface DragMoveDetail {}\n\n/**\n * Fired when the user has finished the drag operation\n * @name lgDragEnd\n * @method onDragEnd\n */\nexport interface DragEndDetail {}\n\n/**\n * Fired immediately before the start of the close process.\n * @name lgBeforeClose\n * @method onBeforeClose\n */\nexport interface BeforeCloseDetail {}\n\n/**\n * Fired immediately once lightGallery is closed.\n * @name lgAfterClose\n * @method onAfterClose\n */\nexport interface AfterCloseDetail {\n    /**\n     * lightGallery plugin instance\n     */\n    instance: LightGallery;\n}\n\n/**\n * Fired immediately before each \"next\" slide transition\n * @name lgBeforeNextSlide\n * @method onBeforeNextSlide\n */\nexport interface BeforeNextSlideDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n    /**\n     * true if slide function called via touch event or mouse drag\n     */\n    fromTouch: boolean;\n}\n\n/**\n * Fired immediately before each \"prev\" slide transition\n * @name lgBeforePrevSlide\n * @method onBeforePrevSlide\n */\nexport interface BeforePrevSlideDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n    /**\n     * true if slide function called via touch event or mouse drag\n     */\n    fromTouch: boolean;\n}\n\n/**\n * Fired when the sub-html content (ex : title/ description) has been appended into the slide.\n * @name lgAfterAppendSubHtml\n * @method onAfterAppendSubHtml\n */\nexport interface AfterAppendSubHtmlDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n\n/**\n * Fired when the lightGallery container has been resized.\n * @name lgContainerResize\n * @method onContainerResize\n */\nexport interface ContainerResizeDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n\n/**\n * Fired when lightGallery detects video slide\n * @name lgHasVideo\n * @method onHasVideo\n */\nexport interface HasVideoDetail {\n    /**\n     * Index of the slide,\n     */\n    index: number;\n    /**\n     * Video source\n     */\n    src: string;\n    /**\n     * HTML5 video source if available\n     * <p>\n       HTML5 video source = source: {\n            src: string;\n            type: string;\n        }[];\n        attributes: HTMLVideoElement;\n     * </p>\n     */\n    html5Video: VideoSource;\n    /**\n     * True if video has poster\n     */\n    hasPoster: boolean;\n}\n\n/**\n * Fired when the image is rotated in anticlockwise direction\n * @name lgRotateLeft\n * @method onRotateLeft\n */\nexport interface RotateLeftDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n\n/**\n * Fired when the image is rotated in clockwise direction\n * @name lgRotateRight\n * @method onRotateRight\n */\nexport interface RotateRightDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n\n/**\n * Fired when the image is flipped horizontally\n * @name lgFlipHorizontal\n * @method onFlipHorizontal\n */\nexport interface FlipHorizontalDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n\n/**\n * Fired when the image is flipped vertically\n * @name lgFlipVertical\n * @method onFlipVertical\n */\nexport interface FlipVerticalDetail {\n    /**\n     * Index of the slide\n     */\n    index: number;\n}\n", "import { GalleryItem } from './lg-utils';\nimport { LgQuery } from './lgQuery';\nimport { LightGallery } from './lightgallery';\nimport { AutoplaySettings } from './plugins/autoplay/lg-autoplay-settings';\nimport { CommentSettings } from './plugins/comment/lg-comment-settings';\nimport { FullscreenSettings } from './plugins/fullscreen/lg-fullscreen-settings';\nimport { HashSettings } from './plugins/hash/lg-hash-settings';\nimport { PagerSettings } from './plugins/pager/lg-pager-settings';\nimport { RotateSettings } from './plugins/rotate/lg-rotate-settings';\nimport { ShareSettings } from './plugins/share/lg-share-settings';\nimport { ThumbnailsSettings } from './plugins/thumbnail/lg-thumbnail-settings';\nimport { VideoSettings } from './plugins/video/lg-video-settings';\nimport { ZoomSettings } from './plugins/zoom/lg-zoom-settings';\n\ntype LightGalleryCoreMobileSettings = Exclude<\n    LightGalleryCoreSettings,\n    'mobileSettings'\n>;\n\n// @todo use separate mobile settings for plugins\nexport interface MobileSettings\n    extends LightGalleryCoreMobileSettings,\n        Partial<ZoomSettings>,\n        Partial<ThumbnailsSettings>,\n        Partial<VideoSettings>,\n        Partial<AutoplaySettings>,\n        Partial<CommentSettings>,\n        Partial<FullscreenSettings>,\n        Partial<HashSettings>,\n        Partial<PagerSettings>,\n        Partial<RotateSettings>,\n        Partial<ShareSettings> {}\n\nexport interface LightGalleryCoreStrings {\n    closeGallery: string;\n    toggleMaximize: string;\n    previousSlide: string;\n    nextSlide: string;\n    download: string;\n    playVideo: string;\n    mediaLoadingFailed: string;\n}\n\nexport type LightGalleryAllSettings = LightGalleryCoreSettings &\n    ZoomSettings &\n    ThumbnailsSettings &\n    VideoSettings &\n    AutoplaySettings &\n    CommentSettings &\n    FullscreenSettings &\n    HashSettings &\n    PagerSettings &\n    RotateSettings &\n    ShareSettings;\n\nexport type LightGallerySettings = Partial<LightGalleryAllSettings>;\n\nexport interface LightGalleryCoreSettings {\n    /**\n     * Type of transition between images.\n     */\n    mode:\n        | 'lg-slide'\n        | 'lg-fade'\n        | 'lg-zoom-in'\n        | 'lg-zoom-in-big'\n        | 'lg-zoom-out'\n        | 'lg-zoom-out-big'\n        | 'lg-zoom-out-in'\n        | 'lg-zoom-in-out'\n        | 'lg-soft-zoom'\n        | 'lg-scale-up'\n        | 'lg-slide-circular'\n        | 'lg-slide-circular-vertical'\n        | 'lg-slide-vertical'\n        | 'lg-slide-vertical-growth'\n        | 'lg-slide-skew-only'\n        | 'lg-slide-skew-only-rev'\n        | 'lg-slide-skew-only-y'\n        | 'lg-slide-skew-only-y-rev'\n        | 'lg-slide-skew'\n        | 'lg-slide-skew-rev'\n        | 'lg-slide-skew-cross'\n        | 'lg-slide-skew-cross-rev'\n        | 'lg-slide-skew-ver'\n        | 'lg-slide-skew-ver-rev'\n        | 'lg-slide-skew-ver-cross'\n        | 'lg-slide-skew-ver-cross-rev'\n        | 'lg-lollipop'\n        | 'lg-lollipop-rev'\n        | 'lg-rotate'\n        | 'lg-rotate-rev'\n        | 'lg-tube';\n\n    /**\n     * Slide animation CSS easing property\n     */\n    easing: string;\n\n    /**\n     *Transition duration (in ms).\n     */\n    speed: number;\n\n    /**\n     * If you are using lightGallery for commercial projects, you need to purchase a commercial license\n     * to get the license key. For projects that are compatible with GPLv3 license,\n     * please contact us for getting a license key at <a href=\"mailto:contact@lightgalleryjs.com\">contact@lightgalleryjs.com</a>.\n     * If you want to test lightGallery before purchasing a commercial license, you can\n     * use `0000-0000-000-0000` as a temporary license key\n     */\n\n    licenseKey: string;\n\n    /**\n     * Height of the gallery.\n     * example '100%' , '300px'\n     */\n    height: string;\n\n    /**\n     * Width of the gallery.\n     * example '100%' , '300px'\n     */\n    width: string;\n\n    /**\n     * Add custom class for gallery container\n     * This can be used to set different style for different galleries\n     */\n    addClass: string;\n\n    /**\n     * Start animation class for the gallery.\n     * @description\n     * <ul>\n     * <li>startClass will be empty zoomFromOrigin is true.</li>\n     * <li>This can be used to change the starting effect when the image is loaded</li>\n     * <li>This is also applied when navigating to new slides</li>\n     * </ul>\n     */\n    startClass: string;\n\n    /**\n     * Enable zoom from origin effect.\n     * @description You need to know the original image size upfront and provide it via data-lg-size attribute as <code> data-lg-size=\"1920-1280</code>\"\n     *\n     * If you don't know, the size of a few images in the list, you can skip the data-lg-size attribute for the particular slides,\n     * lightGallery will show the default animation if data-lg-size is not available\n     *\n     * If you are using responsive images,\n     * you can pass a comma separated list of sizes combined with a max-width (up to what size the particular image should be used)\n     *\n     * example -\n     * <code> data-lg-size=\"240-160-375, 400-267-480, 1600-1067\"\n     * data-responsive=\"img-240.jpg 375, img-400.jpg 480\"\n     * data-src=\"img-1600.jpg\" </code>\n     *\n     * In the above example, upto 375 width img.240.jpg and lg-size 240-160 will be used.\n     * Similarly, upto 480 pixel width size 400-267 and img-400.jpg will be used\n     * And above 480, lg-size 1600-1067 and img-1600.jpg will be used\n     *\n     * <ul>\n     * <li>At the moment, zoomFromOrigin options is supported only for image slides.</li>\n     * <li>Will be false if dynamic option is enabled or galleryID found in the URL.</li>\n     * <li>startClass will be empty if zoomFromOrigin is true to avoid css conflicts.</li>\n     * </ul>\n     */\n    zoomFromOrigin: boolean;\n\n    /**\n     * Zoom from image animation duration\n     */\n    startAnimationDuration: number;\n\n    /**\n     * Backdrop transition duration.\n     * Note - Do not change the value of backdrop via css.\n     */\n    backdropDuration: number;\n\n    /**\n     * Configure where the gallery should be appended.\n     * Useful to create inline galleries and more\n     * It is an empty string in the default settings and later assigned to document.body to avoid accessing document for SSR\n     */\n    container: HTMLElement | '';\n\n    /**\n     * Delay for hiding gallery controls in ms.\n     * Pass <code>0</code> if you don't want to hide the controls\n     */\n    hideBarsDelay: number;\n\n    /**\n     * Delay in hiding controls for the first time when gallery is opened\n     */\n    showBarsAfter: number;\n\n    /**\n     * Delay slide transitions.\n     * @description This is useful if you want to do any action in the current slide before moving to next slide.\n     * <section>\n     * For example, fading out the captions before going to next slide.\n     * <code>.lg-slide-progress</code> class name is added to the current slide immediately after calling the slide method.\n     * But transition begins only after the delay\n     * </section>\n     */\n    slideDelay: number;\n\n    /**\n     * Support legacy browsers\n     * @description Currently this is used only for adding support to srcset attribute via picturefill library\n     * If true lightGallery will show warning message to include picturefill library\n     */\n    supportLegacyBrowser: boolean;\n\n    /**\n     * If true, toolbar, captions and thumbnails will not overlap with media element\n     * This will not effect thumbnails if animateThumb is false\n     * Also, toggle thumbnails button is not displayed if allowMediaOverlap is false\n     * <section>\n     * Note - Changing the position of the media on every slide transition creates a flickering effect.\n     * Therefore, the height of the caption is calculated dynamically, only once based on the first slide caption.\n     * </section>\n     * <section>\n     * if you have dynamic captions for each media,\n     * you can provide an appropriate height for the captions via allowMediaOverlap option\n     * </section>\n     */\n    allowMediaOverlap: boolean;\n\n    /**\n     * Video max size.\n     * @description This can be over-written by passing specific size via data-lg-size attribute\n     * Recommended video resolution and & aspect ratios <a href=\"https://support.google.com/youtube/answer/6375112\">https://support.google.com/youtube/answer/6375112</a>\n     */\n    videoMaxSize: string;\n\n    /**\n     * Automatically load poster image for YouTube videos\n     */\n    loadYouTubePoster: boolean;\n\n    /**\n     * Height of the caption for calculating allowMediaOverlap positions\n     * Note - this is only used to find the position of media item if allowMediaOverlap is true.\n     * Not for setting height of the captions\n     * Set 0 if you want to calculate the height of captions dynamically\n     */\n    defaultCaptionHeight: number;\n\n    /**\n     * aria-labelledby attribute fot gallery\n     */\n    ariaLabelledby: string;\n\n    /**\n     * aria-describedby attribute for gallery\n     */\n    ariaDescribedby: string;\n\n    /**\n     * Hide scrollbar when gallery is opened\n     * @version V2.5.0\n     */\n    hideScrollbar: boolean;\n\n    /**\n     * Reset to previous scrollPosition when lightGallery is closed\n     * @description By default, lightGallery doesn't hide the scrollbar for a smooth opening transition.\n     * If a user changes the scroll position, lightGallery resets it to the previous value\n     * @version V2.5.0\n     */\n    resetScrollPosition: boolean;\n\n    /**\n     * If false user won't be abel to close the gallery at all\n     * This is useful for creating inline galleries.\n     */\n    closable: boolean;\n\n    /**\n     * allows vertical drag/swipe to close gallery\n     * <code>false</code> if option <code>closable</code> is <code>false</code>\n     */\n    swipeToClose: boolean;\n    /**\n     * allows clicks on black area to close gallery.\n     */\n    closeOnTap: boolean;\n\n    /**\n     * If false, close button won't be displayed.\n     * Useful for creating inline galleries.\n     */\n    showCloseIcon: boolean;\n\n    /**\n     * Show maximize icon.\n     * Useful for creating inline galleries.\n     */\n    showMaximizeIcon: boolean;\n\n    /**\n     * If false, will disable the ability to loop back to the beginning of the gallery from the last slide.\n     */\n    loop: boolean;\n\n    /**\n     * Whether the LightGallery could be closed by pressing the \"Esc\" key.\n     */\n    escKey: boolean;\n\n    /**\n     * Enable keyboard navigation\n     */\n    keyPress: boolean;\n\n    /**\n     * Trap focus within the lightGallery\n     * @version V2.5.0\n     */\n    trapFocus: boolean;\n\n    /**\n     * If false, prev/next buttons will not be displayed.\n     */\n    controls: boolean;\n\n    /**\n     * Enable slideEnd animation\n     */\n    slideEndAnimation: boolean;\n\n    /**\n     * If true, prev/next button will be hidden on first/last image.\n     * @description Note - this option will be ignored if <code>loop</code> or <code>slideEndAnimation</code> is set to true\n     */\n    hideControlOnEnd: boolean;\n\n    /**\n     * ability to navigate to next/prev slides on mousewheel\n     */\n    mousewheel: boolean;\n\n    /**\n     * Option to get captions from alt or title tags.\n     */\n    getCaptionFromTitleOrAlt: boolean;\n\n    /**\n     * control where the sub-html should be appended.\n     * If you choose '.lg-outer', you are responsible for placing the div at the right position.\n     * '.lg-outer' is useful if you want show custom HTML outside the normal gallery\n     */\n    appendSubHtmlTo: '.lg-sub-html' | '.lg-item' | '.lg-outer';\n\n    /**\n     * Set to true if the selector in \"data-sub-html\" should use the current item as its origin.\n     */\n    subHtmlSelectorRelative: boolean;\n\n    /**\n     * number of preload slides\n     * @description will exicute only after the current slide is fully loaded.\n     * for example, if you click on 4th image and if preload = 1 then 3rd slide and 5th\n     * slide will be loaded in the background after the 4th slide is fully loaded..\n     * if preload is 2 then 2nd 3rd 5th 6th slides will be preloaded.\n     */\n    preload: number;\n\n    /**\n     * Control how many slide items should be kept in dom at a time\n     * @description To improve performance by reducing number of gallery items in the dom,\n     * lightGallery keeps only the lowest possible number of slides in the dom at a time.\n     * This has a minimum value of 3\n     */\n    numberOfSlideItemsInDom: number;\n\n    /**\n     * Custom selector property instead of direct children.\n     * @description Based on your markup structure, you can specify custom selectors to fetch media data for the gallery\n     * Pass \"this\" to select same element\n     * You can also pass HTMLCollection directly\n     * Example - '.my-selector' | '#my-selector' | this | document.querySelectorAll('.my-selector')\n     */\n    selector: string | HTMLCollection[];\n\n    /**\n     * By default selector element relative to the current gallery.\n     * Instead of that you can tell lightGallery to select element relative to another element.\n     * Example - '.my-selector-container' | '#my-selector-container'\n     * In the code this become selector =  document.querySelector(this.s.selectWithin ).querySelectorAll(this.s.selector);\n     */\n    selectWithin: string;\n\n    /**\n     * Custom html for next control\n     */\n    nextHtml: string;\n\n    /**\n     * Custom html for prev control\n     */\n    prevHtml: string;\n\n    /**\n     * specify which slide should load initially\n     */\n    index: number;\n\n    /**\n     * Set width for iframe.\n     */\n    iframeWidth: string;\n\n    /**\n     * Set height for iframe.\n     */\n    iframeHeight: string;\n\n    /**\n     * Set max width for iframe.\n     */\n    iframeMaxWidth: string;\n\n    /**\n     * Set max height for iframe.\n     */\n    iframeMaxHeight: string;\n\n    /**\n     * Enable download button.\n     * @description By default download url will be taken from data-src/href attribute but it supports only for modern browsers.\n     * If you want you can provide another url for download via data-download-url.\n     * pass false in data-download-url if you want to hide download button for the particular slide.\n     */\n    download: boolean;\n\n    /**\n     * Whether to show total number of images and index number of currently displayed image.\n     */\n    counter: boolean;\n\n    /**\n     * Where the counter should be appended\n     */\n    appendCounterTo: string;\n\n    /**\n     * By setting the swipeThreshold (in px) you can set how far the user must swipe for the next/prev image.\n     */\n    swipeThreshold: number;\n\n    /**\n     * Enables swipe support for touch devices\n     */\n    enableSwipe: boolean;\n\n    /**\n     * Enables desktop mouse drag support\n     */\n    enableDrag: boolean;\n\n    /**\n     * LightGallery can be instantiated and launched programmatically by setting this option to true and populating dynamicEl option (see below) with the definitions of images.\n     */\n    dynamic: boolean;\n\n    /**\n     * An array of objects (src, iframe, subHtml, thumb, poster, responsive, srcset sizes) representing gallery elements.\n     */\n    dynamicEl: GalleryItem[];\n\n    /**\n     * Fetch custom properties from the selector\n     * @description this is useful for plugin development\n     * By default lightGallery fetches and store all the props selectors to\n     * reduce frequent dom interaction for fetching props every time.\n     *\n     * If you need any addition data to be fetched and stored in the galleryItems variable,\n     * you can do this just by passing the prop names via extraProps\n     * @example\n     * HTML:\n     * <div id=\"lightGallery\">\n     *     <a href=\"a.jpg\" data-custom-prop=\"abc\"><img src=\"thumb.jpg\" /></a>\n     *     <a href=\"a.jpg\" data-custom-prop=\"xyz\"><img src=\"thumb.jpg\" /></a>\n     * </div>\n     * JS:\n     * lightGallery(document.getElementById('lightGallery'), {\n     *     extraProps: ['customProp']\n     * })\n     * // Note - If you are using dynamic mode, you can pass any custom prop in the galleryItem\n     * lightGallery(document.getElementById('lightGallery'), {\n     *     dynamic: true,\n     *     dynamicEl: [{\n     *         src: 'img/img1.jpg',\n     *         customProp:'abc',\n     *     }]\n     * })\n     *\n     */\n    extraProps: string[];\n\n    /**\n     * Option to fetch different thumbnail image other than first image\n     * @description If you want to use external image for thumbnail,\n     * add the path of that image inside \"data-\" attribute\n     * and set value of this option to the name of your custom attribute.\n     *\n     * @example\n     * <div id=\"lightGallery\">\n     *     <a href=\"a.jpg\" data-external-thumb-image=\"images/externalThumb.jpg\" ><img src=\"thumb.jpg\" /></a>\n     * </div>\n     *\n     * lightGallery(document.getElementById('lightGallery'), {\n     *     exThumbImage: 'data-external-thumb-image'\n     * })\n     */\n    exThumbImage: string;\n\n    /**\n     * Function to detect mobile devices\n     */\n    isMobile?: () => boolean;\n\n    /**\n     * Separate settings for mobile devices\n     * @description Note - this is applied only at the time of loading\n     * by default controls and close buttons are disabled on mobile devices.\n     * use this options if you want to enable them or change any other settings for mobile devices\n     * Note - mobileSettings does not merge default values, You need to provide all mobileSettings including default values\n     */\n    mobileSettings: Partial<MobileSettings>;\n\n    /**\n     * Customize string.\n     * @description This can be useful if you want to localize the lightGallery strings to other languages.\n     * Use your own service to translate the strings and pass it via settings.strings\n     * You can find dedicated strings option for all lightGallery modules in their respective documentation.\n     * Note - You need to provide values for all the strings. For example, even if you just want to change the closeGallery string, you need to provide all the other strings as well.\n     */\n    strings: LightGalleryCoreStrings;\n\n    plugins: (new (instance: LightGallery, $LG: LgQuery) => any)[];\n}\n\nexport const lightGalleryCoreSettings: LightGalleryCoreSettings = {\n    mode: 'lg-slide',\n    easing: 'ease',\n    speed: 400,\n    licenseKey: '0000-0000-000-0000',\n    height: '100%',\n    width: '100%',\n    addClass: '',\n    startClass: 'lg-start-zoom',\n    backdropDuration: 300,\n    container: '',\n    startAnimationDuration: 400,\n    zoomFromOrigin: true,\n    hideBarsDelay: 0,\n    showBarsAfter: 10000,\n    slideDelay: 0,\n    supportLegacyBrowser: true,\n    allowMediaOverlap: false,\n    videoMaxSize: '1280-720',\n    loadYouTubePoster: true,\n    defaultCaptionHeight: 0,\n    ariaLabelledby: '',\n    ariaDescribedby: '',\n    resetScrollPosition: true,\n    hideScrollbar: false,\n    closable: true,\n    swipeToClose: true,\n    closeOnTap: true,\n    showCloseIcon: true,\n    showMaximizeIcon: false,\n    loop: true,\n    escKey: true,\n    keyPress: true,\n    trapFocus: true,\n    controls: true,\n    slideEndAnimation: true,\n    hideControlOnEnd: false,\n    mousewheel: false,\n    getCaptionFromTitleOrAlt: true,\n    appendSubHtmlTo: '.lg-sub-html',\n    subHtmlSelectorRelative: false,\n    preload: 2,\n    numberOfSlideItemsInDom: 10,\n    selector: '',\n    selectWithin: '',\n    nextHtml: '',\n    prevHtml: '',\n    index: 0,\n    iframeWidth: '100%',\n    iframeHeight: '100%',\n    iframeMaxWidth: '100%',\n    iframeMaxHeight: '100%',\n    download: true,\n    counter: true,\n    appendCounterTo: '.lg-toolbar',\n    swipeThreshold: 50,\n    enableSwipe: true,\n    enableDrag: true,\n    dynamic: false,\n    dynamicEl: [],\n    extraProps: [],\n    exThumbImage: '',\n    isMobile: undefined,\n    mobileSettings: {\n        controls: false,\n        showCloseIcon: false,\n        download: false,\n    } as MobileSettings,\n    plugins: [],\n    strings: {\n        closeGallery: 'Close gallery',\n        toggleMaximize: 'Toggle maximize',\n        previousSlide: 'Previous slide',\n        nextSlide: 'Next slide',\n        download: 'Download',\n        playVideo: 'Play video',\n        mediaLoadingFailed: 'Oops... Failed to load content...',\n    } as LightGalleryCoreStrings,\n};\n", "interface Offset {\n    left: number;\n    top: number;\n}\n\nfunction initLgPolyfills() {\n    (function () {\n        if (typeof window.CustomEvent === 'function') return false;\n\n        function CustomEvent(event: string, params: any) {\n            params = params || {\n                bubbles: false,\n                cancelable: false,\n                detail: null,\n            };\n            const evt = document.createEvent('CustomEvent');\n            evt.initCustomEvent(\n                event,\n                params.bubbles,\n                params.cancelable,\n                params.detail,\n            );\n            return evt;\n        }\n\n        window.CustomEvent = CustomEvent as any;\n    })();\n    (function () {\n        if (!Element.prototype.matches) {\n            Element.prototype.matches =\n                (Element.prototype as any).msMatchesSelector ||\n                Element.prototype.webkitMatchesSelector;\n        }\n    })();\n}\n\nexport type LgQuery = (selector: any) => lgQuery;\nexport class lgQuery {\n    static eventListeners: { [key: string]: any[] } = {};\n    static generateUUID(): string {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(\n            /[xy]/g,\n            function (c) {\n                const r = (Math.random() * 16) | 0,\n                    v = c == 'x' ? r : (r & 0x3) | 0x8;\n                return v.toString(16);\n            },\n        );\n    }\n\n    private selector: any;\n    private firstElement: any;\n    private cssVenderPrefixes: string[] = [\n        'TransitionDuration',\n        'TransitionTimingFunction',\n        'Transform',\n        'Transition',\n    ];\n    constructor(selector: string | Element) {\n        this.selector = this._getSelector(selector);\n        this.firstElement = this._getFirstEl();\n        return this;\n    }\n\n    private _getSelector(\n        selector: string | Element,\n        context: Element | Document = document,\n    ): Element | null | NodeListOf<Element> {\n        if (typeof selector !== 'string') {\n            return selector;\n        }\n        context = context || document;\n        const fl = selector.substring(0, 1);\n        if (fl === '#') {\n            return context.querySelector(selector);\n        } else {\n            return context.querySelectorAll(selector);\n        }\n    }\n\n    private _each(\n        func: (\n            elements: Element | NodeListOf<Element> | null,\n            index: number,\n        ) => void,\n    ): this {\n        if (!this.selector) {\n            return this;\n        }\n        if (this.selector.length !== undefined) {\n            [].forEach.call(this.selector, func);\n        } else {\n            func(this.selector, 0);\n        }\n        return this;\n    }\n\n    private _setCssVendorPrefix(\n        el: any,\n        cssProperty: string,\n        value?: string | number,\n    ): void {\n        // prettier-ignore\n        const property = cssProperty.replace(/-([a-z])/gi, function (\n            s,\n            group1,\n        ) {\n            return group1.toUpperCase();\n        });\n        if (this.cssVenderPrefixes.indexOf(property) !== -1) {\n            el.style[\n                property.charAt(0).toLowerCase() + property.slice(1)\n            ] = value;\n            el.style['webkit' + property] = value;\n            el.style['moz' + property] = value;\n            el.style['ms' + property] = value;\n            el.style['o' + property] = value;\n        } else {\n            el.style[property] = value;\n        }\n    }\n\n    private _getFirstEl() {\n        if (this.selector && this.selector.length !== undefined) {\n            return this.selector[0];\n        } else {\n            return this.selector;\n        }\n    }\n\n    private isEventMatched(event: string, eventName: string): boolean {\n        const eventNamespace = eventName.split('.');\n        return event\n            .split('.')\n            .filter((e) => e)\n            .every((e) => {\n                return eventNamespace.indexOf(e) !== -1;\n            });\n    }\n\n    attr(attr: string): string;\n    attr(attr: string, value: string | number | boolean): this;\n    attr(attr: string, value?: string | number | boolean): string | this {\n        if (value === undefined) {\n            if (!this.firstElement) {\n                return '';\n            }\n            return this.firstElement.getAttribute(attr);\n        }\n        this._each((el: any) => {\n            el.setAttribute(attr, value);\n        });\n        return this;\n    }\n\n    find(selector: any): lgQuery {\n        return $LG(this._getSelector(selector, this.selector));\n    }\n\n    first(): lgQuery {\n        if (this.selector && this.selector.length !== undefined) {\n            return $LG(this.selector[0]);\n        } else {\n            return $LG(this.selector);\n        }\n    }\n\n    eq(index: number): lgQuery {\n        return $LG(this.selector[index]);\n    }\n\n    parent(): lgQuery {\n        return $LG(this.selector.parentElement);\n    }\n\n    get(): HTMLElement {\n        return this._getFirstEl();\n    }\n\n    removeAttr(attributes: string): this {\n        const attrs = attributes.split(' ');\n        this._each((el: any) => {\n            attrs.forEach((attr: string) => el.removeAttribute(attr));\n        });\n        return this;\n    }\n\n    wrap(className: string): this {\n        if (!this.firstElement) {\n            return this;\n        }\n        const wrapper = document.createElement('div');\n        wrapper.className = className;\n        this.firstElement.parentNode.insertBefore(wrapper, this.firstElement);\n        this.firstElement.parentNode.removeChild(this.firstElement);\n        wrapper.appendChild(this.firstElement);\n        return this;\n    }\n\n    addClass(classNames = ''): this {\n        this._each((el: any) => {\n            // IE doesn't support multiple arguments\n            classNames.split(' ').forEach((className) => {\n                if (className) {\n                    el.classList.add(className);\n                }\n            });\n        });\n        return this;\n    }\n\n    removeClass(classNames: string): this {\n        this._each((el: any) => {\n            // IE doesn't support multiple arguments\n            classNames.split(' ').forEach((className) => {\n                if (className) {\n                    el.classList.remove(className);\n                }\n            });\n        });\n        return this;\n    }\n\n    hasClass(className: string): boolean {\n        if (!this.firstElement) {\n            return false;\n        }\n        return this.firstElement.classList.contains(className);\n    }\n    hasAttribute(attribute: string): boolean {\n        if (!this.firstElement) {\n            return false;\n        }\n        return this.firstElement.hasAttribute(attribute);\n    }\n    toggleClass(className: string): this {\n        if (!this.firstElement) {\n            return this;\n        }\n        if (this.hasClass(className)) {\n            this.removeClass(className);\n        } else {\n            this.addClass(className);\n        }\n        return this;\n    }\n\n    css(property: string, value?: string | number): this {\n        this._each((el: any) => {\n            this._setCssVendorPrefix(el, property, value);\n        });\n        return this;\n    }\n    // Need to pass separate namespaces for separate elements\n    on(events: string, listener: (e: any) => void): this {\n        if (!this.selector) {\n            return this;\n        }\n        events.split(' ').forEach((event: string) => {\n            if (!Array.isArray(lgQuery.eventListeners[event])) {\n                lgQuery.eventListeners[event] = [];\n            }\n            lgQuery.eventListeners[event].push(listener);\n            this.selector.addEventListener(event.split('.')[0], listener);\n        });\n\n        return this;\n    }\n    // @todo - test this\n    once(event: string, listener: (e: any) => void): this {\n        this.on(event, () => {\n            this.off(event);\n            listener(event);\n        });\n        return this;\n    }\n    off(event: string): this {\n        if (!this.selector) {\n            return this;\n        }\n        Object.keys(lgQuery.eventListeners).forEach((eventName) => {\n            if (this.isEventMatched(event, eventName)) {\n                lgQuery.eventListeners[eventName].forEach((listener) => {\n                    this.selector.removeEventListener(\n                        eventName.split('.')[0],\n                        listener,\n                    );\n                });\n                lgQuery.eventListeners[eventName] = [];\n            }\n        });\n\n        return this;\n    }\n    trigger<Detail>(event: string, detail?: Detail): this {\n        if (!this.firstElement) {\n            return this;\n        }\n\n        const customEvent = new CustomEvent(event.split('.')[0], {\n            detail: detail || null,\n        });\n        this.firstElement.dispatchEvent(customEvent);\n        return this;\n    }\n\n    // Does not support IE\n    load(url: string): this {\n        fetch(url)\n            .then((res) => res.text())\n            .then((html) => {\n                this.selector.innerHTML = html;\n            });\n        return this;\n    }\n\n    html(): string;\n    html(html: string): this;\n    html(html?: string): string | this {\n        if (html === undefined) {\n            if (!this.firstElement) {\n                return '';\n            }\n            return this.firstElement.innerHTML;\n        }\n        this._each((el: any) => {\n            el.innerHTML = html;\n        });\n        return this;\n    }\n    append(html: string | HTMLElement): this {\n        this._each((el: any) => {\n            if (typeof html === 'string') {\n                el.insertAdjacentHTML('beforeend', html);\n            } else {\n                el.appendChild(html);\n            }\n        });\n        return this;\n    }\n    prepend(html: string): this {\n        this._each((el: any) => {\n            el.insertAdjacentHTML('afterbegin', html);\n        });\n        return this;\n    }\n    remove(): this {\n        this._each((el: any) => {\n            el.parentNode.removeChild(el);\n        });\n        return this;\n    }\n    empty(): this {\n        this._each((el: any) => {\n            el.innerHTML = '';\n        });\n        return this;\n    }\n    // Supports only window\n    scrollTop(): number;\n    scrollTop(scrollTop: number): this;\n    scrollTop(scrollTop?: number): number | this {\n        if (scrollTop !== undefined) {\n            document.body.scrollTop = scrollTop;\n            document.documentElement.scrollTop = scrollTop;\n            return this;\n        } else {\n            return (\n                window.pageYOffset ||\n                document.documentElement.scrollTop ||\n                document.body.scrollTop ||\n                0\n            );\n        }\n    }\n    // Supports only window\n    scrollLeft(): number;\n    scrollLeft(scrollLeft?: number): this;\n    scrollLeft(scrollLeft?: number): number | this {\n        if (scrollLeft !== undefined) {\n            document.body.scrollLeft = scrollLeft;\n            document.documentElement.scrollLeft = scrollLeft;\n            return this;\n        } else {\n            return (\n                window.pageXOffset ||\n                document.documentElement.scrollLeft ||\n                document.body.scrollLeft ||\n                0\n            );\n        }\n    }\n    offset(): Offset {\n        if (!this.firstElement) {\n            return {\n                left: 0,\n                top: 0,\n            };\n        }\n        const rect = this.firstElement.getBoundingClientRect();\n        const bodyMarginLeft = $LG('body').style().marginLeft;\n\n        // Minus body margin - https://stackoverflow.com/questions/30711548/is-getboundingclientrect-left-returning-a-wrong-value\n        return {\n            left: rect.left - parseFloat(bodyMarginLeft) + this.scrollLeft(),\n            top: rect.top + this.scrollTop(),\n        };\n    }\n    style(): CSSStyleDeclaration {\n        if (!this.firstElement) {\n            return {} as CSSStyleDeclaration;\n        }\n        return (\n            this.firstElement.currentStyle ||\n            window.getComputedStyle(this.firstElement)\n        );\n    }\n    // Width without padding and border even if box-sizing is used.\n    width(): number {\n        const style = this.style();\n        return (\n            this.firstElement.clientWidth -\n            parseFloat(style.paddingLeft) -\n            parseFloat(style.paddingRight)\n        );\n    }\n    // Height without padding and border even if box-sizing is used.\n    height(): number {\n        const style = this.style();\n        return (\n            this.firstElement.clientHeight -\n            parseFloat(style.paddingTop) -\n            parseFloat(style.paddingBottom)\n        );\n    }\n}\n\nexport function $LG(selector: any): lgQuery {\n    initLgPolyfills();\n    return new lgQuery(selector);\n}\n", "import { $LG, lgQuery } from './lgQuery';\nimport { VideoSource } from './plugins/video/types';\nimport { VideoInfo } from './types';\n\nexport interface ImageSize {\n    width: number;\n    height: number;\n}\n\nexport interface ImageSources {\n    media?: string;\n    srcset: string;\n    sizes?: string;\n    type?: string;\n}\n\nexport interface GalleryItem {\n    /**\n     * url of the media\n     * @data-attr data-src\n     */\n    src?: string;\n\n    /**\n     * Source attributes for the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source#attributes\">picture</a> element\n     * @data-attr data-sources\n     */\n    sources?: ImageSources[];\n\n    /**\n     * Thumbnail url\n     * @description By default lightGallery uses the image inside gallery selector as thumbnail.\n     * But, If you want to use external image for thumbnail,\n     * pass the thumbnail url via any data attribute and\n     * pass the attribute name via exThumbImage option\n     * @example\n     * <div id=\"lightGallery\">\n     *     <a href=\"a.jpg\" data-external-thumb-image=\"images/externalThumb.jpg\" ><img src=\"thumb.jpg\" /></a>\n     * </div>\n     *\n     * lightGallery(document.getElementById('lightGallery'), {\n     *     exThumbImage: 'data-external-thumb-image'\n     * })\n     * @data-attr data-*\n     */\n    thumb?: string;\n\n    /**\n     * alt attribute for the image\n     * @data-attr alt\n     */\n    alt?: string;\n\n    /**\n     * Title attribute for the video\n     * @data-attr title\n     */\n    title?: string;\n\n    /**\n     * Title for iframe\n     * @data-attr data-iframe-title\n     */\n    iframeTitle?: string;\n\n    /**\n     * Caption for the slide\n     * @description You can either pass the HTML markup or the ID or class name of the element which contains the captions\n     * @data-attr data-sub-html\n     */\n    subHtml?: string;\n\n    /**\n     * url of the file which contain the sub html.\n     * @description Note - Does not support Internet Explorer browser\n     * @data-attr data-sub-html-url\n     */\n    subHtmlUrl?: string;\n\n    /**\n     * Video source\n     * @data-attr data-video\n     */\n    video?: VideoSource;\n\n    /**\n     * Poster url\n     * @data-attr data-poster\n     */\n    poster?: string;\n\n    /**\n     * Custom slide name to use in the url when hash plugin is enabled\n     * @data-attr data-slide-name\n     */\n    slideName?: string;\n\n    /**\n     * List of images and viewport's max width separated by comma.\n     * @description Ex?: img/1-375.jpg 375, img/1-480.jpg 480, img/1-757.jpg 757.\n     * @data-attr data-responsive\n     */\n    responsive?: string;\n\n    /**\n     * srcset attribute values for the main image\n     * @data-attr data-srcset\n     */\n    srcset?: string;\n\n    /**\n     * srcset sizes attribute for the main image\n     * @data-attr data-sizes\n     */\n    sizes?: string;\n\n    /**\n     * Set true is you want to open your url in an iframe\n     * @data-attr data-iframe\n     */\n    iframe?: boolean;\n\n    /**\n     * Download url for your image/video.\n     * @description Pass false if you want to disable the download button.\n     * @data-attr data-download-url\n     */\n    downloadUrl?: string | boolean;\n\n    /**\n     * Name of the file after it is downloaded.\n     * @description The HTML value of the download attribute.\n     * There are no restrictions on allowed values, and the browser will automatically\n     * detect the correct file extension and add it to the file (.img, .pdf, .txt, .html, etc.).\n     * <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-download\">More info</a>\n     * @data-attr data-download\n     */\n    download?: string | boolean;\n\n    /**\n     * Actual size of the image in px.\n     * @description This is used in zoom plugin to see the actual size of the image when double taped on the image.\n     * @data-attr data-width\n     */\n    width?: string;\n\n    /**\n     * Facebook share URL.\n     * @description Specify only if you want to provide separate share URL for the specific slide. By default, current browser URL is taken.\n     * @data-attr data-facebook-share-url\n     */\n    facebookShareUrl?: string;\n\n    /**\n     * Tweet text\n     * @data-attr data-tweet-text\n     */\n    tweetText?: string;\n\n    /**\n     * Twitter share URL.\n     * @description Specify only if you want to provide separate share URL for the specific slide. By default, current browser URL will be taken.\n     * @data-attr data-twitter-share-url\n     */\n    twitterShareUrl?: string;\n\n    /**\n     * Pinterest share URL.\n     * @description Specify only if you want to provide separate share URL for the specific slide. By default, current browser URL will be taken.\n     * Note?: Pinterest requires absolute URL\n     * @data-attr data-pinterest-share-url\n     */\n    pinterestShareUrl?: string;\n\n    /**\n     * Description for Pinterest post.\n     * @data-attr data-pinterest-text\n     */\n    pinterestText?: string;\n\n    /**\n     * Facebook comments body html\n     * @description Please refer <a href=\"https://developers.facebook.com/docs/plugins/comments/#comments-plugin\">facebook official documentation</a> for generating the HTML markup\n     * @example\n     * <div\n     *      class=\"fb-comments\"\n     *      data-href=\"https://www.lightgalleryjs.com/demos/comment-box/#facebook-comments-demo\"\n     *      data-width=\"400\"\n     *      data-numposts=\"5\">\n     * </div>\n     * @data-attr data-fb-html\n     */\n    fbHtml?: string;\n\n    /**\n     * Disqus page identifier\n     * @description Please refer official <a href=\"https://help.disqus.com/en/articles/1717084-javascript-configuration-variables\">disqus documentation</a> for more info\n     * @data-attr data-disqus-identifier\n     */\n    disqusIdentifier?: string;\n\n    /**\n     * Disqus page url\n     * @description Please refer official <a href=\"https://help.disqus.com/en/articles/1717084-javascript-configuration-variables\">disqus documentation</a> for more info\n     * @data-attr data-disqus-url\n     */\n    disqusUrl?: string;\n\n    __slideVideoInfo?: VideoInfo;\n    [key: string]: any;\n}\n\nconst defaultDynamicOptions = [\n    'src',\n    'sources',\n    'subHtml',\n    'subHtmlUrl',\n    'html',\n    'video',\n    'poster',\n    'slideName',\n    'responsive',\n    'srcset',\n    'sizes',\n    'iframe',\n    'downloadUrl',\n    'download',\n    'width',\n    'facebookShareUrl',\n    'tweetText',\n    'iframeTitle',\n    'twitterShareUrl',\n    'pinterestShareUrl',\n    'pinterestText',\n    'fbHtml',\n    'disqusIdentifier',\n    'disqusUrl',\n];\n\n// Convert html data-attribute to camalcase\nexport function convertToData(attr: string): string {\n    // FInd a way for lgsize\n    if (attr === 'href') {\n        return 'src';\n    }\n    attr = attr.replace('data-', '');\n    attr = attr.charAt(0).toLowerCase() + attr.slice(1);\n    attr = attr.replace(/-([a-z])/g, (g) => g[1].toUpperCase());\n\n    return attr;\n}\n\nconst utils = {\n    /**\n     * get possible width and height from the lgSize attribute. Used for ZoomFromOrigin option\n     */\n    getSize(\n        el: HTMLElement,\n        container: lgQuery,\n        spacing = 0,\n        defaultLgSize?: string,\n    ): ImageSize | undefined {\n        const LGel = $LG(el);\n        let lgSize = LGel.attr('data-lg-size') || defaultLgSize;\n\n        if (!lgSize) {\n            return;\n        }\n\n        const isResponsiveSizes = lgSize.split(',');\n        // if at-least two viewport sizes are available\n        if (isResponsiveSizes[1]) {\n            const wWidth = window.innerWidth;\n            for (let i = 0; i < isResponsiveSizes.length; i++) {\n                const size = isResponsiveSizes[i];\n                const responsiveWidth = parseInt(size.split('-')[2], 10);\n                if (responsiveWidth > wWidth) {\n                    lgSize = size;\n                    break;\n                }\n\n                // take last item as last option\n                if (i === isResponsiveSizes.length - 1) {\n                    lgSize = size;\n                }\n            }\n        }\n\n        const size = lgSize.split('-');\n\n        const width = parseInt(size[0], 10);\n        const height = parseInt(size[1], 10);\n\n        const cWidth = container.width();\n        const cHeight = container.height() - spacing;\n\n        const maxWidth = Math.min(cWidth, width);\n        const maxHeight = Math.min(cHeight, height);\n\n        const ratio = Math.min(maxWidth / width, maxHeight / height);\n\n        return { width: width * ratio, height: height * ratio };\n    },\n\n    /**\n     * @desc Get transform value based on the imageSize. Used for ZoomFromOrigin option\n     * @param {jQuery Element}\n     * @returns {String} Transform CSS string\n     */\n    getTransform(\n        el: HTMLElement,\n        container: lgQuery,\n        top: number,\n        bottom: number,\n        imageSize?: ImageSize,\n    ): string | undefined {\n        if (!imageSize) {\n            return;\n        }\n        const LGel = $LG(el).find('img').first();\n        if (!LGel.get()) {\n            return;\n        }\n\n        const containerRect = container.get().getBoundingClientRect();\n\n        const wWidth = containerRect.width;\n\n        // using innerWidth to include mobile safari bottom bar\n        const wHeight = container.height() - (top + bottom);\n\n        const elWidth = LGel.width();\n        const elHeight = LGel.height();\n\n        const elStyle = LGel.style();\n        let x =\n            (wWidth - elWidth) / 2 -\n            LGel.offset().left +\n            (parseFloat(elStyle.paddingLeft) || 0) +\n            (parseFloat(elStyle.borderLeft) || 0) +\n            $LG(window).scrollLeft() +\n            containerRect.left;\n        let y =\n            (wHeight - elHeight) / 2 -\n            LGel.offset().top +\n            (parseFloat(elStyle.paddingTop) || 0) +\n            (parseFloat(elStyle.borderTop) || 0) +\n            $LG(window).scrollTop() +\n            top;\n\n        const scX = elWidth / imageSize.width;\n        const scY = elHeight / imageSize.height;\n\n        const transform =\n            'translate3d(' +\n            (x *= -1) +\n            'px, ' +\n            (y *= -1) +\n            'px, 0) scale3d(' +\n            scX +\n            ', ' +\n            scY +\n            ', 1)';\n        return transform;\n    },\n\n    getIframeMarkup(\n        iframeWidth: string,\n        iframeHeight: string,\n        iframeMaxWidth: string,\n        iframeMaxHeight: string,\n        src?: string,\n        iframeTitle?: string,\n    ): string {\n        const title = iframeTitle ? 'title=\"' + iframeTitle + '\"' : '';\n        return `<div class=\"lg-video-cont lg-has-iframe\" style=\"width:${iframeWidth}; max-width:${iframeMaxWidth}; height: ${iframeHeight}; max-height:${iframeMaxHeight}\">\n                    <iframe class=\"lg-object\" frameborder=\"0\" ${title} src=\"${src}\"  allowfullscreen=\"true\"></iframe>\n                </div>`;\n    },\n\n    getImgMarkup(\n        index: number,\n        src: string,\n        altAttr: string,\n        srcset?: string,\n        sizes?: string,\n        sources?: ImageSources[],\n    ): string {\n        const srcsetAttr = srcset ? `srcset=\"${srcset}\"` : '';\n        const sizesAttr = sizes ? `sizes=\"${sizes}\"` : '';\n        const imgMarkup = `<img ${altAttr} ${srcsetAttr}  ${sizesAttr} class=\"lg-object lg-image\" data-index=\"${index}\" src=\"${src}\" />`;\n        let sourceTag = '';\n        if (sources) {\n            const sourceObj =\n                typeof sources === 'string' ? JSON.parse(sources) : sources;\n\n            sourceTag = sourceObj.map((source: any) => {\n                let attrs = '';\n                Object.keys(source).forEach((key) => {\n                    // Do not remove the first space as it is required to separate the attributes\n                    attrs += ` ${key}=\"${source[key]}\"`;\n                });\n                return `<source ${attrs}></source>`;\n            });\n        }\n        return `${sourceTag}${imgMarkup}`;\n    },\n\n    // Get src from responsive src\n    getResponsiveSrc(srcItms: string[]): string {\n        const rsWidth = [];\n        const rsSrc = [];\n        let src = '';\n        for (let i = 0; i < srcItms.length; i++) {\n            const _src = srcItms[i].split(' ');\n\n            // Manage empty space\n            if (_src[0] === '') {\n                _src.splice(0, 1);\n            }\n\n            rsSrc.push(_src[0]);\n            rsWidth.push(_src[1]);\n        }\n\n        const wWidth = window.innerWidth;\n        for (let j = 0; j < rsWidth.length; j++) {\n            if (parseInt(rsWidth[j], 10) > wWidth) {\n                src = rsSrc[j];\n                break;\n            }\n        }\n        return src;\n    },\n\n    isImageLoaded(img: HTMLImageElement): boolean {\n        if (!img) return false;\n        // During the onload event, IE correctly identifies any images that\n        // weren’t downloaded as not complete. Others should too. Gecko-based\n        // browsers act like NS4 in that they report this incorrectly.\n        if (!img.complete) {\n            return false;\n        }\n\n        // However, they do have two very useful properties: naturalWidth and\n        // naturalHeight. These give the true size of the image. If it failed\n        // to load, either of these should be zero.\n        if (img.naturalWidth === 0) {\n            return false;\n        }\n\n        // No other way of checking: assume it’s ok.\n        return true;\n    },\n\n    getVideoPosterMarkup(\n        _poster: string,\n        dummyImg: string,\n        videoContStyle: string,\n        playVideoString: string,\n        _isVideo?: VideoInfo,\n    ): string {\n        let videoClass = '';\n        if (_isVideo && _isVideo.youtube) {\n            videoClass = 'lg-has-youtube';\n        } else if (_isVideo && _isVideo.vimeo) {\n            videoClass = 'lg-has-vimeo';\n        } else {\n            videoClass = 'lg-has-html5';\n        }\n\n        return `<div class=\"lg-video-cont ${videoClass}\" style=\"${videoContStyle}\">\n                <div class=\"lg-video-play-button\">\n                <svg\n                    viewBox=\"0 0 20 20\"\n                    preserveAspectRatio=\"xMidYMid\"\n                    focusable=\"false\"\n                    aria-labelledby=\"${playVideoString}\"\n                    role=\"img\"\n                    class=\"lg-video-play-icon\"\n                >\n                    <title>${playVideoString}</title>\n                    <polygon class=\"lg-video-play-icon-inner\" points=\"1,0 20,10 1,20\"></polygon>\n                </svg>\n                <svg class=\"lg-video-play-icon-bg\" viewBox=\"0 0 50 50\" focusable=\"false\">\n                    <circle cx=\"50%\" cy=\"50%\" r=\"20\"></circle></svg>\n                <svg class=\"lg-video-play-icon-circle\" viewBox=\"0 0 50 50\" focusable=\"false\">\n                    <circle cx=\"50%\" cy=\"50%\" r=\"20\"></circle>\n                </svg>\n            </div>\n            ${dummyImg || ''}\n            <img class=\"lg-object lg-video-poster\" src=\"${_poster}\" />\n        </div>`;\n    },\n\n    getFocusableElements(container: HTMLElement): NodeListOf<Element> {\n        const elements = container.querySelectorAll(\n            'a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])',\n        );\n        const visibleElements = [].filter.call(elements, (element) => {\n            const style = window.getComputedStyle(element);\n            return style.display !== 'none' && style.visibility !== 'hidden';\n        });\n        return (visibleElements as unknown) as NodeListOf<Element>;\n    },\n\n    /**\n     * @desc Create dynamic elements array from gallery items when dynamic option is false\n     * It helps to avoid frequent DOM interaction\n     * and avoid multiple checks for dynamic elments\n     *\n     * @returns {Array} dynamicEl\n     */\n    getDynamicOptions(\n        items: any,\n        extraProps: string[],\n        getCaptionFromTitleOrAlt: boolean,\n        exThumbImage: string,\n    ): GalleryItem[] {\n        const dynamicElements: GalleryItem[] = [];\n        const availableDynamicOptions = [\n            ...defaultDynamicOptions,\n            ...extraProps,\n        ];\n        [].forEach.call(items, (item: HTMLElement) => {\n            const dynamicEl: GalleryItem = {} as GalleryItem;\n            for (let i = 0; i < item.attributes.length; i++) {\n                const attr = item.attributes[i];\n                if (attr.specified) {\n                    const dynamicAttr = convertToData(attr.name);\n                    let label = '';\n                    if (availableDynamicOptions.indexOf(dynamicAttr) > -1) {\n                        label = dynamicAttr;\n                    }\n                    if (label) {\n                        (dynamicEl as any)[label] = attr.value;\n                    }\n                }\n            }\n            const currentItem = $LG(item);\n            const alt = currentItem.find('img').first().attr('alt');\n            const title = currentItem.attr('title');\n\n            const thumb = exThumbImage\n                ? currentItem.attr(exThumbImage)\n                : currentItem.find('img').first().attr('src');\n            dynamicEl.thumb = thumb;\n\n            if (getCaptionFromTitleOrAlt && !dynamicEl.subHtml) {\n                dynamicEl.subHtml = title || alt || '';\n            }\n            dynamicEl.alt = alt || title || '';\n            dynamicElements.push(dynamicEl);\n        });\n        return dynamicElements;\n    },\n    isMobile(): boolean {\n        return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n    },\n    /**\n     * @desc Check the given src is video\n     * @param {String} src\n     * @return {Object} video type\n     * Ex:{ youtube  :  [\"//www.youtube.com/watch?v=c0asJgSyxcY\", \"c0asJgSyxcY\"] }\n     *\n     * @todo - this information can be moved to dynamicEl to avoid frequent calls\n     */\n\n    isVideo(\n        src: string,\n        isHTML5VIdeo: boolean,\n        index: number,\n    ): VideoInfo | undefined {\n        if (!src) {\n            if (isHTML5VIdeo) {\n                return {\n                    html5: true,\n                };\n            } else {\n                console.error(\n                    'lightGallery :- data-src is not provided on slide item ' +\n                        (index + 1) +\n                        '. Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/',\n                );\n                return;\n            }\n        }\n\n        const youtube = src.match(\n            /\\/\\/(?:www\\.)?youtu(?:\\.be|be\\.com|be-nocookie\\.com)\\/(?:watch\\?v=|embed\\/)?([a-z0-9\\-\\_\\%]+)([\\&|?][\\S]*)*/i,\n        );\n        const vimeo = src.match(\n            /\\/\\/(?:www\\.)?(?:player\\.)?vimeo.com\\/(?:video\\/)?([0-9a-z\\-_]+)(.*)?/i,\n        );\n        const wistia = src.match(\n            /https?:\\/\\/(.+)?(wistia\\.com|wi\\.st)\\/(medias|embed)\\/([0-9a-z\\-_]+)(.*)/,\n        );\n\n        if (youtube) {\n            return {\n                youtube,\n            };\n        } else if (vimeo) {\n            return {\n                vimeo,\n            };\n        } else if (wistia) {\n            return {\n                wistia,\n            };\n        }\n    },\n};\n\nexport default utils;\n", "import {\n    AfterAppendSlideEventDetail,\n    AfterAppendSubHtmlDetail,\n    BeforeSlideDetail,\n    lGEvents,\n    SlideItemLoadDetail,\n} from './lg-events';\nimport {\n    LightGalleryAllSettings,\n    lightGalleryCoreSettings,\n    LightGallerySettings,\n} from './lg-settings';\nimport utils, { GalleryItem, ImageSize } from './lg-utils';\nimport { $LG, lgQuery } from './lgQuery';\nimport {\n    Coords,\n    MediaContainerPosition,\n    SlideDirection,\n    VideoInfo,\n} from './types';\n\ndeclare let picturefill: any;\n\n// @ref - https://stackoverflow.com/questions/3971841/how-to-resize-images-proportionally-keeping-the-aspect-ratio\n// @ref - https://2ality.com/2017/04/setting-up-multi-platform-packages.html\n\n// Unique id for each gallery\nlet lgId = 0;\n\nexport class LightGallery {\n    public settings!: LightGalleryAllSettings;\n    public galleryItems!: GalleryItem[];\n\n    // Current gallery item\n    public lgId!: number;\n\n    public el!: HTMLElement;\n    public LGel!: lgQuery;\n    public lgOpened = false;\n\n    public index = 0;\n\n    // lightGallery modules\n    public plugins: any[] = [];\n\n    // false when lightGallery load first slide content;\n    public lGalleryOn = false;\n\n    // True when a slide animation is in progress\n    public lgBusy = false;\n\n    // Type of touch action - {swipe, zoomSwipe, pinch}\n    public touchAction?: 'swipe' | 'zoomSwipe' | 'pinch';\n\n    // Direction of swipe/drag - {horizontal, vertical}\n    public swipeDirection?: 'horizontal' | 'vertical';\n\n    // Timeout function for hiding controls;\n    public hideBarTimeout: any;\n\n    public currentItemsInDom: string[] = [];\n\n    public outer!: lgQuery;\n\n    public items: any;\n\n    public $backdrop!: lgQuery;\n    public $lgComponents!: lgQuery;\n\n    public $container!: lgQuery;\n\n    public $inner!: lgQuery;\n    public $content!: lgQuery;\n    public $toolbar!: lgQuery;\n\n    // Scroll top value before lightGallery is opened\n    public prevScrollTop = 0;\n\n    public bodyPaddingRight = 0;\n\n    private zoomFromOrigin!: boolean;\n\n    private currentImageSize?: ImageSize;\n\n    private isDummyImageRemoved = false;\n\n    private dragOrSwipeEnabled = false;\n\n    public mediaContainerPosition = {\n        top: 0,\n        bottom: 0,\n    };\n\n    constructor(element: HTMLElement, options?: LightGallerySettings) {\n        if (!element) {\n            return this;\n        }\n        lgId++;\n        this.lgId = lgId;\n\n        this.el = element;\n        this.LGel = $LG(element);\n\n        this.generateSettings(options);\n\n        this.buildModules();\n\n        // When using dynamic mode, ensure dynamicEl is an array\n        if (\n            this.settings.dynamic &&\n            this.settings.dynamicEl !== undefined &&\n            !Array.isArray(this.settings.dynamicEl)\n        ) {\n            throw 'When using dynamic mode, you must also define dynamicEl as an Array.';\n        }\n\n        this.galleryItems = this.getItems();\n        this.normalizeSettings();\n\n        // Gallery items\n\n        this.init();\n\n        this.validateLicense();\n\n        return this;\n    }\n\n    private generateSettings(options?: LightGallerySettings) {\n        // lightGallery settings\n        this.settings = {\n            ...lightGalleryCoreSettings,\n            ...options,\n        } as LightGalleryAllSettings;\n        if (\n            this.settings.isMobile &&\n            typeof this.settings.isMobile === 'function'\n                ? this.settings.isMobile()\n                : utils.isMobile()\n        ) {\n            const mobileSettings = {\n                ...this.settings.mobileSettings,\n                ...this.settings.mobileSettings,\n            };\n            this.settings = { ...this.settings, ...mobileSettings };\n        }\n    }\n\n    private normalizeSettings() {\n        if (this.settings.slideEndAnimation) {\n            this.settings.hideControlOnEnd = false;\n        }\n        if (!this.settings.closable) {\n            this.settings.swipeToClose = false;\n        }\n\n        // And reset it on close to get the correct value next time\n        this.zoomFromOrigin = this.settings.zoomFromOrigin;\n\n        // At the moment, Zoom from image doesn't support dynamic options\n        // @todo add zoomFromOrigin support for dynamic images\n        if (this.settings.dynamic) {\n            this.zoomFromOrigin = false;\n        }\n\n        if (!this.settings.container) {\n            this.settings.container = document.body;\n        }\n\n        // settings.preload should not be grater than $item.length\n        this.settings.preload = Math.min(\n            this.settings.preload,\n            this.galleryItems.length,\n        );\n    }\n\n    init(): void {\n        this.addSlideVideoInfo(this.galleryItems);\n\n        this.buildStructure();\n\n        this.LGel.trigger(lGEvents.init, {\n            instance: this,\n        });\n\n        if (this.settings.keyPress) {\n            this.keyPress();\n        }\n\n        setTimeout(() => {\n            this.enableDrag();\n            this.enableSwipe();\n            this.triggerPosterClick();\n        }, 50);\n\n        this.arrow();\n        if (this.settings.mousewheel) {\n            this.mousewheel();\n        }\n\n        if (!this.settings.dynamic) {\n            this.openGalleryOnItemClick();\n        }\n    }\n\n    openGalleryOnItemClick(): void {\n        // Using for loop instead of using bubbling as the items can be any html element.\n        for (let index = 0; index < this.items.length; index++) {\n            const element = this.items[index];\n            const $element = $LG(element);\n            // Using different namespace for click because click event should not unbind if selector is same object('this')\n            // @todo manage all event listners - should have namespace that represent element\n            const uuid = lgQuery.generateUUID();\n            $element\n                .attr('data-lg-id', uuid)\n                .on(`click.lgcustom-item-${uuid}`, (e) => {\n                    e.preventDefault();\n                    const currentItemIndex = this.settings.index || index;\n                    this.openGallery(currentItemIndex, element);\n                });\n        }\n    }\n\n    /**\n     * Module constructor\n     * Modules are build incrementally.\n     * Gallery should be opened only once all the modules are initialized.\n     * use moduleBuildTimeout to make sure this\n     */\n    buildModules(): void {\n        this.settings.plugins.forEach((plugin) => {\n            this.plugins.push(new plugin(this, $LG));\n        });\n    }\n\n    validateLicense(): void {\n        if (!this.settings.licenseKey) {\n            console.error('Please provide a valid license key');\n        } else if (this.settings.licenseKey === '0000-0000-000-0000') {\n            console.warn(\n                `lightGallery: ${this.settings.licenseKey} license key is not valid for production use`,\n            );\n        }\n    }\n\n    getSlideItem(index: number): lgQuery {\n        return $LG(this.getSlideItemId(index));\n    }\n\n    getSlideItemId(index: number): string {\n        return `#lg-item-${this.lgId}-${index}`;\n    }\n\n    getIdName(id: string): string {\n        return `${id}-${this.lgId}`;\n    }\n    getElementById(id: string): lgQuery {\n        return $LG(`#${this.getIdName(id)}`);\n    }\n\n    manageSingleSlideClassName(): void {\n        if (this.galleryItems.length < 2) {\n            this.outer.addClass('lg-single-item');\n        } else {\n            this.outer.removeClass('lg-single-item');\n        }\n    }\n\n    buildStructure(): void {\n        const container = this.$container && this.$container.get();\n        if (container) {\n            return;\n        }\n        let controls = '';\n        let subHtmlCont = '';\n\n        // Create controls\n        if (this.settings.controls) {\n            controls = `<button type=\"button\" id=\"${this.getIdName(\n                'lg-prev',\n            )}\" aria-label=\"${\n                this.settings.strings['previousSlide']\n            }\" class=\"lg-prev lg-icon\"> ${this.settings.prevHtml} </button>\n                <button type=\"button\" id=\"${this.getIdName(\n                    'lg-next',\n                )}\" aria-label=\"${\n                this.settings.strings['nextSlide']\n            }\" class=\"lg-next lg-icon\"> ${this.settings.nextHtml} </button>`;\n        }\n\n        if (this.settings.appendSubHtmlTo !== '.lg-item') {\n            subHtmlCont =\n                '<div class=\"lg-sub-html\" role=\"status\" aria-live=\"polite\"></div>';\n        }\n\n        let addClasses = '';\n\n        if (this.settings.allowMediaOverlap) {\n            // Do not remove space before last single quote\n            addClasses += 'lg-media-overlap ';\n        }\n\n        const ariaLabelledby = this.settings.ariaLabelledby\n            ? 'aria-labelledby=\"' + this.settings.ariaLabelledby + '\"'\n            : '';\n        const ariaDescribedby = this.settings.ariaDescribedby\n            ? 'aria-describedby=\"' + this.settings.ariaDescribedby + '\"'\n            : '';\n\n        const containerClassName = `lg-container ${this.settings.addClass} ${\n            document.body !== this.settings.container ? 'lg-inline' : ''\n        }`;\n        const closeIcon =\n            this.settings.closable && this.settings.showCloseIcon\n                ? `<button type=\"button\" aria-label=\"${\n                      this.settings.strings['closeGallery']\n                  }\" id=\"${this.getIdName(\n                      'lg-close',\n                  )}\" class=\"lg-close lg-icon\"></button>`\n                : '';\n        const maximizeIcon = this.settings.showMaximizeIcon\n            ? `<button type=\"button\" aria-label=\"${\n                  this.settings.strings['toggleMaximize']\n              }\" id=\"${this.getIdName(\n                  'lg-maximize',\n              )}\" class=\"lg-maximize lg-icon\"></button>`\n            : '';\n        const template = `\n        <div class=\"${containerClassName}\" id=\"${this.getIdName(\n            'lg-container',\n        )}\" tabindex=\"-1\" aria-modal=\"true\" ${ariaLabelledby} ${ariaDescribedby} role=\"dialog\"\n        >\n            <div id=\"${this.getIdName(\n                'lg-backdrop',\n            )}\" class=\"lg-backdrop\"></div>\n\n            <div id=\"${this.getIdName(\n                'lg-outer',\n            )}\" class=\"lg-outer lg-use-css3 lg-css3 lg-hide-items ${addClasses} \">\n\n              <div id=\"${this.getIdName('lg-content')}\" class=\"lg-content\">\n                <div id=\"${this.getIdName('lg-inner')}\" class=\"lg-inner\">\n                </div>\n                ${controls}\n              </div>\n                <div id=\"${this.getIdName(\n                    'lg-toolbar',\n                )}\" class=\"lg-toolbar lg-group\">\n                    ${maximizeIcon}\n                    ${closeIcon}\n                    </div>\n                    ${\n                        this.settings.appendSubHtmlTo === '.lg-outer'\n                            ? subHtmlCont\n                            : ''\n                    }\n                <div id=\"${this.getIdName(\n                    'lg-components',\n                )}\" class=\"lg-components\">\n                    ${\n                        this.settings.appendSubHtmlTo === '.lg-sub-html'\n                            ? subHtmlCont\n                            : ''\n                    }\n                </div>\n            </div>\n        </div>\n        `;\n\n        $LG(this.settings.container).append(template);\n\n        if (document.body !== this.settings.container) {\n            $LG(this.settings.container).css('position', 'relative');\n        }\n\n        this.outer = this.getElementById('lg-outer');\n        this.$lgComponents = this.getElementById('lg-components');\n        this.$backdrop = this.getElementById('lg-backdrop');\n        this.$container = this.getElementById('lg-container');\n        this.$inner = this.getElementById('lg-inner');\n        this.$content = this.getElementById('lg-content');\n        this.$toolbar = this.getElementById('lg-toolbar');\n\n        this.$backdrop.css(\n            'transition-duration',\n            this.settings.backdropDuration + 'ms',\n        );\n\n        let outerClassNames = `${this.settings.mode} `;\n\n        this.manageSingleSlideClassName();\n\n        if (this.settings.enableDrag) {\n            outerClassNames += 'lg-grab ';\n        }\n\n        this.outer.addClass(outerClassNames);\n\n        this.$inner.css('transition-timing-function', this.settings.easing);\n        this.$inner.css('transition-duration', this.settings.speed + 'ms');\n\n        if (this.settings.download) {\n            this.$toolbar.append(\n                `<a id=\"${this.getIdName(\n                    'lg-download',\n                )}\" target=\"_blank\" rel=\"noopener\" aria-label=\"${\n                    this.settings.strings['download']\n                }\" download class=\"lg-download lg-icon\"></a>`,\n            );\n        }\n\n        this.counter();\n\n        $LG(window).on(\n            `resize.lg.global${this.lgId} orientationchange.lg.global${this.lgId}`,\n            () => {\n                this.refreshOnResize();\n            },\n        );\n\n        this.hideBars();\n\n        this.manageCloseGallery();\n        this.toggleMaximize();\n\n        this.initModules();\n    }\n\n    refreshOnResize(): void {\n        if (this.lgOpened) {\n            const currentGalleryItem = this.galleryItems[this.index];\n            const { __slideVideoInfo } = currentGalleryItem;\n\n            this.mediaContainerPosition = this.getMediaContainerPosition();\n            const { top, bottom } = this.mediaContainerPosition;\n            this.currentImageSize = utils.getSize(\n                this.items[this.index],\n                this.outer,\n                top + bottom,\n                __slideVideoInfo && this.settings.videoMaxSize,\n            );\n            if (__slideVideoInfo) {\n                this.resizeVideoSlide(this.index, this.currentImageSize);\n            }\n            if (this.zoomFromOrigin && !this.isDummyImageRemoved) {\n                const imgStyle = this.getDummyImgStyles(this.currentImageSize);\n                this.outer\n                    .find('.lg-current .lg-dummy-img')\n                    .first()\n                    .attr('style', imgStyle);\n            }\n            this.LGel.trigger(lGEvents.containerResize);\n        }\n    }\n\n    resizeVideoSlide(index: number, imageSize?: ImageSize): void {\n        const lgVideoStyle = this.getVideoContStyle(imageSize);\n        const currentSlide = this.getSlideItem(index);\n        currentSlide.find('.lg-video-cont').attr('style', lgVideoStyle);\n    }\n\n    /**\n     * Update slides dynamically.\n     * Add, edit or delete slides dynamically when lightGallery is opened.\n     * Modify the current gallery items and pass it via updateSlides method\n     * @note\n     * - Do not mutate existing lightGallery items directly.\n     * - Always pass new list of gallery items\n     * - You need to take care of thumbnails outside the gallery if any\n     * - user this method only if you want to update slides when the gallery is opened. Otherwise, use `refresh()` method.\n     * @param items Gallery items\n     * @param index After the update operation, which slide gallery should navigate to\n     * @category lGPublicMethods\n     * @example\n     * const plugin = lightGallery();\n     *\n     * // Adding slides dynamically\n     * let galleryItems = [\n     * // Access existing lightGallery items\n     * // galleryItems are automatically generated internally from the gallery HTML markup\n     * // or directly from galleryItems when dynamic gallery is used\n     *   ...plugin.galleryItems,\n     *     ...[\n     *       {\n     *         src: 'img/img-1.png',\n     *           thumb: 'img/thumb1.png',\n     *         },\n     *     ],\n     *   ];\n     *   plugin.updateSlides(\n     *     galleryItems,\n     *     plugin.index,\n     *   );\n     *\n     *\n     * // Remove slides dynamically\n     * galleryItems = JSON.parse(\n     *   JSON.stringify(updateSlideInstance.galleryItems),\n     * );\n     * galleryItems.shift();\n     * updateSlideInstance.updateSlides(galleryItems, 1);\n     * @see <a href=\"/demos/update-slides/\">Demo</a>\n     */\n    updateSlides(items: GalleryItem[], index: number): void {\n        if (this.index > items.length - 1) {\n            this.index = items.length - 1;\n        }\n        if (items.length === 1) {\n            this.index = 0;\n        }\n        if (!items.length) {\n            this.closeGallery();\n            return;\n        }\n        const currentSrc = this.galleryItems[index].src;\n        this.galleryItems = items;\n        this.updateControls();\n        this.$inner.empty();\n        this.currentItemsInDom = [];\n\n        let _index = 0;\n        // Find the current index based on source value of the slide\n        this.galleryItems.some((galleryItem, itemIndex) => {\n            if (galleryItem.src === currentSrc) {\n                _index = itemIndex;\n                return true;\n            }\n            return false;\n        });\n\n        this.currentItemsInDom = this.organizeSlideItems(_index, -1);\n        this.loadContent(_index, true);\n        this.getSlideItem(_index).addClass('lg-current');\n\n        this.index = _index;\n        this.updateCurrentCounter(_index);\n        this.LGel.trigger(lGEvents.updateSlides);\n    }\n\n    // Get gallery items based on multiple conditions\n    getItems(): GalleryItem[] {\n        // Gallery items\n        this.items = [];\n        if (!this.settings.dynamic) {\n            if (this.settings.selector === 'this') {\n                this.items.push(this.el);\n            } else if (this.settings.selector) {\n                if (typeof this.settings.selector === 'string') {\n                    if (this.settings.selectWithin) {\n                        const selectWithin = $LG(this.settings.selectWithin);\n                        this.items = selectWithin\n                            .find(this.settings.selector)\n                            .get();\n                    } else {\n                        this.items = this.el.querySelectorAll(\n                            this.settings.selector,\n                        );\n                    }\n                } else {\n                    this.items = this.settings.selector;\n                }\n            } else {\n                this.items = this.el.children;\n            }\n            return utils.getDynamicOptions(\n                this.items,\n                this.settings.extraProps,\n                this.settings.getCaptionFromTitleOrAlt,\n                this.settings.exThumbImage,\n            );\n        } else {\n            return this.settings.dynamicEl || [];\n        }\n    }\n\n    shouldHideScrollbar(): boolean {\n        return (\n            this.settings.hideScrollbar &&\n            document.body === this.settings.container\n        );\n    }\n\n    hideScrollbar(): void {\n        if (!this.shouldHideScrollbar()) {\n            return;\n        }\n        this.bodyPaddingRight = parseFloat($LG('body').style().paddingRight);\n        const bodyRect = document.documentElement.getBoundingClientRect();\n        const scrollbarWidth = window.innerWidth - bodyRect.width;\n\n        $LG(document.body).css(\n            'padding-right',\n            scrollbarWidth + this.bodyPaddingRight + 'px',\n        );\n        $LG(document.body).addClass('lg-overlay-open');\n    }\n\n    resetScrollBar(): void {\n        if (!this.shouldHideScrollbar()) {\n            return;\n        }\n        $LG(document.body).css('padding-right', this.bodyPaddingRight + 'px');\n        $LG(document.body).removeClass('lg-overlay-open');\n    }\n\n    /**\n     * Open lightGallery.\n     * Open gallery with specific slide by passing index of the slide as parameter.\n     * @category lGPublicMethods\n     * @param {Number} index  - index of the slide\n     * @param {HTMLElement} element - Which image lightGallery should zoom from\n     *\n     * @example\n     * const $dynamicGallery = document.getElementById('dynamic-gallery-demo');\n     * const dynamicGallery = lightGallery($dynamicGallery, {\n     *     dynamic: true,\n     *     dynamicEl: [\n     *         {\n     *              src: 'img/1.jpg',\n     *              thumb: 'img/thumb-1.jpg',\n     *              subHtml: '<h4>Image 1 title</h4><p>Image 1 descriptions.</p>',\n     *         },\n     *         ...\n     *     ],\n     * });\n     * $dynamicGallery.addEventListener('click', function () {\n     *     // Starts with third item.(Optional).\n     *     // This is useful if you want use dynamic mode with\n     *     // custom thumbnails (thumbnails outside gallery),\n     *     dynamicGallery.openGallery(2);\n     * });\n     *\n     */\n    openGallery(index = this.settings.index, element?: HTMLElement): void {\n        // prevent accidental double execution\n        if (this.lgOpened) return;\n        this.lgOpened = true;\n        this.outer.removeClass('lg-hide-items');\n\n        this.hideScrollbar();\n\n        // Add display block, but still has opacity 0\n        this.$container.addClass('lg-show');\n\n        const itemsToBeInsertedToDom = this.getItemsToBeInsertedToDom(\n            index,\n            index,\n        );\n        this.currentItemsInDom = itemsToBeInsertedToDom;\n\n        let items = '';\n        itemsToBeInsertedToDom.forEach((item) => {\n            items = items + `<div id=\"${item}\" class=\"lg-item\"></div>`;\n        });\n\n        this.$inner.append(items);\n        this.addHtml(index);\n        let transform: string | undefined = '';\n        this.mediaContainerPosition = this.getMediaContainerPosition();\n        const { top, bottom } = this.mediaContainerPosition;\n        if (!this.settings.allowMediaOverlap) {\n            this.setMediaContainerPosition(top, bottom);\n        }\n        const { __slideVideoInfo } = this.galleryItems[index];\n        if (this.zoomFromOrigin && element) {\n            this.currentImageSize = utils.getSize(\n                element,\n                this.outer,\n                top + bottom,\n                __slideVideoInfo && this.settings.videoMaxSize,\n            );\n            transform = utils.getTransform(\n                element,\n                this.outer,\n                top,\n                bottom,\n                this.currentImageSize,\n            );\n        }\n        if (!this.zoomFromOrigin || !transform) {\n            this.outer.addClass(this.settings.startClass);\n            this.getSlideItem(index).removeClass('lg-complete');\n        }\n        const timeout = this.settings.zoomFromOrigin\n            ? 100\n            : this.settings.backdropDuration;\n        setTimeout(() => {\n            this.outer.addClass('lg-components-open');\n        }, timeout);\n        this.index = index;\n        this.LGel.trigger(lGEvents.beforeOpen);\n\n        // add class lg-current to remove initial transition\n        this.getSlideItem(index).addClass('lg-current');\n\n        this.lGalleryOn = false;\n        // Store the current scroll top value to scroll back after closing the gallery..\n        this.prevScrollTop = $LG(window).scrollTop();\n\n        setTimeout(() => {\n            // Need to check both zoomFromOrigin and transform values as we need to set set the\n            // default opening animation if user missed to add the lg-size attribute\n\n            if (this.zoomFromOrigin && transform) {\n                const currentSlide = this.getSlideItem(index);\n                currentSlide.css('transform', transform);\n                setTimeout(() => {\n                    currentSlide\n                        .addClass('lg-start-progress lg-start-end-progress')\n                        .css(\n                            'transition-duration',\n                            this.settings.startAnimationDuration + 'ms',\n                        );\n                    this.outer.addClass('lg-zoom-from-image');\n                });\n                setTimeout(() => {\n                    currentSlide.css('transform', 'translate3d(0, 0, 0)');\n                }, 100);\n            }\n\n            setTimeout(() => {\n                this.$backdrop.addClass('in');\n                this.$container.addClass('lg-show-in');\n            }, 10);\n\n            setTimeout(() => {\n                if (\n                    this.settings.trapFocus &&\n                    document.body === this.settings.container\n                ) {\n                    this.trapFocus();\n                }\n            }, this.settings.backdropDuration + 50);\n\n            // lg-visible class resets gallery opacity to 1\n            if (!this.zoomFromOrigin || !transform) {\n                setTimeout(() => {\n                    this.outer.addClass('lg-visible');\n                }, this.settings.backdropDuration);\n            }\n\n            // initiate slide function\n            this.slide(index, false, false, false);\n\n            this.LGel.trigger(lGEvents.afterOpen);\n        });\n\n        if (document.body === this.settings.container) {\n            $LG('html').addClass('lg-on');\n        }\n    }\n\n    /**\n     * Note - Changing the position of the media on every slide transition creates a flickering effect.\n     * Therefore, The height of the caption is calculated dynamically, only once based on the first slide caption.\n     * if you have dynamic captions for each media,\n     * you can provide an appropriate height for the captions via allowMediaOverlap option\n     */\n    public getMediaContainerPosition(): MediaContainerPosition {\n        if (this.settings.allowMediaOverlap) {\n            return {\n                top: 0,\n                bottom: 0,\n            };\n        }\n        const top = this.$toolbar.get().clientHeight || 0;\n        const subHtml = this.outer.find('.lg-components .lg-sub-html').get();\n        const captionHeight =\n            this.settings.defaultCaptionHeight ||\n            (subHtml && subHtml.clientHeight) ||\n            0;\n        const thumbContainer = this.outer.find('.lg-thumb-outer').get();\n        const thumbHeight = thumbContainer ? thumbContainer.clientHeight : 0;\n        const bottom = thumbHeight + captionHeight;\n        return {\n            top,\n            bottom,\n        };\n    }\n\n    private setMediaContainerPosition(top = 0, bottom = 0): void {\n        this.$content.css('top', top + 'px').css('bottom', bottom + 'px');\n    }\n\n    hideBars(): void {\n        // Hide controllers if mouse doesn't move for some period\n        setTimeout(() => {\n            this.outer.removeClass('lg-hide-items');\n            if (this.settings.hideBarsDelay > 0) {\n                this.outer.on('mousemove.lg click.lg touchstart.lg', () => {\n                    this.outer.removeClass('lg-hide-items');\n\n                    clearTimeout(this.hideBarTimeout);\n\n                    // Timeout will be cleared on each slide movement also\n                    this.hideBarTimeout = setTimeout(() => {\n                        this.outer.addClass('lg-hide-items');\n                    }, this.settings.hideBarsDelay);\n                });\n                this.outer.trigger('mousemove.lg');\n            }\n        }, this.settings.showBarsAfter);\n    }\n\n    initPictureFill($img: lgQuery): void {\n        if (this.settings.supportLegacyBrowser) {\n            try {\n                picturefill({\n                    elements: [$img.get()],\n                });\n            } catch (e) {\n                console.warn(\n                    'lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.',\n                );\n            }\n        }\n    }\n\n    /**\n     *  @desc Create image counter\n     *  Ex: 1/10\n     */\n    counter(): void {\n        if (this.settings.counter) {\n            const counterHtml = `<div class=\"lg-counter\" role=\"status\" aria-live=\"polite\">\n                <span id=\"${this.getIdName(\n                    'lg-counter-current',\n                )}\" class=\"lg-counter-current\">${this.index + 1} </span> /\n                <span id=\"${this.getIdName(\n                    'lg-counter-all',\n                )}\" class=\"lg-counter-all\">${\n                this.galleryItems.length\n            } </span></div>`;\n            this.outer.find(this.settings.appendCounterTo).append(counterHtml);\n        }\n    }\n\n    /**\n     *  @desc add sub-html into the slide\n     *  @param {Number} index - index of the slide\n     */\n    addHtml(index: number): void {\n        let subHtml;\n        let subHtmlUrl;\n        if (this.galleryItems[index].subHtmlUrl) {\n            subHtmlUrl = this.galleryItems[index].subHtmlUrl;\n        } else {\n            subHtml = this.galleryItems[index].subHtml;\n        }\n\n        if (!subHtmlUrl) {\n            if (subHtml) {\n                // get first letter of sub-html\n                // if first letter starts with . or # get the html form the jQuery object\n                const fL = subHtml.substring(0, 1);\n                if (fL === '.' || fL === '#') {\n                    if (\n                        this.settings.subHtmlSelectorRelative &&\n                        !this.settings.dynamic\n                    ) {\n                        subHtml = $LG(this.items)\n                            .eq(index)\n                            .find(subHtml)\n                            .first()\n                            .html();\n                    } else {\n                        subHtml = $LG(subHtml).first().html();\n                    }\n                }\n            } else {\n                subHtml = '';\n            }\n        }\n\n        if (this.settings.appendSubHtmlTo !== '.lg-item') {\n            if (subHtmlUrl) {\n                this.outer.find('.lg-sub-html').load(subHtmlUrl);\n            } else {\n                this.outer.find('.lg-sub-html').html(subHtml as string);\n            }\n        } else {\n            const currentSlide = $LG(this.getSlideItemId(index));\n            if (subHtmlUrl) {\n                currentSlide.load(subHtmlUrl);\n            } else {\n                currentSlide.append(\n                    `<div class=\"lg-sub-html\">${subHtml}</div>`,\n                );\n            }\n        }\n\n        // Add lg-empty-html class if title doesn't exist\n        if (typeof subHtml !== 'undefined' && subHtml !== null) {\n            if (subHtml === '') {\n                this.outer\n                    .find(this.settings.appendSubHtmlTo)\n                    .addClass('lg-empty-html');\n            } else {\n                this.outer\n                    .find(this.settings.appendSubHtmlTo)\n                    .removeClass('lg-empty-html');\n            }\n        }\n\n        this.LGel.trigger<AfterAppendSubHtmlDetail>(\n            lGEvents.afterAppendSubHtml,\n            {\n                index,\n            },\n        );\n    }\n\n    /**\n     *  @desc Preload slides\n     *  @param {Number} index - index of the slide\n     * @todo preload not working for the first slide, Also, should work for the first and last slide as well\n     */\n    preload(index: number): void {\n        for (let i = 1; i <= this.settings.preload; i++) {\n            if (i >= this.galleryItems.length - index) {\n                break;\n            }\n\n            this.loadContent(index + i, false);\n        }\n\n        for (let j = 1; j <= this.settings.preload; j++) {\n            if (index - j < 0) {\n                break;\n            }\n\n            this.loadContent(index - j, false);\n        }\n    }\n\n    getDummyImgStyles(imageSize?: ImageSize): string {\n        if (!imageSize) return '';\n        return `width:${imageSize.width}px;\n                margin-left: -${imageSize.width / 2}px;\n                margin-top: -${imageSize.height / 2}px;\n                height:${imageSize.height}px`;\n    }\n    getVideoContStyle(imageSize?: ImageSize): string {\n        if (!imageSize) return '';\n        return `width:${imageSize.width}px;\n                height:${imageSize.height}px`;\n    }\n\n    getDummyImageContent(\n        $currentSlide: lgQuery,\n        index: number,\n        alt: string,\n    ): string {\n        let $currentItem;\n        if (!this.settings.dynamic) {\n            $currentItem = $LG(this.items).eq(index);\n        }\n        if ($currentItem) {\n            let _dummyImgSrc;\n            if (!this.settings.exThumbImage) {\n                _dummyImgSrc = $currentItem.find('img').first().attr('src');\n            } else {\n                _dummyImgSrc = $currentItem.attr(this.settings.exThumbImage);\n            }\n            if (!_dummyImgSrc) return '';\n            const imgStyle = this.getDummyImgStyles(this.currentImageSize);\n            const dummyImgContent = `<img ${alt} style=\"${imgStyle}\" class=\"lg-dummy-img\" src=\"${_dummyImgSrc}\" />`;\n\n            $currentSlide.addClass('lg-first-slide');\n            this.outer.addClass('lg-first-slide-loading');\n\n            return dummyImgContent;\n        }\n        return '';\n    }\n\n    setImgMarkup(src: string, $currentSlide: lgQuery, index: number): void {\n        const currentGalleryItem = this.galleryItems[index];\n        const { alt, srcset, sizes, sources } = currentGalleryItem;\n\n        // Use the thumbnail as dummy image which will be resized to actual image size and\n        // displayed on top of actual image\n        let imgContent = '';\n        const altAttr = alt ? 'alt=\"' + alt + '\"' : '';\n\n        if (this.isFirstSlideWithZoomAnimation()) {\n            imgContent = this.getDummyImageContent(\n                $currentSlide,\n                index,\n                altAttr,\n            );\n        } else {\n            imgContent = utils.getImgMarkup(\n                index,\n                src,\n                altAttr,\n                srcset,\n                sizes,\n                sources,\n            );\n        }\n        const imgMarkup = `<picture class=\"lg-img-wrap\"> ${imgContent}</picture>`;\n        $currentSlide.prepend(imgMarkup);\n    }\n\n    onSlideObjectLoad(\n        $slide: lgQuery,\n        isHTML5VideoWithoutPoster: boolean,\n        onLoad: () => void,\n        onError: () => void,\n    ): void {\n        const mediaObject = $slide.find('.lg-object').first();\n        if (\n            utils.isImageLoaded(mediaObject.get() as HTMLImageElement) ||\n            isHTML5VideoWithoutPoster\n        ) {\n            onLoad();\n        } else {\n            mediaObject.on('load.lg error.lg', () => {\n                onLoad && onLoad();\n            });\n            mediaObject.on('error.lg', () => {\n                onError && onError();\n            });\n        }\n    }\n\n    /**\n     *\n     * @param $el Current slide item\n     * @param index\n     * @param delay Delay is 0 except first time\n     * @param speed Speed is same as delay, except it is 0 if gallery is opened via hash plugin\n     * @param isFirstSlide\n     */\n    onLgObjectLoad(\n        currentSlide: lgQuery,\n        index: number,\n        delay: number,\n        speed: number,\n        isFirstSlide: boolean,\n        isHTML5VideoWithoutPoster: boolean,\n    ): void {\n        this.onSlideObjectLoad(\n            currentSlide,\n            isHTML5VideoWithoutPoster,\n            () => {\n                this.triggerSlideItemLoad(\n                    currentSlide,\n                    index,\n                    delay,\n                    speed,\n                    isFirstSlide,\n                );\n            },\n            () => {\n                currentSlide.addClass('lg-complete lg-complete_');\n                currentSlide.html(\n                    '<span class=\"lg-error-msg\">' +\n                        this.settings.strings['mediaLoadingFailed'] +\n                        '</span>',\n                );\n            },\n        );\n    }\n\n    triggerSlideItemLoad(\n        $currentSlide: lgQuery,\n        index: number,\n        delay: number,\n        speed: number,\n        isFirstSlide: boolean,\n    ): void {\n        const currentGalleryItem = this.galleryItems[index];\n\n        // Adding delay for video slides without poster for better performance and user experience\n        // Videos should start playing once once the gallery is completely loaded\n        const _speed =\n            isFirstSlide &&\n            this.getSlideType(currentGalleryItem) === 'video' &&\n            !currentGalleryItem.poster\n                ? speed\n                : 0;\n        setTimeout(() => {\n            $currentSlide.addClass('lg-complete lg-complete_');\n            this.LGel.trigger<SlideItemLoadDetail>(lGEvents.slideItemLoad, {\n                index,\n                delay: delay || 0,\n                isFirstSlide,\n            });\n        }, _speed);\n    }\n\n    isFirstSlideWithZoomAnimation(): boolean {\n        return !!(\n            !this.lGalleryOn &&\n            this.zoomFromOrigin &&\n            this.currentImageSize\n        );\n    }\n\n    // Add video slideInfo\n    addSlideVideoInfo(items: GalleryItem[]): void {\n        items.forEach((element, index) => {\n            element.__slideVideoInfo = utils.isVideo(\n                element.src as string,\n                !!element.video,\n                index,\n            );\n            if (\n                element.__slideVideoInfo &&\n                this.settings.loadYouTubePoster &&\n                !element.poster &&\n                element.__slideVideoInfo.youtube\n            ) {\n                element.poster = `//img.youtube.com/vi/${element.__slideVideoInfo.youtube[1]}/maxresdefault.jpg`;\n            }\n        });\n    }\n\n    /**\n     *  Load slide content into slide.\n     *  This is used to load content into slides that is not visible too\n     *  @param {Number} index - index of the slide.\n     *  @param {Boolean} rec - if true call loadcontent() function again.\n     */\n    loadContent(index: number, rec: boolean): void {\n        const currentGalleryItem = this.galleryItems[index];\n        const $currentSlide = $LG(this.getSlideItemId(index));\n\n        const { poster, srcset, sizes, sources } = currentGalleryItem;\n        let { src } = currentGalleryItem;\n\n        const video = currentGalleryItem.video;\n\n        const _html5Video =\n            video && typeof video === 'string' ? JSON.parse(video) : video;\n\n        if (currentGalleryItem.responsive) {\n            const srcDyItms = currentGalleryItem.responsive.split(',');\n            src = utils.getResponsiveSrc(srcDyItms) || src;\n        }\n\n        const videoInfo = currentGalleryItem.__slideVideoInfo;\n        let lgVideoStyle = '';\n\n        const iframe = !!currentGalleryItem.iframe;\n\n        const isFirstSlide = !this.lGalleryOn;\n\n        // delay for adding complete class. it is 0 except first time.\n        let delay = 0;\n        if (isFirstSlide) {\n            if (this.zoomFromOrigin && this.currentImageSize) {\n                delay = this.settings.startAnimationDuration + 10;\n            } else {\n                delay = this.settings.backdropDuration + 10;\n            }\n        }\n\n        if (!$currentSlide.hasClass('lg-loaded')) {\n            if (videoInfo) {\n                const { top, bottom } = this.mediaContainerPosition;\n                const videoSize = utils.getSize(\n                    this.items[index],\n                    this.outer,\n                    top + bottom,\n                    videoInfo && this.settings.videoMaxSize,\n                );\n                lgVideoStyle = this.getVideoContStyle(videoSize);\n            }\n            if (iframe) {\n                const markup = utils.getIframeMarkup(\n                    this.settings.iframeWidth,\n                    this.settings.iframeHeight,\n                    this.settings.iframeMaxWidth,\n                    this.settings.iframeMaxHeight,\n                    src,\n                    currentGalleryItem.iframeTitle,\n                );\n                $currentSlide.prepend(markup);\n            } else if (poster) {\n                let dummyImg = '';\n                const hasStartAnimation =\n                    isFirstSlide &&\n                    this.zoomFromOrigin &&\n                    this.currentImageSize;\n                if (hasStartAnimation) {\n                    dummyImg = this.getDummyImageContent(\n                        $currentSlide,\n                        index,\n                        '',\n                    );\n                }\n\n                const markup = utils.getVideoPosterMarkup(\n                    poster,\n                    dummyImg || '',\n                    lgVideoStyle,\n                    this.settings.strings['playVideo'],\n                    videoInfo,\n                );\n                $currentSlide.prepend(markup);\n            } else if (videoInfo) {\n                const markup = `<div class=\"lg-video-cont \" style=\"${lgVideoStyle}\"></div>`;\n                $currentSlide.prepend(markup);\n            } else {\n                this.setImgMarkup(src as string, $currentSlide, index);\n                if (srcset || sources) {\n                    const $img = $currentSlide.find('.lg-object');\n                    this.initPictureFill($img);\n                }\n            }\n            if (poster || videoInfo) {\n                this.LGel.trigger(lGEvents.hasVideo, {\n                    index,\n                    src: src,\n                    html5Video: _html5Video,\n                    hasPoster: !!poster,\n                });\n            }\n\n            this.LGel.trigger<AfterAppendSlideEventDetail>(\n                lGEvents.afterAppendSlide,\n                { index },\n            );\n\n            if (\n                this.lGalleryOn &&\n                this.settings.appendSubHtmlTo === '.lg-item'\n            ) {\n                this.addHtml(index);\n            }\n        }\n\n        // For first time add some delay for displaying the start animation.\n        let _speed = 0;\n\n        // Do not change the delay value because it is required for zoom plugin.\n        // If gallery opened from direct url (hash) speed value should be 0\n        if (delay && !$LG(document.body).hasClass('lg-from-hash')) {\n            _speed = delay;\n        }\n\n        // Only for first slide and zoomFromOrigin is enabled\n        if (this.isFirstSlideWithZoomAnimation()) {\n            setTimeout(() => {\n                $currentSlide\n                    .removeClass('lg-start-end-progress lg-start-progress')\n                    .removeAttr('style');\n            }, this.settings.startAnimationDuration + 100);\n            if (!$currentSlide.hasClass('lg-loaded')) {\n                setTimeout(() => {\n                    if (this.getSlideType(currentGalleryItem) === 'image') {\n                        const { alt } = currentGalleryItem;\n                        const altAttr = alt ? 'alt=\"' + alt + '\"' : '';\n\n                        $currentSlide\n                            .find('.lg-img-wrap')\n                            .append(\n                                utils.getImgMarkup(\n                                    index,\n                                    src as string,\n                                    altAttr,\n                                    srcset,\n                                    sizes,\n                                    currentGalleryItem.sources,\n                                ),\n                            );\n                        if (srcset || sources) {\n                            const $img = $currentSlide.find('.lg-object');\n                            this.initPictureFill($img);\n                        }\n                    }\n                    if (\n                        this.getSlideType(currentGalleryItem) === 'image' ||\n                        (this.getSlideType(currentGalleryItem) === 'video' &&\n                            poster)\n                    ) {\n                        this.onLgObjectLoad(\n                            $currentSlide,\n                            index,\n                            delay,\n                            _speed,\n                            true,\n                            false,\n                        );\n\n                        // load remaining slides once the slide is completely loaded\n                        this.onSlideObjectLoad(\n                            $currentSlide,\n                            !!(videoInfo && videoInfo.html5 && !poster),\n                            () => {\n                                this.loadContentOnFirstSlideLoad(\n                                    index,\n                                    $currentSlide,\n                                    _speed,\n                                );\n                            },\n                            () => {\n                                this.loadContentOnFirstSlideLoad(\n                                    index,\n                                    $currentSlide,\n                                    _speed,\n                                );\n                            },\n                        );\n                    }\n                }, this.settings.startAnimationDuration + 100);\n            }\n        }\n\n        // SLide content has been added to dom\n        $currentSlide.addClass('lg-loaded');\n\n        if (\n            !this.isFirstSlideWithZoomAnimation() ||\n            (this.getSlideType(currentGalleryItem) === 'video' && !poster)\n        ) {\n            this.onLgObjectLoad(\n                $currentSlide,\n                index,\n                delay,\n                _speed,\n                isFirstSlide,\n                !!(videoInfo && videoInfo.html5 && !poster),\n            );\n        }\n\n        // When gallery is opened once content is loaded (second time) need to add lg-complete class for css styling\n        if (\n            (!this.zoomFromOrigin || !this.currentImageSize) &&\n            $currentSlide.hasClass('lg-complete_') &&\n            !this.lGalleryOn\n        ) {\n            setTimeout(() => {\n                $currentSlide.addClass('lg-complete');\n            }, this.settings.backdropDuration);\n        }\n\n        // Content loaded\n        // Need to set lGalleryOn before calling preload function\n        this.lGalleryOn = true;\n\n        if (rec === true) {\n            if (!$currentSlide.hasClass('lg-complete_')) {\n                $currentSlide\n                    .find('.lg-object')\n                    .first()\n                    .on('load.lg error.lg', () => {\n                        this.preload(index);\n                    });\n            } else {\n                this.preload(index);\n            }\n        }\n    }\n\n    /**\n     * @desc Remove dummy image content and load next slides\n     * Called only for the first time if zoomFromOrigin animation is enabled\n     * @param index\n     * @param $currentSlide\n     * @param speed\n     */\n    loadContentOnFirstSlideLoad(\n        index: number,\n        $currentSlide: lgQuery,\n        speed: number,\n    ): void {\n        setTimeout(() => {\n            $currentSlide.find('.lg-dummy-img').remove();\n            $currentSlide.removeClass('lg-first-slide');\n            this.outer.removeClass('lg-first-slide-loading');\n            this.isDummyImageRemoved = true;\n            this.preload(index);\n        }, speed + 300);\n    }\n\n    getItemsToBeInsertedToDom(\n        index: number,\n        prevIndex: number,\n        numberOfItems = 0,\n    ): string[] {\n        const itemsToBeInsertedToDom: string[] = [];\n        // Minimum 2 items should be there\n        let possibleNumberOfItems = Math.max(numberOfItems, 3);\n        possibleNumberOfItems = Math.min(\n            possibleNumberOfItems,\n            this.galleryItems.length,\n        );\n        const prevIndexItem = `lg-item-${this.lgId}-${prevIndex}`;\n        if (this.galleryItems.length <= 3) {\n            this.galleryItems.forEach((_element, index) => {\n                itemsToBeInsertedToDom.push(`lg-item-${this.lgId}-${index}`);\n            });\n            return itemsToBeInsertedToDom;\n        }\n\n        if (index < (this.galleryItems.length - 1) / 2) {\n            for (\n                let idx = index;\n                idx > index - possibleNumberOfItems / 2 && idx >= 0;\n                idx--\n            ) {\n                itemsToBeInsertedToDom.push(`lg-item-${this.lgId}-${idx}`);\n            }\n            const numberOfExistingItems = itemsToBeInsertedToDom.length;\n            for (\n                let idx = 0;\n                idx < possibleNumberOfItems - numberOfExistingItems;\n                idx++\n            ) {\n                itemsToBeInsertedToDom.push(\n                    `lg-item-${this.lgId}-${index + idx + 1}`,\n                );\n            }\n        } else {\n            for (\n                let idx = index;\n                idx <= this.galleryItems.length - 1 &&\n                idx < index + possibleNumberOfItems / 2;\n                idx++\n            ) {\n                itemsToBeInsertedToDom.push(`lg-item-${this.lgId}-${idx}`);\n            }\n            const numberOfExistingItems = itemsToBeInsertedToDom.length;\n            for (\n                let idx = 0;\n                idx < possibleNumberOfItems - numberOfExistingItems;\n                idx++\n            ) {\n                itemsToBeInsertedToDom.push(\n                    `lg-item-${this.lgId}-${index - idx - 1}`,\n                );\n            }\n        }\n        if (this.settings.loop) {\n            if (index === this.galleryItems.length - 1) {\n                itemsToBeInsertedToDom.push(`lg-item-${this.lgId}-${0}`);\n            } else if (index === 0) {\n                itemsToBeInsertedToDom.push(\n                    `lg-item-${this.lgId}-${this.galleryItems.length - 1}`,\n                );\n            }\n        }\n        if (itemsToBeInsertedToDom.indexOf(prevIndexItem) === -1) {\n            itemsToBeInsertedToDom.push(`lg-item-${this.lgId}-${prevIndex}`);\n        }\n\n        return itemsToBeInsertedToDom;\n    }\n\n    organizeSlideItems(index: number, prevIndex: number): string[] {\n        const itemsToBeInsertedToDom = this.getItemsToBeInsertedToDom(\n            index,\n            prevIndex,\n            this.settings.numberOfSlideItemsInDom,\n        );\n\n        itemsToBeInsertedToDom.forEach((item) => {\n            if (this.currentItemsInDom.indexOf(item) === -1) {\n                this.$inner.append(`<div id=\"${item}\" class=\"lg-item\"></div>`);\n            }\n        });\n\n        this.currentItemsInDom.forEach((item) => {\n            if (itemsToBeInsertedToDom.indexOf(item) === -1) {\n                $LG(`#${item}`).remove();\n            }\n        });\n        return itemsToBeInsertedToDom;\n    }\n\n    /**\n     * Get previous index of the slide\n     */\n    getPreviousSlideIndex(): number {\n        let prevIndex = 0;\n        try {\n            const currentItemId = this.outer\n                .find('.lg-current')\n                .first()\n                .attr('id');\n            prevIndex = parseInt(currentItemId.split('-')[3]) || 0;\n        } catch (error) {\n            prevIndex = 0;\n        }\n        return prevIndex;\n    }\n\n    setDownloadValue(index: number): void {\n        if (this.settings.download) {\n            const currentGalleryItem = this.galleryItems[index];\n            const hideDownloadBtn =\n                currentGalleryItem.downloadUrl === false ||\n                currentGalleryItem.downloadUrl === 'false';\n            if (hideDownloadBtn) {\n                this.outer.addClass('lg-hide-download');\n            } else {\n                const $download = this.getElementById('lg-download');\n                this.outer.removeClass('lg-hide-download');\n                $download.attr(\n                    'href',\n                    currentGalleryItem.downloadUrl ||\n                        (currentGalleryItem.src as string),\n                );\n                if (currentGalleryItem.download) {\n                    $download.attr('download', currentGalleryItem.download);\n                }\n            }\n        }\n    }\n\n    makeSlideAnimation(\n        direction: 'next' | 'prev',\n        currentSlideItem: lgQuery,\n        previousSlideItem: lgQuery,\n    ): void {\n        if (this.lGalleryOn) {\n            previousSlideItem.addClass('lg-slide-progress');\n        }\n        setTimeout(\n            () => {\n                // remove all transitions\n                this.outer.addClass('lg-no-trans');\n\n                this.outer\n                    .find('.lg-item')\n                    .removeClass('lg-prev-slide lg-next-slide');\n\n                if (direction === 'prev') {\n                    //prevslide\n                    currentSlideItem.addClass('lg-prev-slide');\n                    previousSlideItem.addClass('lg-next-slide');\n                } else {\n                    // next slide\n                    currentSlideItem.addClass('lg-next-slide');\n                    previousSlideItem.addClass('lg-prev-slide');\n                }\n\n                // give 50 ms for browser to add/remove class\n                setTimeout(() => {\n                    this.outer.find('.lg-item').removeClass('lg-current');\n\n                    currentSlideItem.addClass('lg-current');\n\n                    // reset all transitions\n                    this.outer.removeClass('lg-no-trans');\n                }, 50);\n            },\n            this.lGalleryOn ? this.settings.slideDelay : 0,\n        );\n    }\n\n    /**\n     * Goto a specific slide.\n     * @param {Number} index - index of the slide\n     * @param {Boolean} fromTouch - true if slide function called via touch event or mouse drag\n     * @param {Boolean} fromThumb - true if slide function called via thumbnail click\n     * @param {String} direction - Direction of the slide(next/prev)\n     * @category lGPublicMethods\n     * @example\n     *  const plugin = lightGallery();\n     *  // to go to 3rd slide\n     *  plugin.slide(2);\n     *\n     */\n    slide(\n        index: number,\n        fromTouch?: boolean,\n        fromThumb?: boolean,\n        direction?: SlideDirection | false,\n    ): void {\n        const prevIndex = this.getPreviousSlideIndex();\n        this.currentItemsInDom = this.organizeSlideItems(index, prevIndex);\n\n        // Prevent multiple call, Required for hsh plugin\n        if (this.lGalleryOn && prevIndex === index) {\n            return;\n        }\n\n        const numberOfGalleryItems = this.galleryItems.length;\n\n        if (!this.lgBusy) {\n            if (this.settings.counter) {\n                this.updateCurrentCounter(index);\n            }\n\n            const currentSlideItem = this.getSlideItem(index);\n            const previousSlideItem = this.getSlideItem(prevIndex);\n\n            const currentGalleryItem = this.galleryItems[index];\n            const videoInfo = currentGalleryItem.__slideVideoInfo;\n\n            this.outer.attr(\n                'data-lg-slide-type',\n                this.getSlideType(currentGalleryItem),\n            );\n            this.setDownloadValue(index);\n\n            if (videoInfo) {\n                const { top, bottom } = this.mediaContainerPosition;\n                const videoSize = utils.getSize(\n                    this.items[index],\n                    this.outer,\n                    top + bottom,\n                    videoInfo && this.settings.videoMaxSize,\n                );\n                this.resizeVideoSlide(index, videoSize);\n            }\n\n            this.LGel.trigger<BeforeSlideDetail>(lGEvents.beforeSlide, {\n                prevIndex,\n                index,\n                fromTouch: !!fromTouch,\n                fromThumb: !!fromThumb,\n            });\n\n            this.lgBusy = true;\n\n            clearTimeout(this.hideBarTimeout);\n\n            this.arrowDisable(index);\n\n            if (!direction) {\n                if (index < prevIndex) {\n                    direction = 'prev';\n                } else if (index > prevIndex) {\n                    direction = 'next';\n                }\n            }\n\n            if (!fromTouch) {\n                this.makeSlideAnimation(\n                    direction as SlideDirection,\n                    currentSlideItem,\n                    previousSlideItem,\n                );\n            } else {\n                this.outer\n                    .find('.lg-item')\n                    .removeClass('lg-prev-slide lg-current lg-next-slide');\n                let touchPrev;\n                let touchNext;\n                if (numberOfGalleryItems > 2) {\n                    touchPrev = index - 1;\n                    touchNext = index + 1;\n\n                    if (index === 0 && prevIndex === numberOfGalleryItems - 1) {\n                        // next slide\n                        touchNext = 0;\n                        touchPrev = numberOfGalleryItems - 1;\n                    } else if (\n                        index === numberOfGalleryItems - 1 &&\n                        prevIndex === 0\n                    ) {\n                        // prev slide\n                        touchNext = 0;\n                        touchPrev = numberOfGalleryItems - 1;\n                    }\n                } else {\n                    touchPrev = 0;\n                    touchNext = 1;\n                }\n\n                if (direction === 'prev') {\n                    this.getSlideItem(touchNext).addClass('lg-next-slide');\n                } else {\n                    this.getSlideItem(touchPrev).addClass('lg-prev-slide');\n                }\n\n                currentSlideItem.addClass('lg-current');\n            }\n\n            // Do not put load content in set timeout as it needs to load immediately when the gallery is opened\n            if (!this.lGalleryOn) {\n                this.loadContent(index, true);\n            } else {\n                setTimeout(() => {\n                    this.loadContent(index, true);\n                    // Add title if this.settings.appendSubHtmlTo === lg-sub-html\n                    if (this.settings.appendSubHtmlTo !== '.lg-item') {\n                        this.addHtml(index);\n                    }\n                }, this.settings.speed + 50 + (fromTouch ? 0 : this.settings.slideDelay));\n            }\n\n            setTimeout(() => {\n                this.lgBusy = false;\n                previousSlideItem.removeClass('lg-slide-progress');\n                this.LGel.trigger(lGEvents.afterSlide, {\n                    prevIndex: prevIndex,\n                    index,\n                    fromTouch,\n                    fromThumb,\n                });\n            }, (this.lGalleryOn ? this.settings.speed + 100 : 100) + (fromTouch ? 0 : this.settings.slideDelay));\n        }\n\n        this.index = index;\n    }\n\n    updateCurrentCounter(index: number): void {\n        this.getElementById('lg-counter-current').html(index + 1 + '');\n    }\n\n    updateCounterTotal(): void {\n        this.getElementById('lg-counter-all').html(\n            this.galleryItems.length + '',\n        );\n    }\n\n    getSlideType(item: GalleryItem): 'video' | 'iframe' | 'image' {\n        if (item.__slideVideoInfo) {\n            return 'video';\n        } else if (item.iframe) {\n            return 'iframe';\n        } else {\n            return 'image';\n        }\n    }\n\n    touchMove(startCoords: Coords, endCoords: Coords, e?: TouchEvent): void {\n        const distanceX = endCoords.pageX - startCoords.pageX;\n        const distanceY = endCoords.pageY - startCoords.pageY;\n        let allowSwipe = false;\n\n        if (this.swipeDirection) {\n            allowSwipe = true;\n        } else {\n            if (Math.abs(distanceX) > 15) {\n                this.swipeDirection = 'horizontal';\n                allowSwipe = true;\n            } else if (Math.abs(distanceY) > 15) {\n                this.swipeDirection = 'vertical';\n                allowSwipe = true;\n            }\n        }\n\n        if (!allowSwipe) {\n            return;\n        }\n\n        const $currentSlide = this.getSlideItem(this.index);\n\n        if (this.swipeDirection === 'horizontal') {\n            e?.preventDefault();\n            // reset opacity and transition duration\n            this.outer.addClass('lg-dragging');\n\n            // move current slide\n            this.setTranslate($currentSlide, distanceX, 0);\n\n            // move next and prev slide with current slide\n            const width = $currentSlide.get().offsetWidth;\n            const slideWidthAmount = (width * 15) / 100;\n            const gutter = slideWidthAmount - Math.abs((distanceX * 10) / 100);\n            this.setTranslate(\n                this.outer.find('.lg-prev-slide').first(),\n                -width + distanceX - gutter,\n                0,\n            );\n\n            this.setTranslate(\n                this.outer.find('.lg-next-slide').first(),\n                width + distanceX + gutter,\n                0,\n            );\n        } else if (this.swipeDirection === 'vertical') {\n            if (this.settings.swipeToClose) {\n                e?.preventDefault();\n                this.$container.addClass('lg-dragging-vertical');\n\n                const opacity = 1 - Math.abs(distanceY) / window.innerHeight;\n                this.$backdrop.css('opacity', opacity);\n\n                const scale = 1 - Math.abs(distanceY) / (window.innerWidth * 2);\n                this.setTranslate($currentSlide, 0, distanceY, scale, scale);\n                if (Math.abs(distanceY) > 100) {\n                    this.outer\n                        .addClass('lg-hide-items')\n                        .removeClass('lg-components-open');\n                }\n            }\n        }\n    }\n\n    touchEnd(endCoords: Coords, startCoords: Coords, event: TouchEvent): void {\n        let distance;\n\n        // keep slide animation for any mode while dragg/swipe\n        if (this.settings.mode !== 'lg-slide') {\n            this.outer.addClass('lg-slide');\n        }\n\n        // set transition duration\n        setTimeout(() => {\n            this.$container.removeClass('lg-dragging-vertical');\n            this.outer\n                .removeClass('lg-dragging lg-hide-items')\n                .addClass('lg-components-open');\n\n            let triggerClick = true;\n\n            if (this.swipeDirection === 'horizontal') {\n                distance = endCoords.pageX - startCoords.pageX;\n                const distanceAbs = Math.abs(\n                    endCoords.pageX - startCoords.pageX,\n                );\n                if (\n                    distance < 0 &&\n                    distanceAbs > this.settings.swipeThreshold\n                ) {\n                    this.goToNextSlide(true);\n                    triggerClick = false;\n                } else if (\n                    distance > 0 &&\n                    distanceAbs > this.settings.swipeThreshold\n                ) {\n                    this.goToPrevSlide(true);\n                    triggerClick = false;\n                }\n            } else if (this.swipeDirection === 'vertical') {\n                distance = Math.abs(endCoords.pageY - startCoords.pageY);\n                if (\n                    this.settings.closable &&\n                    this.settings.swipeToClose &&\n                    distance > 100\n                ) {\n                    this.closeGallery();\n                    return;\n                } else {\n                    this.$backdrop.css('opacity', 1);\n                }\n            }\n            this.outer.find('.lg-item').removeAttr('style');\n\n            if (\n                triggerClick &&\n                Math.abs(endCoords.pageX - startCoords.pageX) < 5\n            ) {\n                // Trigger click if distance is less than 5 pix\n                const target = $LG(event.target);\n                if (this.isPosterElement(target)) {\n                    this.LGel.trigger(lGEvents.posterClick);\n                }\n            }\n\n            this.swipeDirection = undefined;\n        });\n\n        // remove slide class once drag/swipe is completed if mode is not slide\n        setTimeout(() => {\n            if (\n                !this.outer.hasClass('lg-dragging') &&\n                this.settings.mode !== 'lg-slide'\n            ) {\n                this.outer.removeClass('lg-slide');\n            }\n        }, this.settings.speed + 100);\n    }\n\n    enableSwipe(): void {\n        let startCoords: Coords = {} as Coords;\n        let endCoords: Coords = {} as Coords;\n        let isMoved = false;\n        let isSwiping = false;\n\n        if (this.settings.enableSwipe) {\n            this.$inner.on('touchstart.lg', (e) => {\n                this.dragOrSwipeEnabled = true;\n                const $item = this.getSlideItem(this.index);\n                if (\n                    ($LG(e.target).hasClass('lg-item') ||\n                        $item.get().contains(e.target)) &&\n                    !this.outer.hasClass('lg-zoomed') &&\n                    !this.lgBusy &&\n                    e.touches.length === 1\n                ) {\n                    isSwiping = true;\n                    this.touchAction = 'swipe';\n                    this.manageSwipeClass();\n                    startCoords = {\n                        pageX: e.touches[0].pageX,\n                        pageY: e.touches[0].pageY,\n                    };\n                }\n            });\n\n            this.$inner.on('touchmove.lg', (e) => {\n                if (\n                    isSwiping &&\n                    this.touchAction === 'swipe' &&\n                    e.touches.length === 1\n                ) {\n                    endCoords = {\n                        pageX: e.touches[0].pageX,\n                        pageY: e.touches[0].pageY,\n                    };\n                    this.touchMove(startCoords, endCoords, e);\n                    isMoved = true;\n                }\n            });\n\n            this.$inner.on('touchend.lg', (event: TouchEvent) => {\n                if (this.touchAction === 'swipe') {\n                    if (isMoved) {\n                        isMoved = false;\n                        this.touchEnd(endCoords, startCoords, event);\n                    } else if (isSwiping) {\n                        const target = $LG(event.target);\n                        if (this.isPosterElement(target)) {\n                            this.LGel.trigger(lGEvents.posterClick);\n                        }\n                    }\n                    this.touchAction = undefined;\n                    isSwiping = false;\n                }\n            });\n        }\n    }\n\n    enableDrag(): void {\n        let startCoords: Coords = {} as Coords;\n        let endCoords: Coords = {} as Coords;\n        let isDraging = false;\n        let isMoved = false;\n        if (this.settings.enableDrag) {\n            this.outer.on('mousedown.lg', (e) => {\n                this.dragOrSwipeEnabled = true;\n                const $item = this.getSlideItem(this.index);\n                if (\n                    $LG(e.target).hasClass('lg-item') ||\n                    $item.get().contains(e.target)\n                ) {\n                    if (!this.outer.hasClass('lg-zoomed') && !this.lgBusy) {\n                        e.preventDefault();\n                        if (!this.lgBusy) {\n                            this.manageSwipeClass();\n                            startCoords = {\n                                pageX: e.pageX,\n                                pageY: e.pageY,\n                            };\n                            isDraging = true;\n\n                            // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                            this.outer.get().scrollLeft += 1;\n                            this.outer.get().scrollLeft -= 1;\n\n                            // *\n\n                            this.outer\n                                .removeClass('lg-grab')\n                                .addClass('lg-grabbing');\n\n                            this.LGel.trigger(lGEvents.dragStart);\n                        }\n                    }\n                }\n            });\n\n            $LG(window).on(`mousemove.lg.global${this.lgId}`, (e) => {\n                if (isDraging && this.lgOpened) {\n                    isMoved = true;\n                    endCoords = {\n                        pageX: e.pageX,\n                        pageY: e.pageY,\n                    };\n                    this.touchMove(startCoords, endCoords);\n                    this.LGel.trigger(lGEvents.dragMove);\n                }\n            });\n\n            $LG(window).on(`mouseup.lg.global${this.lgId}`, (event) => {\n                if (!this.lgOpened) {\n                    return;\n                }\n                const target = $LG(event.target);\n                if (isMoved) {\n                    isMoved = false;\n                    this.touchEnd(endCoords, startCoords, event);\n                    this.LGel.trigger(lGEvents.dragEnd);\n                } else if (this.isPosterElement(target)) {\n                    this.LGel.trigger(lGEvents.posterClick);\n                }\n\n                // Prevent execution on click\n                if (isDraging) {\n                    isDraging = false;\n                    this.outer.removeClass('lg-grabbing').addClass('lg-grab');\n                }\n            });\n        }\n    }\n\n    triggerPosterClick(): void {\n        this.$inner.on('click.lg', (event) => {\n            if (\n                !this.dragOrSwipeEnabled &&\n                this.isPosterElement($LG(event.target))\n            ) {\n                this.LGel.trigger(lGEvents.posterClick);\n            }\n        });\n    }\n\n    manageSwipeClass(): void {\n        let _touchNext = this.index + 1;\n        let _touchPrev = this.index - 1;\n        if (this.settings.loop && this.galleryItems.length > 2) {\n            if (this.index === 0) {\n                _touchPrev = this.galleryItems.length - 1;\n            } else if (this.index === this.galleryItems.length - 1) {\n                _touchNext = 0;\n            }\n        }\n\n        this.outer.find('.lg-item').removeClass('lg-next-slide lg-prev-slide');\n        if (_touchPrev > -1) {\n            this.getSlideItem(_touchPrev).addClass('lg-prev-slide');\n        }\n\n        this.getSlideItem(_touchNext).addClass('lg-next-slide');\n    }\n\n    /**\n     * Go to next slide\n     * @param {Boolean} fromTouch - true if slide function called via touch event\n     * @category lGPublicMethods\n     * @example\n     *  const plugin = lightGallery();\n     *  plugin.goToNextSlide();\n     * @see <a href=\"/demos/methods/\">Demo</a>\n     */\n    goToNextSlide(fromTouch?: boolean): void {\n        let _loop = this.settings.loop;\n        if (fromTouch && this.galleryItems.length < 3) {\n            _loop = false;\n        }\n\n        if (!this.lgBusy) {\n            if (this.index + 1 < this.galleryItems.length) {\n                this.index++;\n                this.LGel.trigger(lGEvents.beforeNextSlide, {\n                    index: this.index,\n                });\n                this.slide(this.index, !!fromTouch, false, 'next');\n            } else {\n                if (_loop) {\n                    this.index = 0;\n                    this.LGel.trigger(lGEvents.beforeNextSlide, {\n                        index: this.index,\n                    });\n                    this.slide(this.index, !!fromTouch, false, 'next');\n                } else if (this.settings.slideEndAnimation && !fromTouch) {\n                    this.outer.addClass('lg-right-end');\n                    setTimeout(() => {\n                        this.outer.removeClass('lg-right-end');\n                    }, 400);\n                }\n            }\n        }\n    }\n\n    /**\n     * Go to previous slides\n     * @param {Boolean} fromTouch - true if slide function called via touch event\n     * @category lGPublicMethods\n     * @example\n     *  const plugin = lightGallery({});\n     *  plugin.goToPrevSlide();\n     * @see <a href=\"/demos/methods/\">Demo</a>\n     *\n     */\n    goToPrevSlide(fromTouch?: boolean): void {\n        let _loop = this.settings.loop;\n        if (fromTouch && this.galleryItems.length < 3) {\n            _loop = false;\n        }\n\n        if (!this.lgBusy) {\n            if (this.index > 0) {\n                this.index--;\n                this.LGel.trigger(lGEvents.beforePrevSlide, {\n                    index: this.index,\n                    fromTouch,\n                });\n                this.slide(this.index, !!fromTouch, false, 'prev');\n            } else {\n                if (_loop) {\n                    this.index = this.galleryItems.length - 1;\n                    this.LGel.trigger(lGEvents.beforePrevSlide, {\n                        index: this.index,\n                        fromTouch,\n                    });\n                    this.slide(this.index, !!fromTouch, false, 'prev');\n                } else if (this.settings.slideEndAnimation && !fromTouch) {\n                    this.outer.addClass('lg-left-end');\n                    setTimeout(() => {\n                        this.outer.removeClass('lg-left-end');\n                    }, 400);\n                }\n            }\n        }\n    }\n\n    keyPress(): void {\n        $LG(window).on(`keydown.lg.global${this.lgId}`, (e) => {\n            if (\n                this.lgOpened &&\n                this.settings.escKey === true &&\n                e.keyCode === 27\n            ) {\n                e.preventDefault();\n                if (\n                    this.settings.allowMediaOverlap &&\n                    this.outer.hasClass('lg-can-toggle') &&\n                    this.outer.hasClass('lg-components-open')\n                ) {\n                    this.outer.removeClass('lg-components-open');\n                } else {\n                    this.closeGallery();\n                }\n            }\n            if (this.lgOpened && this.galleryItems.length > 1) {\n                if (e.keyCode === 37) {\n                    e.preventDefault();\n                    this.goToPrevSlide();\n                }\n\n                if (e.keyCode === 39) {\n                    e.preventDefault();\n                    this.goToNextSlide();\n                }\n            }\n        });\n    }\n\n    arrow(): void {\n        this.getElementById('lg-prev').on('click.lg', () => {\n            this.goToPrevSlide();\n        });\n        this.getElementById('lg-next').on('click.lg', () => {\n            this.goToNextSlide();\n        });\n    }\n\n    arrowDisable(index: number): void {\n        // Disable arrows if settings.hideControlOnEnd is true\n        if (!this.settings.loop && this.settings.hideControlOnEnd) {\n            const $prev = this.getElementById('lg-prev');\n            const $next = this.getElementById('lg-next');\n            if (index + 1 === this.galleryItems.length) {\n                $next.attr('disabled', 'disabled').addClass('disabled');\n            } else {\n                $next.removeAttr('disabled').removeClass('disabled');\n            }\n\n            if (index === 0) {\n                $prev.attr('disabled', 'disabled').addClass('disabled');\n            } else {\n                $prev.removeAttr('disabled').removeClass('disabled');\n            }\n        }\n    }\n\n    setTranslate(\n        $el: lgQuery,\n        xValue: number,\n        yValue: number,\n        scaleX = 1,\n        scaleY = 1,\n    ): void {\n        $el.css(\n            'transform',\n            'translate3d(' +\n                xValue +\n                'px, ' +\n                yValue +\n                'px, 0px) scale3d(' +\n                scaleX +\n                ', ' +\n                scaleY +\n                ', 1)',\n        );\n    }\n\n    mousewheel(): void {\n        let lastCall = 0;\n        this.outer.on('wheel.lg', (e) => {\n            if (!e.deltaY || this.galleryItems.length < 2) {\n                return;\n            }\n            e.preventDefault();\n            const now = new Date().getTime();\n            if (now - lastCall < 1000) {\n                return;\n            }\n            lastCall = now;\n            if (e.deltaY > 0) {\n                this.goToNextSlide();\n            } else if (e.deltaY < 0) {\n                this.goToPrevSlide();\n            }\n        });\n    }\n\n    isSlideElement(target: lgQuery): boolean {\n        return (\n            target.hasClass('lg-outer') ||\n            target.hasClass('lg-item') ||\n            target.hasClass('lg-img-wrap')\n        );\n    }\n\n    isPosterElement(target: lgQuery): boolean {\n        const playButton = this.getSlideItem(this.index)\n            .find('.lg-video-play-button')\n            .get();\n        return (\n            target.hasClass('lg-video-poster') ||\n            target.hasClass('lg-video-play-button') ||\n            (playButton && playButton.contains(target.get()))\n        );\n    }\n\n    /**\n     * Maximize minimize inline gallery.\n     * @category lGPublicMethods\n     */\n    toggleMaximize(): void {\n        this.getElementById('lg-maximize').on('click.lg', () => {\n            this.$container.toggleClass('lg-inline');\n            this.refreshOnResize();\n        });\n    }\n\n    invalidateItems(): void {\n        for (let index = 0; index < this.items.length; index++) {\n            const element = this.items[index];\n            const $element = $LG(element);\n            $element.off(`click.lgcustom-item-${$element.attr('data-lg-id')}`);\n        }\n    }\n\n    trapFocus(): void {\n        this.$container.get().focus({\n            preventScroll: true,\n        });\n        $LG(window).on(`keydown.lg.global${this.lgId}`, (e) => {\n            if (!this.lgOpened) {\n                return;\n            }\n\n            const isTabPressed = e.key === 'Tab' || e.keyCode === 9;\n            if (!isTabPressed) {\n                return;\n            }\n            const focusableEls = utils.getFocusableElements(\n                this.$container.get(),\n            );\n            const firstFocusableEl = focusableEls[0];\n            const lastFocusableEl = focusableEls[focusableEls.length - 1];\n\n            if (e.shiftKey) {\n                if (document.activeElement === firstFocusableEl) {\n                    (lastFocusableEl as HTMLElement).focus();\n                    e.preventDefault();\n                }\n            } else {\n                if (document.activeElement === lastFocusableEl) {\n                    (firstFocusableEl as HTMLElement).focus();\n                    e.preventDefault();\n                }\n            }\n        });\n    }\n\n    manageCloseGallery(): void {\n        if (!this.settings.closable) return;\n        let mousedown = false;\n        this.getElementById('lg-close').on('click.lg', () => {\n            this.closeGallery();\n        });\n\n        if (this.settings.closeOnTap) {\n            // If you drag the slide and release outside gallery gets close on chrome\n            // for preventing this check mousedown and mouseup happened on .lg-item or lg-outer\n            this.outer.on('mousedown.lg', (e) => {\n                const target = $LG(e.target);\n                if (this.isSlideElement(target)) {\n                    mousedown = true;\n                } else {\n                    mousedown = false;\n                }\n            });\n\n            this.outer.on('mousemove.lg', () => {\n                mousedown = false;\n            });\n\n            this.outer.on('mouseup.lg', (e) => {\n                const target = $LG(e.target);\n                if (this.isSlideElement(target) && mousedown) {\n                    if (!this.outer.hasClass('lg-dragging')) {\n                        this.closeGallery();\n                    }\n                }\n            });\n        }\n    }\n\n    /**\n     * Close lightGallery if it is opened.\n     *\n     * @description If closable is false in the settings, you need to pass true via closeGallery method to force close gallery\n     * @return returns the estimated time to close gallery completely including the close animation duration\n     * @category lGPublicMethods\n     * @example\n     *  const plugin = lightGallery();\n     *  plugin.closeGallery();\n     *\n     */\n    closeGallery(force?: boolean): number {\n        if (!this.lgOpened || (!this.settings.closable && !force)) {\n            return 0;\n        }\n        this.LGel.trigger(lGEvents.beforeClose);\n\n        if (this.settings.resetScrollPosition && !this.settings.hideScrollbar) {\n            $LG(window).scrollTop(this.prevScrollTop);\n        }\n\n        const currentItem = this.items[this.index];\n        let transform: string | undefined;\n        if (this.zoomFromOrigin && currentItem) {\n            const { top, bottom } = this.mediaContainerPosition;\n            const { __slideVideoInfo, poster } = this.galleryItems[this.index];\n            const imageSize = utils.getSize(\n                currentItem,\n                this.outer,\n                top + bottom,\n                __slideVideoInfo && poster && this.settings.videoMaxSize,\n            );\n            transform = utils.getTransform(\n                currentItem,\n                this.outer,\n                top,\n                bottom,\n                imageSize,\n            );\n        }\n        if (this.zoomFromOrigin && transform) {\n            this.outer.addClass('lg-closing lg-zoom-from-image');\n            this.getSlideItem(this.index)\n                .addClass('lg-start-end-progress')\n                .css(\n                    'transition-duration',\n                    this.settings.startAnimationDuration + 'ms',\n                )\n                .css('transform', transform);\n        } else {\n            this.outer.addClass('lg-hide-items');\n            // lg-zoom-from-image is used for setting the opacity to 1 if zoomFromOrigin is true\n            // If the closing item doesn't have the lg-size attribute, remove this class to avoid the closing css conflicts\n            this.outer.removeClass('lg-zoom-from-image');\n        }\n\n        // Unbind all events added by lightGallery\n        // @todo\n        //this.$el.off('.lg.tm');\n\n        this.destroyModules();\n\n        this.lGalleryOn = false;\n        this.isDummyImageRemoved = false;\n        this.zoomFromOrigin = this.settings.zoomFromOrigin;\n\n        clearTimeout(this.hideBarTimeout);\n        this.hideBarTimeout = false;\n        $LG('html').removeClass('lg-on');\n\n        this.outer.removeClass('lg-visible lg-components-open');\n\n        // Resetting opacity to 0 isd required as  vertical swipe to close function adds inline opacity.\n        this.$backdrop.removeClass('in').css('opacity', 0);\n\n        const removeTimeout =\n            this.zoomFromOrigin && transform\n                ? Math.max(\n                      this.settings.startAnimationDuration,\n                      this.settings.backdropDuration,\n                  )\n                : this.settings.backdropDuration;\n        this.$container.removeClass('lg-show-in');\n\n        // Once the closign animation is completed and gallery is invisible\n        setTimeout(() => {\n            if (this.zoomFromOrigin && transform) {\n                this.outer.removeClass('lg-zoom-from-image');\n            }\n            this.$container.removeClass('lg-show');\n\n            // Reset scrollbar\n            this.resetScrollBar();\n\n            // Need to remove inline opacity as it is used in the stylesheet as well\n            this.$backdrop\n                .removeAttr('style')\n                .css(\n                    'transition-duration',\n                    this.settings.backdropDuration + 'ms',\n                );\n\n            this.outer.removeClass(`lg-closing ${this.settings.startClass}`);\n\n            this.getSlideItem(this.index).removeClass('lg-start-end-progress');\n            this.$inner.empty();\n            if (this.lgOpened) {\n                this.LGel.trigger(lGEvents.afterClose, {\n                    instance: this,\n                });\n            }\n            if (this.$container.get()) {\n                this.$container.get().blur();\n            }\n\n            this.lgOpened = false;\n        }, removeTimeout + 100);\n        return removeTimeout + 100;\n    }\n\n    initModules(): void {\n        this.plugins.forEach((module) => {\n            try {\n                module.init();\n            } catch (err) {\n                console.warn(\n                    `lightGallery:- make sure lightGallery module is properly initiated`,\n                );\n            }\n        });\n    }\n\n    destroyModules(destroy?: true): void {\n        this.plugins.forEach((module) => {\n            try {\n                if (destroy) {\n                    module.destroy();\n                } else {\n                    module.closeGallery && module.closeGallery();\n                }\n            } catch (err) {\n                console.warn(\n                    `lightGallery:- make sure lightGallery module is properly destroyed`,\n                );\n            }\n        });\n    }\n\n    /**\n     * Refresh lightGallery with new set of children.\n     *\n     * @description This is useful to update the gallery when the child elements are changed without calling destroy method.\n     *\n     * If you are using dynamic mode, you can pass the modified array of dynamicEl as the first parameter to refresh the dynamic gallery\n     * @see <a href=\"/demos/dynamic-mode/\">Demo</a>\n     * @category lGPublicMethods\n     * @example\n     *  const plugin = lightGallery();\n     *  // Delete or add children, then call\n     *  plugin.refresh();\n     *\n     */\n    refresh(galleryItems?: GalleryItem[]): void {\n        if (!this.settings.dynamic) {\n            this.invalidateItems();\n        }\n        if (galleryItems) {\n            this.galleryItems = galleryItems;\n        } else {\n            this.galleryItems = this.getItems();\n        }\n        this.updateControls();\n        this.openGalleryOnItemClick();\n        this.LGel.trigger(lGEvents.updateSlides);\n    }\n\n    updateControls(): void {\n        this.addSlideVideoInfo(this.galleryItems);\n        this.updateCounterTotal();\n        this.manageSingleSlideClassName();\n    }\n\n    private destroyGallery(): void {\n        this.destroyModules(true);\n        if (!this.settings.dynamic) {\n            this.invalidateItems();\n        }\n        $LG(window).off(`.lg.global${this.lgId}`);\n        this.LGel.off('.lg');\n        this.$container.remove();\n    }\n\n    /**\n     * Destroy lightGallery.\n     * Destroy lightGallery and its plugin instances completely\n     *\n     * @description This method also calls CloseGallery function internally. Returns the time takes to completely close and destroy the instance.\n     * In case if you want to re-initialize lightGallery right after destroying it, initialize it only once the destroy process is completed.\n     * You can use refresh method most of the times.\n     * @category lGPublicMethods\n     * @example\n     *  const plugin = lightGallery();\n     *  plugin.destroy();\n     *\n     */\n    destroy(): number {\n        const closeTimeout = this.closeGallery(true);\n        if (closeTimeout) {\n            setTimeout(this.destroyGallery.bind(this), closeTimeout);\n        } else {\n            this.destroyGallery();\n        }\n        return closeTimeout;\n    }\n}\n", "import { LightGallerySettings } from './lg-settings';\nimport { LightGallery } from './lightgallery';\n\nfunction lightGallery(\n    el: HTMLElement,\n    options?: LightGallerySettings,\n): LightGallery {\n    return new LightGallery(el, options);\n}\nexport default lightGallery;\n", "import { Controller } from \"@hotwired/stimulus\";\nimport lightGallery from \"lightgallery\";\nconst _Lightbox = class _Lightbox extends Controller {\n  connect() {\n    this.lightGallery = lightGallery(this.element, {\n      ...this.defaultOptions,\n      ...this.optionsValue\n    });\n  }\n  disconnect() {\n    this.lightGallery.destroy();\n  }\n  get defaultOptions() {\n    return {};\n  }\n};\n_Lightbox.values = {\n  options: Object\n};\nlet Lightbox = _Lightbox;\nexport {\n  Lightbox as default\n};\n", "import { Controller } from \"@hotwired/stimulus\";\nconst _AnimatedNumber = class _AnimatedNumber extends Controller {\n  connect() {\n    this.lazyValue ? this.lazyAnimate() : this.animate();\n  }\n  animate() {\n    let startTimestamp = null;\n    const step = (timestamp) => {\n      startTimestamp || (startTimestamp = timestamp);\n      const elapsed = timestamp - startTimestamp, progress = Math.min(elapsed / this.durationValue, 1);\n      this.element.innerHTML = Math.floor(progress * (this.endValue - this.startValue) + this.startValue).toString(), progress < 1 && window.requestAnimationFrame(step);\n    };\n    window.requestAnimationFrame(step);\n  }\n  lazyAnimate() {\n    new IntersectionObserver((entries, observer2) => {\n      entries.forEach((entry) => {\n        entry.isIntersecting && (this.animate(), observer2.unobserve(entry.target));\n      });\n    }, this.lazyAnimateOptions).observe(this.element);\n  }\n  // eslint-disable-next-line\n  get lazyAnimateOptions() {\n    return {\n      threshold: this.lazyThresholdValue,\n      rootMargin: this.lazyRootMarginValue\n    };\n  }\n};\n_AnimatedNumber.values = {\n  start: Number,\n  end: Number,\n  duration: Number,\n  lazyThreshold: Number,\n  lazyRootMargin: {\n    type: String,\n    default: \"0px\"\n  },\n  lazy: Boolean\n};\nlet AnimatedNumber = _AnimatedNumber;\nexport {\n  AnimatedNumber as default\n};\n", "import { Controller } from \"@hotwired/stimulus\";\nconst _Dialog = class _Dialog extends Controller {\n  initialize() {\n    this.forceClose = this.forceClose.bind(this);\n  }\n  connect() {\n    this.openValue && this.open(), document.addEventListener(\"turbo:before-render\", this.forceClose);\n  }\n  disconnect() {\n    document.removeEventListener(\"turbo:before-render\", this.forceClose);\n  }\n  open() {\n    this.dialogTarget.showModal();\n  }\n  close() {\n    this.dialogTarget.setAttribute(\"closing\", \"\"), Promise.all(this.dialogTarget.getAnimations().map((animation) => animation.finished)).then(() => {\n      this.dialogTarget.removeAttribute(\"closing\"), this.dialogTarget.close();\n    });\n  }\n  backdropClose(event) {\n    event.target === this.dialogTarget && this.close();\n  }\n  forceClose() {\n    this.dialogTarget.close();\n  }\n};\n_Dialog.targets = [\"dialog\"], _Dialog.values = {\n  open: {\n    type: Boolean,\n    default: !1\n  }\n};\nlet Dialog = _Dialog;\nexport {\n  Dialog as default\n};\n", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n  static targets = [\n    \"toggleForm\", \"biddingCategory\", \n    \"contractFields\", \"contractEndFields\", \n    \"bidNoticeFields\", \"bidCompleteFields\",\n    \"bidResultsFields\"\n  ]\n\n  connect() {\n    this.hideAllFields()\n    this.toggleFormTarget.classList.remove(\"scale-y-0\", \"h-0\")\n    this.toggleFormTarget.classList.add(\"scale-y-100\")\n  }\n\n  toggleForm(event) {\n    event.preventDefault()\n    if (this.toggleFormTarget.classList.contains(\"scale-y-100\")) {\n      this.toggleFormTarget.classList.remove(\"scale-y-100\")\n      this.toggleFormTarget.classList.add(\"scale-y-0\")\n      this.toggleFormTarget.classList.add(\"h-0\")\n    } else {\n      this.toggleFormTarget.classList.remove(\"scale-y-0\")\n      this.toggleFormTarget.classList.remove(\"h-0\")\n      this.toggleFormTarget.classList.add(\"scale-y-100\")\n    }\n  }\n\n  hideAllFields() {\n    this.contractFieldsTarget.classList.add(\"hidden\")\n    this.contractEndFieldsTarget.classList.add(\"hidden\")\n    this.bidNoticeFieldsTarget.classList.add(\"hidden\")\n    this.bidCompleteFieldsTarget.classList.add(\"hidden\")\n    this.bidResultsFieldsTarget.classList.add(\"hidden\")  \n  }\n\n  showFields() {\n    this.hideAllFields()\n    switch(this.biddingCategoryTarget.value) {\n      case \"Contract\":\n        this.contractFieldsTarget.classList.remove(\"hidden\")\n        break\n      case \"ContractEnd\":\n        this.contractEndFieldsTarget.classList.remove(\"hidden\")\n        break\n      case \"BidNotice\":\n        this.bidNoticeFieldsTarget.classList.remove(\"hidden\")\n        break\n      case \"BidComplete\":\n        this.bidCompleteFieldsTarget.classList.remove(\"hidden\")\n        break\n      case \"BidResult\":\n        this.bidResultsFieldsTarget.classList.remove(\"hidden\")\n        break\n    }\n  }\n}\n", "import { Application } from \"@hotwired/stimulus\"\nimport Lightbox from '@stimulus-components/lightbox'\nimport AnimatedNumber from '@stimulus-components/animated-number'\nimport Dialog from '@stimulus-components/dialog'\nimport BiddingFormController from './bidding_form_controller'\n\nconst application = Application.start()\napplication.register('lightbox', Lightbox)\napplication.register('animated-number', AnimatedNumber)\napplication.register('dialog', Dialog)\napplication.register('bidding-form', BiddingFormController)\n\n// Configure Stimulus development experience\napplication.debug = false\nwindow.Stimulus = application\n\nexport { application }", "// src/controllers/bidding_controller.js\nimport { Controller } from \"@hotwired/stimulus\";\n\nexport default class extends Controller {\n  static targets = [\"yearSelect\", \"monthSelect\", \"filesList\"];\n\n  connect() {\n    this.yearSelectTarget.value = this.data.get(\"currentYear\");\n    this.loadMonths();\n  }\n\n  loadMonths() {\n    const year = this.yearSelectTarget.value;\n    if (year) {\n      fetch(`/bidding/months/${year}`)\n        .then((response) => response.json())\n        .then((data) => {\n          this.monthSelectTarget.innerHTML =\n            '<option class=\"capitalize\" value=\"\">Selecione o M\u00EAs</option>';\n          data.forEach((month) => {\n            const option = document.createElement(\"option\");\n            option.value = month;\n            option.textContent = new Date(year, month - 1).toLocaleString(\n              \"default\",\n              { month: \"long\" }\n            );\n            this.monthSelectTarget.appendChild(option);\n          });\n          this.monthSelectTarget.disabled = false;\n\n          const currentYear = this.data.get(\"currentYear\");\n          const currentMonth = this.data.get(\"currentMonth\");\n          if (year == currentYear) {\n            this.monthSelectTarget.value = currentMonth;\n          } else {\n            this.monthSelectTarget.value = \"\";\n          }\n\n          this.loadFiles();\n        });\n    } else {\n      this.monthSelectTarget.innerHTML =\n        '<option class=\"capitalize\" value=\"\">Selecione o M\u00EAs</option>';\n      this.monthSelectTarget.disabled = true;\n      this.filesListTarget.innerHTML = \"\";\n    }\n  }\n\n  loadFiles() {\n    const year = this.yearSelectTarget.value;\n    const month = this.monthSelectTarget.value;\n    if (year && month) {\n      fetch(`/bidding/files/${year}/${month}`)\n        .then((response) => response.json())\n        .then((data) => {\n          this.filesListTarget.innerHTML = \"\";\n          data.forEach((file) => {\n            console.log(file);\n\n            const filename = file.file.split('/').pop();\n\n            const fileItem = document.createElement(\"div\");\n            fileItem.classList.add(\n              \"bg-white\",\n              \"p-4\",\n              \"rounded-lg\",\n              \"shadow\",\n              \"border\",\n              \"border-gray-200\"\n            );\n            fileItem.innerHTML = `\n              <div class=\"block\">\n                <table class=\"w-full\">\n                  <thead>\n                    <th colspan=\"2\" class=\"border px-4 py-2\"><strong>N\u00FAmero:</strong> ${\n                      file.number !== undefined ? file.number : \"0\"\n                    }</th>\n                  </thead>\n                  <tbody>\n                    <tr>\n                      <td class=\"border px-4 py-2\"><strong>Modalidade:</strong> ${\n                        file.modality || \"-\"\n                      }</td>\n                      <td class=\"border px-4 py-2\"><strong>Data de Publica\u00E7\u00E3o:</strong> ${\n                        file.publish_date ||\n                        file.date_publish ||\n                        \"Data n\u00E3o dispon\u00EDvel\"\n                      }</td>\n                    </tr>\n                    <tr>\n                      <td\n                        ${this.getSpecificDateRow(file)}\n                      </td>\n                      <td class=\"border px-4 py-2\"><strong>Categoria de Licita\u00E7\u00E3o:</strong> ${\n                        file.bidding_category || \"Categoria n\u00E3o definida\"\n                      }</td>\n                    </tr>\n                    <tr>\n                      <td class=\"border px-4 py-2\" colspan=\"2\">\n                        <strong>Objeto:</strong> ${file.object}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td ${\n                        file.winner ? \"\" : `colspan=\"2\"`\n                      } class=\"border px-4 py-2\">\n                        <div data-controller=\"dialog\" data-action=\"click->dialog#backdropClose\">\n                          <dialog data-dialog-target=\"dialog\" class=\"rounded-lg shadow-md\">\n                            <div class=\"bg-white overflow-hidden p-6\">\n                              <div class=\"pb-8 flex justify-end items-center\">\n                                <h2 class=\"w-full flex justify-center items-center text-2xl font-semibold uppercase text-center text-[#004296]\">Lista de Arquivos</h2>\n                                <button class=\"hover:bg-red-800 text-slate-700 hover:text-white font-bold rounded transition duration-600 px-4 hidden md:block\" type=\"button\" data-action=\"dialog#close\" autofocus>\n                                  X\n                                </button>\n                              </div>\n                              <div class=\"py-4 lg:min-w-[400px] \">\n                                \n                                <ul>\n                                  ${\n                                    file.file\n                                      ? `\n                                  <li class=\"mb-6 border-b\">\n                                    <a href=\"${file.file}\" class=\"font-bold py-2 rounded w-full hover:text-[#004296] transition duration-600\" target=\"_blank\" download>\n                                      ${filename}\n                                    </a>\n                                  </li>\n                                  `\n                                      : \"\"\n                                  }\n                                  ${file.archives\n                                    .map(\n                                      (archive) => `\n                                    <li class=\"mb-6 border-b\">\n                                      <a href=\"${\n                                        archive.file\n                                      }\" class=\"font-bold py-2 rounded w-full hover:text-[#004296] transition duration-600\" target=\"_blank\" download>\n                                          ${archive.file_name || \"Arquivo\"}\n                                      </a>\n                                    </li>\n                                    <li class=\"\">\n                                      <button class=\"btn w-full py-2 bg-blue-500 text-white rounded-lg\" type=\"button\" data-action=\"dialog#close\" autofocus>\n                                        fechar\n                                      </button>\n                                    </li>\n                                  `\n                                    )\n                                    .join(\"\")}\n                                </ul>\n                              </div>\n                            </div>\n                          </dialog>\n                          <button class=\"w-fit bg-blue-800 hover:bg-blue-950 text-white font-bold py-2 px-4 rounded text-center\" type=\"button\" data-action=\"dialog#open\">\n                             Lista de Arquivos \n                          </button>\n                        </div>\n                      </td>\n                      ${\n                        file.winner\n                          ? `<td class=\"border px-4 py-2\"><strong>Vencedor:</strong> ${file.winner}</td>`\n                          : \"\"\n                      }\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            `;\n            this.filesListTarget.appendChild(fileItem);\n          });\n        });\n    } else {\n      this.filesListTarget.innerHTML = \"\";\n    }\n  }\n\n  getSpecificDateRow(file) {\n    if (file.judgment) {\n      return `<td class=\"border px-4 py-2\"><strong>Data de Julgamento:</strong> ${file.judgment}</td>`;\n\n    } else if (file.date_result) {\n      return `<td class=\"border px-4 py-2\"><strong>Data de Adjudica\u00E7\u00E3o:</strong> ${file.date_result}</td>`;\n\n    } else if (file.publish_date) {\n      return `<td class=\"border px-4 py-2\"><strong>Data de Abertura:</strong> ${file.publish_date}</td>`;\n\n    } else if (file.date_publish) {\n      return `<td class=\"border px-4 py-2\"><strong>Data de Publica\u00E7\u00E3o:</strong> ${file.date_publish}</td>`;\n\n    }\n    return \"\";\n  }\n\n  yearChanged() {\n    this.loadMonths();\n    this.filesListTarget.innerHTML = \"\";\n  }\n\n  monthChanged() {\n    this.loadFiles();\n  }\n}\n", "/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target = {}, src = {}) {\n    Object.keys(src).forEach((key) => {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nconst ssrDocument = {\n    body: {},\n    addEventListener() { },\n    removeEventListener() { },\n    activeElement: {\n        blur() { },\n        nodeName: '',\n    },\n    querySelector() {\n        return null;\n    },\n    querySelectorAll() {\n        return [];\n    },\n    getElementById() {\n        return null;\n    },\n    createEvent() {\n        return {\n            initEvent() { },\n        };\n    },\n    createElement() {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute() { },\n            getElementsByTagName() {\n                return [];\n            },\n        };\n    },\n    createElementNS() {\n        return {};\n    },\n    importNode() {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nconst ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState() { },\n        pushState() { },\n        go() { },\n        back() { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener() { },\n    removeEventListener() { },\n    getComputedStyle() {\n        return {\n            getPropertyValue() {\n                return '';\n            },\n        };\n    },\n    Image() { },\n    Date() { },\n    screen: {},\n    setTimeout() { },\n    clearTimeout() { },\n    matchMedia() {\n        return {};\n    },\n    requestAnimationFrame(callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame(id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n", "/**\n * Dom7 4.0.6\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2023, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: February 2, 2023\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  const proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get() {\n      return proto;\n    },\n\n    set(value) {\n      proto.__proto__ = value;\n    }\n\n  });\n}\n\nclass Dom7 extends Array {\n  constructor(items) {\n    if (typeof items === 'number') {\n      super(items);\n    } else {\n      super(...(items || []));\n      makeReactive(this);\n    }\n  }\n\n}\n\nfunction arrayFlat(arr = []) {\n  const res = [];\n  arr.forEach(el => {\n    if (Array.isArray(el)) {\n      res.push(...arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  const uniqueArray = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group) => group.toUpperCase());\n}\n\n// eslint-disable-next-line\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  const a = [];\n  const res = context.querySelectorAll(selector);\n\n  for (let i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  const window = getWindow();\n  const document = getDocument();\n  let arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    const html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      let toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      const tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\n// eslint-disable-next-line\n\nfunction addClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.add(...classNames);\n  });\n  return this;\n}\n\nfunction removeClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.remove(...classNames);\n  });\n  return this;\n}\n\nfunction toggleClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    classNames.forEach(className => {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  return arrayFilter(this, el => {\n    return classNames.filter(className => el.classList.contains(className)).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  let el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    const dataKey = el.getAttribute(`data-${key}`);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      const attr = el.attributes[i];\n\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    const el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      const values = [];\n\n      for (let i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n  }\n\n  return this;\n}\n\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      const parents = $(target).parents(); // eslint-disable-line\n\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  const events = eventType.split(' ');\n  let j;\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n        el.dom7LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  const events = eventType.split(' ');\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (let k = handlers.length - 1; k >= 0; k -= 1) {\n          const handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  function onceHandler(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger(...args) {\n  const window = getWindow();\n  const events = args[0].split(' ');\n  const eventData = args[1];\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n\n      if (window.CustomEvent) {\n        const evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionStart(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionstart', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionstart', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  const window = getWindow();\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  const window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  const window = getWindow();\n  let i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (const prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach((el, index) => {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  const result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  const window = getWindow();\n  const document = getDocument();\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  let child = this[0];\n  let i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    const returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append(...els) {\n  let newChild;\n  const document = getDocument();\n\n  for (let k = 0; k < els.length; k += 1) {\n    newChild = els[k];\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  const document = getDocument();\n  let i;\n  let j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  const before = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  const after = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n\n    el = next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n\n    el = prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  const foundElements = [];\n\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].children;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add(...els) {\n  const dom = this;\n  let i;\n  let j;\n\n  for (i = 0; i < els.length; i += 1) {\n    const toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\n// eslint-disable-next-line\n\nfunction scrollTo(...args) {\n  const window = getWindow();\n  let [left, top, duration, easing, callback] = args;\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n\n    let scrollLeft; // eslint-disable-line\n\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      let done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n// eslint-disable-next-line\n\nfunction animate(initialProps, initialParams) {\n  const window = getWindow();\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n\n    stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n\n    done(complete) {\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      const elements = []; // Define & Cache Initials & Units\n\n      a.elements.each((el, index) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(prop => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(element => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(prop => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const {\n              initialValue,\n              finalValue,\n              unit\n            } = el[prop];\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            const currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler(...args) {\n    if (typeof args[0] === 'undefined') {\n      for (let i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on(name, ...args);\n  }\n\n  return eventHandler;\n}\n\nconst click = shortcut('click');\nconst blur = shortcut('blur');\nconst focus = shortcut('focus');\nconst focusin = shortcut('focusin');\nconst focusout = shortcut('focusout');\nconst keyup = shortcut('keyup');\nconst keydown = shortcut('keydown');\nconst keypress = shortcut('keypress');\nconst submit = shortcut('submit');\nconst change = shortcut('change');\nconst mousedown = shortcut('mousedown');\nconst mousemove = shortcut('mousemove');\nconst mouseup = shortcut('mouseup');\nconst mouseenter = shortcut('mouseenter');\nconst mouseleave = shortcut('mouseleave');\nconst mouseout = shortcut('mouseout');\nconst mouseover = shortcut('mouseover');\nconst touchstart = shortcut('touchstart');\nconst touchend = shortcut('touchend');\nconst touchmove = shortcut('touchmove');\nconst resize = shortcut('resize');\nconst scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, transitionStart, trigger, val, value, width };\n", "import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nconst Methods = {\n  addClass,\n  removeClass,\n  hasClass,\n  toggleClass,\n  attr,\n  removeAttr,\n  transform,\n  transition,\n  on,\n  off,\n  trigger,\n  transitionEnd,\n  outerWidth,\n  outerHeight,\n  styles,\n  offset,\n  css,\n  each,\n  html,\n  text,\n  is,\n  index,\n  eq,\n  append,\n  prepend,\n  next,\n  nextAll,\n  prev,\n  prevAll,\n  parent,\n  parents,\n  closest,\n  find,\n  children,\n  filter,\n  remove\n};\nObject.keys(Methods).forEach(methodName => {\n  Object.defineProperty($.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\nexport default $;", "import { getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach(key => {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay = 0) {\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  const window = getWindow();\n  let style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis = 'x') {\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n  const curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend(...args) {\n  const to = Object(args[0]);\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (let i = 1; i < args.length; i += 1) {\n    const nextSource = args[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction setCSSProperty(el, varName, varValue) {\n  el.style.setProperty(varName, varValue);\n}\n\nfunction animateCSSModeScroll({\n  swiper,\n  targetPosition,\n  side\n}) {\n  const window = getWindow();\n  const startPosition = -swiper.translate;\n  let startTime = null;\n  let time;\n  const duration = swiper.params.speed;\n  swiper.wrapperEl.style.scrollSnapType = 'none';\n  window.cancelAnimationFrame(swiper.cssModeFrameID);\n  const dir = targetPosition > startPosition ? 'next' : 'prev';\n\n  const isOutOfBound = (current, target) => {\n    return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n  };\n\n  const animate = () => {\n    time = new Date().getTime();\n\n    if (startTime === null) {\n      startTime = time;\n    }\n\n    const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n    const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n    let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      currentPosition = targetPosition;\n    }\n\n    swiper.wrapperEl.scrollTo({\n      [side]: currentPosition\n    });\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.scrollSnapType = '';\n      setTimeout(() => {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.scrollTo({\n          [side]: currentPosition\n        });\n      });\n      window.cancelAnimationFrame(swiper.cssModeFrameID);\n      return;\n    }\n\n    swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n  };\n\n  animate();\n}\n\nexport { animateCSSModeScroll, deleteProps, nextTick, now, getTranslate, isObject, extend, getComputedStyle, setCSSProperty };", "import { getWindow, getDocument } from 'ssr-window';\nlet support;\n\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n  return {\n    smoothScroll: document.documentElement && 'scrollBehavior' in document.documentElement.style,\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    passiveListener: function checkPassiveListener() {\n      let supportsPassive = false;\n\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get() {\n            supportsPassive = true;\n          }\n\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };", "import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support.js';\nlet deviceCached;\n\nfunction calcDevice({\n  userAgent\n} = {}) {\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  const windows = platform === 'Win32';\n  let macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides = {}) {\n  if (!deviceCached) {\n    deviceCached = calcDevice(overrides);\n  }\n\n  return deviceCached;\n}\n\nexport { getDevice };", "import { getWindow } from 'ssr-window';\nlet browser;\n\nfunction calcBrowser() {\n  const window = getWindow();\n\n  function isSafari() {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };", "import { getWindow } from 'ssr-window';\nexport default function Resize({\n  swiper,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  let observer = null;\n  let animationFrame = null;\n\n  const resizeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('beforeResize');\n    emit('resize');\n  };\n\n  const createObserver = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    observer = new ResizeObserver(entries => {\n      animationFrame = window.requestAnimationFrame(() => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(({\n          contentBoxSize,\n          contentRect,\n          target\n        }) => {\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n    });\n    observer.observe(swiper.el);\n  };\n\n  const removeObserver = () => {\n    if (animationFrame) {\n      window.cancelAnimationFrame(animationFrame);\n    }\n\n    if (observer && observer.unobserve && swiper.el) {\n      observer.unobserve(swiper.el);\n      observer = null;\n    }\n  };\n\n  const orientationChangeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('orientationchange');\n  };\n\n  on('init', () => {\n    if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n      createObserver();\n      return;\n    }\n\n    window.addEventListener('resize', resizeHandler);\n    window.addEventListener('orientationchange', orientationChangeHandler);\n  });\n  on('destroy', () => {\n    removeObserver();\n    window.removeEventListener('resize', resizeHandler);\n    window.removeEventListener('orientationchange', orientationChangeHandler);\n  });\n}", "import { getWindow } from 'ssr-window';\nexport default function Observer({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const observers = [];\n  const window = getWindow();\n\n  const attach = (target, options = {}) => {\n    const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    const observer = new ObserverFunc(mutations => {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      const observerUpdate = function observerUpdate() {\n        emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    observers.push(observer);\n  };\n\n  const init = () => {\n    if (!swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      const containerParents = swiper.$el.parents();\n\n      for (let i = 0; i < containerParents.length; i += 1) {\n        attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  };\n\n  const destroy = () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n    observers.splice(0, observers.length);\n  };\n\n  extendParams({\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  });\n  on('init', init);\n  on('destroy', destroy);\n}", "/* eslint-disable no-underscore-dangle */\nexport default {\n  on(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n\n  once(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler(...args) {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n\n  onAny(handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n\n  offAny(handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsAnyListeners) return self;\n    const index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n\n  emit(...args) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(event => {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(eventHandler => {\n          eventHandler.apply(context, [event, ...data]);\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n\n};", "export default function updateSize() {\n  const swiper = this;\n  let width;\n  let height;\n  const $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  Object.assign(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}", "import { setCSSProperty } from '../../shared/utils.js';\nexport default function updateSlides() {\n  const swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  const params = swiper.params;\n  const {\n    $wrapperEl,\n    size: swiperSize,\n    rtlTranslate: rtl,\n    wrongRTL\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n  let offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  let offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.slidesGrid.length;\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  }); // reset cssMode offsets\n\n  if (params.centeredSlides && params.cssMode) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', '');\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', '');\n  }\n\n  const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n\n  if (gridEnabled) {\n    swiper.grid.initSlides(slidesLength);\n  } // Calc slides\n\n\n  let slideSize;\n  const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n    return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n  }).length > 0;\n\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    const slide = slides.eq(i);\n\n    if (gridEnabled) {\n      swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      if (shouldResetSlideSize) {\n        slides[i].style[getDirectionLabel('width')] = ``;\n      }\n\n      const slideStyles = getComputedStyle(slide[0]);\n      const currentTransform = slide[0].style.transform;\n      const currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        const width = getDirectionPropertyValue(slideStyles, 'width');\n        const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        const boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          const {\n            clientWidth,\n            offsetWidth\n          } = slide[0];\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = `${slideSize}px`;\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (params.setWrapperSize) {\n    $wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (gridEnabled) {\n    swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    const newSlidesGrid = [];\n\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      let slidesGridItem = snapGrid[i];\n      if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    const key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter((_, slideIndex) => {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css({\n      [key]: `${spaceBetween}px`\n    });\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    const maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(snap => {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n\n    if (allSlidesSize < swiperSize) {\n      const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n      snapGrid.forEach((snap, snapIndex) => {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach((snap, snapIndex) => {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  Object.assign(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid\n  });\n\n  if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n    const addToSnapGrid = -swiper.snapGrid[0];\n    const addToSlidesGrid = -swiper.slidesGrid[0];\n    swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n    swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n  }\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n\n  if (!isVirtual && !params.cssMode && (params.effect === 'slide' || params.effect === 'fade')) {\n    const backFaceHiddenClass = `${params.containerModifierClass}backface-hidden`;\n    const hasClassBackfaceClassAdded = swiper.$el.hasClass(backFaceHiddenClass);\n\n    if (slidesLength <= params.maxBackfaceHiddenSlides) {\n      if (!hasClassBackfaceClassAdded) swiper.$el.addClass(backFaceHiddenClass);\n    } else if (hasClassBackfaceClassAdded) {\n      swiper.$el.removeClass(backFaceHiddenClass);\n    }\n  }\n}", "import $ from '../../shared/dom.js';\nexport default function updateAutoHeight(speed) {\n  const swiper = this;\n  const activeSlides = [];\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  let newHeight = 0;\n  let i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  const getSlideByIndex = index => {\n    if (isVirtual) {\n      return swiper.slides.filter(el => parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index)[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      (swiper.visibleSlides || $([])).each(slide => {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        const index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight || newHeight === 0) swiper.$wrapperEl.css('height', `${newHeight}px`);\n}", "export default function updateSlidesOffset() {\n  const swiper = this;\n  const slides = swiper.slides;\n\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}", "import $ from '../../shared/dom.js';\nexport default function updateSlidesProgress(translate = this && this.translate || 0) {\n  const swiper = this;\n  const params = swiper.params;\n  const {\n    slides,\n    rtlTranslate: rtl,\n    snapGrid\n  } = swiper;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    let slideOffset = slide.swiperSlideOffset;\n\n    if (params.cssMode && params.centeredSlides) {\n      slideOffset -= slides[0].swiperSlideOffset;\n    }\n\n    const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const slideBefore = -(offsetCenter - slideOffset);\n    const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n    const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n    if (isVisible) {\n      swiper.visibleSlides.push(slide);\n      swiper.visibleSlidesIndexes.push(i);\n      slides.eq(i).addClass(params.slideVisibleClass);\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n    slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}", "export default function updateProgress(translate) {\n  const swiper = this;\n\n  if (typeof translate === 'undefined') {\n    const multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  const params = swiper.params;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let {\n    progress,\n    isBeginning,\n    isEnd\n  } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  Object.assign(swiper, {\n    progress,\n    isBeginning,\n    isEnd\n  });\n  if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}", "export default function updateSlidesClasses() {\n  const swiper = this;\n  const {\n    slides,\n    params,\n    $wrapperEl,\n    activeIndex,\n    realIndex\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n  let activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}", "export default function updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    slidesGrid,\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  Object.assign(swiper, {\n    snapIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}", "import $ from '../../shared/dom.js';\nexport default function updateClickedSlide(e) {\n  const swiper = this;\n  const params = swiper.params;\n  const slide = $(e).closest(`.${params.slideClass}`)[0];\n  let slideFound = false;\n  let slideIndex;\n\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}", "import updateSize from './updateSize.js';\nimport updateSlides from './updateSlides.js';\nimport updateAutoHeight from './updateAutoHeight.js';\nimport updateSlidesOffset from './updateSlidesOffset.js';\nimport updateSlidesProgress from './updateSlidesProgress.js';\nimport updateProgress from './updateProgress.js';\nimport updateSlidesClasses from './updateSlidesClasses.js';\nimport updateActiveIndex from './updateActiveIndex.js';\nimport updateClickedSlide from './updateClickedSlide.js';\nexport default {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide\n};", "import { getTranslate } from '../../shared/utils.js';\nexport default function getSwiperTranslate(axis = this.isHorizontal() ? 'x' : 'y') {\n  const swiper = this;\n  const {\n    params,\n    rtlTranslate: rtl,\n    translate,\n    $wrapperEl\n  } = swiper;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  let currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}", "export default function setTranslate(translate, byController) {\n  const swiper = this;\n  const {\n    rtlTranslate: rtl,\n    params,\n    $wrapperEl,\n    wrapperEl,\n    progress\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}", "export default function minTranslate() {\n  return -this.snapGrid[0];\n}", "export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}", "import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function translateTo(translate = 0, speed = this.params.speed, runCallbacks = true, translateBounds = true, internal) {\n  const swiper = this;\n  const {\n    params,\n    wrapperEl\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  const minTranslate = swiper.minTranslate();\n  const maxTranslate = swiper.maxTranslate();\n  let newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: -newTranslate,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: -newTranslate,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}", "import getTranslate from './getTranslate.js';\nimport setTranslate from './setTranslate.js';\nimport minTranslate from './minTranslate.js';\nimport maxTranslate from './maxTranslate.js';\nimport translateTo from './translateTo.js';\nexport default {\n  getTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n  translateTo\n};", "export default function setTransition(duration, byController) {\n  const swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}", "export default function transitionEmit({\n  swiper,\n  runCallbacks,\n  direction,\n  step\n}) {\n  const {\n    activeIndex,\n    previousIndex\n  } = swiper;\n  let dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit(`transition${step}`);\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit(`slideResetTransition${step}`);\n      return;\n    }\n\n    swiper.emit(`slideChangeTransition${step}`);\n\n    if (dir === 'next') {\n      swiper.emit(`slideNextTransition${step}`);\n    } else {\n      swiper.emit(`slidePrevTransition${step}`);\n    }\n  }\n}", "import transitionEmit from './transitionEmit.js';\nexport default function transitionStart(runCallbacks = true, direction) {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'Start'\n  });\n}", "import transitionEmit from './transitionEmit.js';\nexport default function transitionEnd(runCallbacks = true, direction) {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'End'\n  });\n}", "import setTransition from './setTransition.js';\nimport transitionStart from './transitionStart.js';\nimport transitionEnd from './transitionEnd.js';\nexport default {\n  setTransition,\n  transitionStart,\n  transitionEnd\n};", "import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function slideTo(index = 0, speed = this.params.speed, runCallbacks = true, internal, initial) {\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    previousIndex,\n    activeIndex,\n    rtlTranslate: rtl,\n    wrapperEl,\n    enabled\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n  const translate = -snapGrid[snapIndex]; // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      const normalizedTranslate = -Math.floor(translate * 100);\n      const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n      const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGrid) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  if (slideIndex !== (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  } // Update progress\n\n\n  swiper.updateProgress(translate);\n  let direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    const t = rtl ? translate : -translate;\n\n    if (speed === 0) {\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n      if (isVirtual) {\n        swiper.wrapperEl.style.scrollSnapType = 'none';\n        swiper._immediateVirtual = true;\n      }\n\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n\n      if (isVirtual) {\n        requestAnimationFrame(() => {\n          swiper.wrapperEl.style.scrollSnapType = '';\n          swiper._swiperImmediateVirtual = false;\n        });\n      }\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: t,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: t,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  swiper.setTransition(speed);\n  swiper.setTranslate(translate);\n  swiper.updateActiveIndex(slideIndex);\n  swiper.updateSlidesClasses();\n  swiper.emit('beforeTransitionStart', speed, internal);\n  swiper.transitionStart(runCallbacks, direction);\n\n  if (speed === 0) {\n    swiper.transitionEnd(runCallbacks, direction);\n  } else if (!swiper.animating) {\n    swiper.animating = true;\n\n    if (!swiper.onSlideToWrapperTransitionEnd) {\n      swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n        if (!swiper || swiper.destroyed) return;\n        if (e.target !== this) return;\n        swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n        swiper.onSlideToWrapperTransitionEnd = null;\n        delete swiper.onSlideToWrapperTransitionEnd;\n        swiper.transitionEnd(runCallbacks, direction);\n      };\n    }\n\n    swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n    swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n  }\n\n  return true;\n}", "export default function slideToLoop(index = 0, speed = this.params.speed, runCallbacks = true, internal) {\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}", "/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const {\n    animating,\n    enabled,\n    params\n  } = swiper;\n  if (!enabled) return swiper;\n  let perGroup = params.slidesPerGroup;\n\n  if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n    perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n  }\n\n  const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  if (params.rewind && swiper.isEnd) {\n    return swiper.slideTo(0, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}", "/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  const {\n    params,\n    animating,\n    snapGrid,\n    slidesGrid,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  const normalizedTranslate = normalize(translate);\n  const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n  let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    let prevSnapIndex;\n    snapGrid.forEach((snap, snapIndex) => {\n      if (normalizedTranslate >= snap) {\n        // prevSnap = snap;\n        prevSnapIndex = snapIndex;\n      }\n    });\n\n    if (typeof prevSnapIndex !== 'undefined') {\n      prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n    }\n  }\n\n  let prevIndex = 0;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n      prevIndex = Math.max(prevIndex, 0);\n    }\n  }\n\n  if (params.rewind && swiper.isBeginning) {\n    const lastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    return swiper.slideTo(lastIndex, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}", "/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed = this.params.speed, runCallbacks = true, internal) {\n  const swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}", "/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed = this.params.speed, runCallbacks = true, internal, threshold = 0.5) {\n  const swiper = this;\n  let index = swiper.activeIndex;\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    const currentSnap = swiper.snapGrid[snapIndex];\n    const nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    const prevSnap = swiper.snapGrid[snapIndex - 1];\n    const currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}", "import $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nexport default function slideToClickedSlide() {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl\n  } = swiper;\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n      nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}", "import slideTo from './slideTo.js';\nimport slideToLoop from './slideToLoop.js';\nimport slideNext from './slideNext.js';\nimport slidePrev from './slidePrev.js';\nimport slideReset from './slideReset.js';\nimport slideToClosest from './slideToClosest.js';\nimport slideToClickedSlide from './slideToClickedSlide.js';\nexport default {\n  slideTo,\n  slideToLoop,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClosest,\n  slideToClickedSlide\n};", "import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loopCreate() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    $wrapperEl\n  } = swiper; // Remove duplicated slides\n\n  const $selector = $wrapperEl.children().length > 0 ? $($wrapperEl.children()[0].parentNode) : $wrapperEl;\n  $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n  let slides = $selector.children(`.${params.slideClass}`);\n\n  if (params.loopFillGroupWithBlank) {\n    const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (let i = 0; i < blankSlidesNum; i += 1) {\n        const blankNode = $(document.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n        $selector.append(blankNode);\n      }\n\n      slides = $selector.children(`.${params.slideClass}`);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length && swiper.params.loopedSlidesLimit) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  const prependSlides = [];\n  const appendSlides = [];\n  slides.each((el, index) => {\n    const slide = $(el);\n    slide.attr('data-swiper-slide-index', index);\n  });\n\n  for (let i = 0; i < swiper.loopedSlides; i += 1) {\n    const index = i - Math.floor(i / slides.length) * slides.length;\n    appendSlides.push(slides.eq(index)[0]);\n    prependSlides.unshift(slides.eq(slides.length - index - 1)[0]);\n  }\n\n  for (let i = 0; i < appendSlides.length; i += 1) {\n    $selector.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n    $selector.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}", "export default function loopFix() {\n  const swiper = this;\n  swiper.emit('beforeLoopFix');\n  const {\n    activeIndex,\n    slides,\n    loopedSlides,\n    allowSlidePrev,\n    allowSlideNext,\n    snapGrid,\n    rtlTranslate: rtl\n  } = swiper;\n  let newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  const snapTranslate = -snapGrid[activeIndex];\n  const diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}", "export default function loopDestroy() {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    slides\n  } = swiper;\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}", "import loopCreate from './loopCreate.js';\nimport loopFix from './loopFix.js';\nimport loopDestroy from './loopDestroy.js';\nexport default {\n  loopCreate,\n  loopFix,\n  loopDestroy\n};", "export default function setGrabCursor(moving) {\n  const swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}", "export default function unsetGrabCursor() {\n  const swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n}", "import setGrabCursor from './setGrabCursor.js';\nimport unsetGrabCursor from './unsetGrabCursor.js';\nexport default {\n  setGrabCursor,\n  unsetGrabCursor\n};", "import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js'; // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base = this) {\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    const found = el.closest(selector);\n\n    if (!found && !el.getRootNode) {\n      return null;\n    }\n\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nexport default function onTouchStart(event) {\n  const swiper = this;\n  const document = getDocument();\n  const window = getWindow();\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  if (!swiper.animating && params.cssMode && params.loop) {\n    swiper.loopFix();\n  }\n\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  let $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== ''; // eslint-disable-next-line\n\n  const eventPath = event.composedPath ? event.composedPath() : event.path;\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && eventPath) {\n    $targetEl = $(eventPath[0]);\n  }\n\n  const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n  const isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, $targetEl[0]) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  Object.assign(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    let preventDefault = true;\n\n    if ($targetEl.is(data.focusableElements)) {\n      preventDefault = false;\n\n      if ($targetEl[0].nodeName === 'SELECT') {\n        data.isTouched = false;\n      }\n    }\n\n    if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  if (swiper.params.freeMode && swiper.params.freeMode.enabled && swiper.freeMode && swiper.animating && !params.cssMode) {\n    swiper.freeMode.onTouchStart();\n  }\n\n  swiper.emit('touchStart', e);\n}", "import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js';\nexport default function onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  const targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  const pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  const pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    if (!$(e.target).is(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop && !params.cssMode) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}", "import { now, nextTick } from '../../shared/utils.js';\nexport default function onTouchEnd(event) {\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    slidesGrid,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  const touchEndTime = now();\n  const timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    const pathTree = e.path || e.composedPath && e.composedPath();\n    swiper.updateClickedSlide(pathTree && pathTree[0] || e.target);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  let currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled) {\n    swiper.freeMode.onTouchEnd({\n      currentPos\n    });\n    return;\n  } // Find current slide\n\n\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n\n  for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n\n  let rewindFirstIndex = null;\n  let rewindLastIndex = null;\n\n  if (params.rewind) {\n    if (swiper.isBeginning) {\n      rewindLastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    } else if (swiper.isEnd) {\n      rewindFirstIndex = 0;\n    }\n  } // Find current slide size\n\n\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(params.rewind && swiper.isEnd ? rewindFirstIndex : stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) {\n        swiper.slideTo(stopIndex + increment);\n      } else if (rewindLastIndex !== null && ratio < 0 && Math.abs(ratio) > params.longSwipesRatio) {\n        swiper.slideTo(rewindLastIndex);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(rewindFirstIndex !== null ? rewindFirstIndex : stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(rewindLastIndex !== null ? rewindLastIndex : stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}", "export default function onResize() {\n  const swiper = this;\n  const {\n    params,\n    el\n  } = swiper;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  const {\n    allowSlideNext,\n    allowSlidePrev,\n    snapGrid\n  } = swiper; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}", "export default function onClick(e) {\n  const swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}", "export default function onScroll() {\n  const swiper = this;\n  const {\n    wrapperEl,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    swiper.translate = -wrapperEl.scrollLeft;\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === 0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}", "import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart.js';\nimport onTouchMove from './onTouchMove.js';\nimport onTouchEnd from './onTouchEnd.js';\nimport onResize from './onResize.js';\nimport onClick from './onClick.js';\nimport onScroll from './onScroll.js';\nlet dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nconst events = (swiper, method) => {\n  const document = getDocument();\n  const {\n    params,\n    touchEvents,\n    el,\n    wrapperEl,\n    device,\n    support\n  } = swiper;\n  const capture = !!params.nested;\n  const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n  const swiperMethod = method; // Touch Events\n\n  if (!support.touch) {\n    el[domMethod](touchEvents.start, swiper.onTouchStart, false);\n    document[domMethod](touchEvents.move, swiper.onTouchMove, capture);\n    document[domMethod](touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    const passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);\n    el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n      passive: false,\n      capture\n    } : capture);\n    el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n    if (touchEvents.cancel) {\n      el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el[domMethod]('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[domMethod]('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper[swiperMethod]('observerUpdate', onResize, true);\n  }\n};\n\nfunction attachEvents() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    support\n  } = swiper;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n\n  if (support.touch && !dummyEventAttached) {\n    document.addEventListener('touchstart', dummyEventListener);\n    dummyEventAttached = true;\n  }\n\n  events(swiper, 'on');\n}\n\nfunction detachEvents() {\n  const swiper = this;\n  events(swiper, 'off');\n}\n\nexport default {\n  attachEvents,\n  detachEvents\n};", "import { extend } from '../../shared/utils.js';\n\nconst isGridEnabled = (swiper, params) => {\n  return swiper.grid && params.grid && params.grid.rows > 1;\n};\n\nexport default function setBreakpoint() {\n  const swiper = this;\n  const {\n    activeIndex,\n    initialized,\n    loopedSlides = 0,\n    params,\n    $el\n  } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n  const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  const wasMultiRow = isGridEnabled(swiper, params);\n  const isMultiRow = isGridEnabled(swiper, breakpointParams);\n  const wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(`${params.containerModifierClass}grid`);\n\n    if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n      $el.addClass(`${params.containerModifierClass}grid-column`);\n    }\n\n    swiper.emitContainerClasses();\n  } // Toggle navigation, pagination, scrollbar\n\n\n  ['navigation', 'pagination', 'scrollbar'].forEach(prop => {\n    const wasModuleEnabled = params[prop] && params[prop].enabled;\n    const isModuleEnabled = breakpointParams[prop] && breakpointParams[prop].enabled;\n\n    if (wasModuleEnabled && !isModuleEnabled) {\n      swiper[prop].disable();\n    }\n\n    if (!wasModuleEnabled && isModuleEnabled) {\n      swiper[prop].enable();\n    }\n  });\n  const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  extend(swiper.params, breakpointParams);\n  const isEnabled = swiper.params.enabled;\n  Object.assign(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}", "import { getWindow } from 'ssr-window';\nexport default function getBreakpoint(breakpoints, base = 'window', containerEl) {\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  let breakpoint = false;\n  const window = getWindow();\n  const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  const points = Object.keys(breakpoints).map(point => {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      const minRatio = parseFloat(point.substr(1));\n      const value = currentHeight * minRatio;\n      return {\n        value,\n        point\n      };\n    }\n\n    return {\n      value: point,\n      point\n    };\n  });\n  points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n\n  for (let i = 0; i < points.length; i += 1) {\n    const {\n      point,\n      value\n    } = points[i];\n\n    if (base === 'window') {\n      if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}", "import setBreakpoint from './setBreakpoint.js';\nimport getBreakpoint from './getBreakpoint.js';\nexport default {\n  setBreakpoint,\n  getBreakpoint\n};", "function prepareClasses(entries, prefix) {\n  const resultClasses = [];\n  entries.forEach(item => {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(classNames => {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nexport default function addClasses() {\n  const swiper = this;\n  const {\n    classNames,\n    params,\n    rtl,\n    $el,\n    device,\n    support\n  } = swiper; // prettier-ignore\n\n  const suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': !support.touch\n  }, {\n    'free-mode': swiper.params.freeMode && params.freeMode.enabled\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'grid': params.grid && params.grid.rows > 1\n  }, {\n    'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }, {\n    'centered': params.cssMode && params.centeredSlides\n  }, {\n    'watch-progress': params.watchSlidesProgress\n  }], params.containerModifierClass);\n  classNames.push(...suffixes);\n  $el.addClass([...classNames].join(' '));\n  swiper.emitContainerClasses();\n}", "export default function removeClasses() {\n  const swiper = this;\n  const {\n    $el,\n    classNames\n  } = swiper;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}", "import addClasses from './addClasses.js';\nimport removeClasses from './removeClasses.js';\nexport default {\n  addClasses,\n  removeClasses\n};", "import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  const window = getWindow();\n  let image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  const isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}", "export default function preloadImages() {\n  const swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    const imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}", "import loadImage from './loadImage.js';\nimport preloadImages from './preloadImages.js';\nexport default {\n  loadImage,\n  preloadImages\n};", "function checkOverflow() {\n  const swiper = this;\n  const {\n    isLocked: wasLocked,\n    params\n  } = swiper;\n  const {\n    slidesOffsetBefore\n  } = params;\n\n  if (slidesOffsetBefore) {\n    const lastSlideIndex = swiper.slides.length - 1;\n    const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n    swiper.isLocked = swiper.size > lastSlideRightEdge;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  if (params.allowSlideNext === true) {\n    swiper.allowSlideNext = !swiper.isLocked;\n  }\n\n  if (params.allowSlidePrev === true) {\n    swiper.allowSlidePrev = !swiper.isLocked;\n  }\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n  }\n\n  if (wasLocked !== swiper.isLocked) {\n    swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n  }\n}\n\nexport default {\n  checkOverflow\n};", "export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'wrapper',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: true,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  slidesPerGroupAuto: false,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: true,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopedSlidesLimit: true,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // rewind\n  rewind: false,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  maxBackfaceHiddenSlides: 10,\n  // NS\n  containerModifierClass: 'swiper-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};", "import { extend } from '../shared/utils.js';\nexport default function moduleExtendParams(params, allModulesParams) {\n  return function extendParams(obj = {}) {\n    const moduleParamName = Object.keys(obj)[0];\n    const moduleParams = obj[moduleParamName];\n\n    if (typeof moduleParams !== 'object' || moduleParams === null) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        auto: true\n      };\n    }\n\n    if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        enabled: true\n      };\n    }\n\n    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n      params[moduleParamName].enabled = true;\n    }\n\n    if (!params[moduleParamName]) params[moduleParamName] = {\n      enabled: false\n    };\n    extend(allModulesParams, obj);\n  };\n}", "/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport $ from '../shared/dom.js';\nimport { extend, now, deleteProps } from '../shared/utils.js';\nimport { getSupport } from '../shared/get-support.js';\nimport { getDevice } from '../shared/get-device.js';\nimport { getBrowser } from '../shared/get-browser.js';\nimport Resize from './modules/resize/resize.js';\nimport Observer from './modules/observer/observer.js';\nimport eventsEmitter from './events-emitter.js';\nimport update from './update/index.js';\nimport translate from './translate/index.js';\nimport transition from './transition/index.js';\nimport slide from './slide/index.js';\nimport loop from './loop/index.js';\nimport grabCursor from './grab-cursor/index.js';\nimport events from './events/index.js';\nimport breakpoints from './breakpoints/index.js';\nimport classes from './classes/index.js';\nimport images from './images/index.js';\nimport checkOverflow from './check-overflow/index.js';\nimport defaults from './defaults.js';\nimport moduleExtendParams from './moduleExtendParams.js';\nconst prototypes = {\n  eventsEmitter,\n  update,\n  translate,\n  transition,\n  slide,\n  loop,\n  grabCursor,\n  events,\n  breakpoints,\n  checkOverflow,\n  classes,\n  images\n};\nconst extendedDefaults = {};\n\nclass Swiper {\n  constructor(...args) {\n    let el;\n    let params;\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && $(params.el).length > 1) {\n      const swipers = [];\n      $(params.el).each(containerEl => {\n        const newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      }); // eslint-disable-next-line no-constructor-return\n\n      return swipers;\n    } // Swiper Instance\n\n\n    const swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    swiper.modules = [...swiper.__modules__];\n\n    if (params.modules && Array.isArray(params.modules)) {\n      swiper.modules.push(...params.modules);\n    }\n\n    const allModulesParams = {};\n    swiper.modules.forEach(mod => {\n      mod({\n        swiper,\n        extendParams: moduleExtendParams(params, allModulesParams),\n        on: swiper.on.bind(swiper),\n        once: swiper.once.bind(swiper),\n        off: swiper.off.bind(swiper),\n        emit: swiper.emit.bind(swiper)\n      });\n    }); // Extend defaults with modules params\n\n    const swiperParams = extend({}, defaults, allModulesParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(eventName => {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Extend Swiper\n\n    Object.assign(swiper, {\n      enabled: swiper.params.enabled,\n      el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        const desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    });\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n    // eslint-disable-next-line no-constructor-return\n\n\n    return swiper;\n  }\n\n  enable() {\n    const swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  }\n\n  disable() {\n    const swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  }\n\n  setProgress(progress, speed) {\n    const swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    const min = swiper.minTranslate();\n    const max = swiper.maxTranslate();\n    const current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  emitContainerClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const cls = swiper.el.className.split(' ').filter(className => {\n      return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', cls.join(' '));\n  }\n\n  getSlideClasses(slideEl) {\n    const swiper = this;\n    if (swiper.destroyed) return '';\n    return slideEl.className.split(' ').filter(className => {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  }\n\n  emitSlidesClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const updates = [];\n    swiper.slides.each(slideEl => {\n      const classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl,\n        classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  }\n\n  slidesPerViewDynamic(view = 'current', exact = false) {\n    const swiper = this;\n    const {\n      params,\n      slides,\n      slidesGrid,\n      slidesSizesGrid,\n      size: swiperSize,\n      activeIndex\n    } = swiper;\n    let spv = 1;\n\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex].swiperSlideSize;\n      let breakLoop;\n\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      // eslint-disable-next-line\n      if (view === 'current') {\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      } else {\n        // previous\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      }\n    }\n\n    return spv;\n  }\n\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    const {\n      snapGrid,\n      params\n    } = swiper; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    let translated;\n\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  }\n\n  changeDirection(newDirection, needUpdate = true) {\n    const swiper = this;\n    const currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(slideEl => {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  }\n\n  changeLanguageDirection(direction) {\n    const swiper = this;\n    if (swiper.rtl && direction === 'rtl' || !swiper.rtl && direction === 'ltr') return;\n    swiper.rtl = direction === 'rtl';\n    swiper.rtlTranslate = swiper.params.direction === 'horizontal' && swiper.rtl;\n\n    if (swiper.rtl) {\n      swiper.$el.addClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'rtl';\n    } else {\n      swiper.$el.removeClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'ltr';\n    }\n\n    swiper.update();\n  }\n\n  mount(el) {\n    const swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    const $el = $(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    const getWrapperSelector = () => {\n      return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n    };\n\n    const getWrapper = () => {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        const res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = options => $el.children(options);\n\n        return res;\n      }\n\n      if (!$el.children) {\n        return $($el).children(getWrapperSelector());\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    let $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      const document = getDocument();\n      const wrapper = document.createElement('div');\n      $wrapperEl = $(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(`.${swiper.params.slideClass}`).each(slideEl => {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    Object.assign(swiper, {\n      $el,\n      el,\n      $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  }\n\n  init(el) {\n    const swiper = this;\n    if (swiper.initialized) return swiper;\n    const mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  }\n\n  destroy(deleteInstance = true, cleanStyles = true) {\n    const swiper = this;\n    const {\n      params,\n      $el,\n      $wrapperEl,\n      slides\n    } = swiper;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(eventName => {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  }\n\n  static extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  }\n\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n\n  static get defaults() {\n    return defaults;\n  }\n\n  static installModule(mod) {\n    if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n    const modules = Swiper.prototype.__modules__;\n\n    if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n      modules.push(mod);\n    }\n  }\n\n  static use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(m => Swiper.installModule(m));\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  }\n\n}\n\nObject.keys(prototypes).forEach(prototypeGroup => {\n  Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\nexport default Swiper;", "import $ from '../../shared/dom.js';\nimport { setCSSProperty } from '../../shared/utils.js';\nexport default function Virtual({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    virtual: {\n      enabled: false,\n      slides: [],\n      cache: true,\n      renderSlide: null,\n      renderExternal: null,\n      renderExternalUpdate: true,\n      addSlidesBefore: 0,\n      addSlidesAfter: 0\n    }\n  });\n  let cssModeTimeout;\n  swiper.virtual = {\n    cache: {},\n    from: undefined,\n    to: undefined,\n    slides: [],\n    offset: 0,\n    slidesGrid: []\n  };\n\n  function renderSlide(slide, index) {\n    const params = swiper.params.virtual;\n\n    if (params.cache && swiper.virtual.cache[index]) {\n      return swiper.virtual.cache[index];\n    }\n\n    const $slideEl = params.renderSlide ? $(params.renderSlide.call(swiper, slide, index)) : $(`<div class=\"${swiper.params.slideClass}\" data-swiper-slide-index=\"${index}\">${slide}</div>`);\n    if (!$slideEl.attr('data-swiper-slide-index')) $slideEl.attr('data-swiper-slide-index', index);\n    if (params.cache) swiper.virtual.cache[index] = $slideEl;\n    return $slideEl;\n  }\n\n  function update(force) {\n    const {\n      slidesPerView,\n      slidesPerGroup,\n      centeredSlides\n    } = swiper.params;\n    const {\n      addSlidesBefore,\n      addSlidesAfter\n    } = swiper.params.virtual;\n    const {\n      from: previousFrom,\n      to: previousTo,\n      slides,\n      slidesGrid: previousSlidesGrid,\n      offset: previousOffset\n    } = swiper.virtual;\n\n    if (!swiper.params.cssMode) {\n      swiper.updateActiveIndex();\n    }\n\n    const activeIndex = swiper.activeIndex || 0;\n    let offsetProp;\n    if (swiper.rtlTranslate) offsetProp = 'right';else offsetProp = swiper.isHorizontal() ? 'left' : 'top';\n    let slidesAfter;\n    let slidesBefore;\n\n    if (centeredSlides) {\n      slidesAfter = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesAfter;\n      slidesBefore = Math.floor(slidesPerView / 2) + slidesPerGroup + addSlidesBefore;\n    } else {\n      slidesAfter = slidesPerView + (slidesPerGroup - 1) + addSlidesAfter;\n      slidesBefore = slidesPerGroup + addSlidesBefore;\n    }\n\n    const from = Math.max((activeIndex || 0) - slidesBefore, 0);\n    const to = Math.min((activeIndex || 0) + slidesAfter, slides.length - 1);\n    const offset = (swiper.slidesGrid[from] || 0) - (swiper.slidesGrid[0] || 0);\n    Object.assign(swiper.virtual, {\n      from,\n      to,\n      offset,\n      slidesGrid: swiper.slidesGrid\n    });\n\n    function onRendered() {\n      swiper.updateSlides();\n      swiper.updateProgress();\n      swiper.updateSlidesClasses();\n\n      if (swiper.lazy && swiper.params.lazy.enabled) {\n        swiper.lazy.load();\n      }\n\n      emit('virtualUpdate');\n    }\n\n    if (previousFrom === from && previousTo === to && !force) {\n      if (swiper.slidesGrid !== previousSlidesGrid && offset !== previousOffset) {\n        swiper.slides.css(offsetProp, `${offset}px`);\n      }\n\n      swiper.updateProgress();\n      emit('virtualUpdate');\n      return;\n    }\n\n    if (swiper.params.virtual.renderExternal) {\n      swiper.params.virtual.renderExternal.call(swiper, {\n        offset,\n        from,\n        to,\n        slides: function getSlides() {\n          const slidesToRender = [];\n\n          for (let i = from; i <= to; i += 1) {\n            slidesToRender.push(slides[i]);\n          }\n\n          return slidesToRender;\n        }()\n      });\n\n      if (swiper.params.virtual.renderExternalUpdate) {\n        onRendered();\n      } else {\n        emit('virtualUpdate');\n      }\n\n      return;\n    }\n\n    const prependIndexes = [];\n    const appendIndexes = [];\n\n    if (force) {\n      swiper.$wrapperEl.find(`.${swiper.params.slideClass}`).remove();\n    } else {\n      for (let i = previousFrom; i <= previousTo; i += 1) {\n        if (i < from || i > to) {\n          swiper.$wrapperEl.find(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${i}\"]`).remove();\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      if (i >= from && i <= to) {\n        if (typeof previousTo === 'undefined' || force) {\n          appendIndexes.push(i);\n        } else {\n          if (i > previousTo) appendIndexes.push(i);\n          if (i < previousFrom) prependIndexes.push(i);\n        }\n      }\n    }\n\n    appendIndexes.forEach(index => {\n      swiper.$wrapperEl.append(renderSlide(slides[index], index));\n    });\n    prependIndexes.sort((a, b) => b - a).forEach(index => {\n      swiper.$wrapperEl.prepend(renderSlide(slides[index], index));\n    });\n    swiper.$wrapperEl.children('.swiper-slide').css(offsetProp, `${offset}px`);\n    onRendered();\n  }\n\n  function appendSlide(slides) {\n    if (typeof slides === 'object' && 'length' in slides) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.push(slides[i]);\n      }\n    } else {\n      swiper.virtual.slides.push(slides);\n    }\n\n    update(true);\n  }\n\n  function prependSlide(slides) {\n    const activeIndex = swiper.activeIndex;\n    let newActiveIndex = activeIndex + 1;\n    let numberOfNewSlides = 1;\n\n    if (Array.isArray(slides)) {\n      for (let i = 0; i < slides.length; i += 1) {\n        if (slides[i]) swiper.virtual.slides.unshift(slides[i]);\n      }\n\n      newActiveIndex = activeIndex + slides.length;\n      numberOfNewSlides = slides.length;\n    } else {\n      swiper.virtual.slides.unshift(slides);\n    }\n\n    if (swiper.params.virtual.cache) {\n      const cache = swiper.virtual.cache;\n      const newCache = {};\n      Object.keys(cache).forEach(cachedIndex => {\n        const $cachedEl = cache[cachedIndex];\n        const cachedElIndex = $cachedEl.attr('data-swiper-slide-index');\n\n        if (cachedElIndex) {\n          $cachedEl.attr('data-swiper-slide-index', parseInt(cachedElIndex, 10) + numberOfNewSlides);\n        }\n\n        newCache[parseInt(cachedIndex, 10) + numberOfNewSlides] = $cachedEl;\n      });\n      swiper.virtual.cache = newCache;\n    }\n\n    update(true);\n    swiper.slideTo(newActiveIndex, 0);\n  }\n\n  function removeSlide(slidesIndexes) {\n    if (typeof slidesIndexes === 'undefined' || slidesIndexes === null) return;\n    let activeIndex = swiper.activeIndex;\n\n    if (Array.isArray(slidesIndexes)) {\n      for (let i = slidesIndexes.length - 1; i >= 0; i -= 1) {\n        swiper.virtual.slides.splice(slidesIndexes[i], 1);\n\n        if (swiper.params.virtual.cache) {\n          delete swiper.virtual.cache[slidesIndexes[i]];\n        }\n\n        if (slidesIndexes[i] < activeIndex) activeIndex -= 1;\n        activeIndex = Math.max(activeIndex, 0);\n      }\n    } else {\n      swiper.virtual.slides.splice(slidesIndexes, 1);\n\n      if (swiper.params.virtual.cache) {\n        delete swiper.virtual.cache[slidesIndexes];\n      }\n\n      if (slidesIndexes < activeIndex) activeIndex -= 1;\n      activeIndex = Math.max(activeIndex, 0);\n    }\n\n    update(true);\n    swiper.slideTo(activeIndex, 0);\n  }\n\n  function removeAllSlides() {\n    swiper.virtual.slides = [];\n\n    if (swiper.params.virtual.cache) {\n      swiper.virtual.cache = {};\n    }\n\n    update(true);\n    swiper.slideTo(0, 0);\n  }\n\n  on('beforeInit', () => {\n    if (!swiper.params.virtual.enabled) return;\n    swiper.virtual.slides = swiper.params.virtual.slides;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}virtual`);\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n\n    if (!swiper.params.initialSlide) {\n      update();\n    }\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode && !swiper._immediateVirtual) {\n      clearTimeout(cssModeTimeout);\n      cssModeTimeout = setTimeout(() => {\n        update();\n      }, 100);\n    } else {\n      update();\n    }\n  });\n  on('init update resize', () => {\n    if (!swiper.params.virtual.enabled) return;\n\n    if (swiper.params.cssMode) {\n      setCSSProperty(swiper.wrapperEl, '--swiper-virtual-size', `${swiper.virtualSize}px`);\n    }\n  });\n  Object.assign(swiper.virtual, {\n    appendSlide,\n    prependSlide,\n    removeSlide,\n    removeAllSlides,\n    update\n  });\n}", "/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Keyboard({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const document = getDocument();\n  const window = getWindow();\n  swiper.keyboard = {\n    enabled: false\n  };\n  extendParams({\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  });\n\n  function handle(event) {\n    if (!swiper.enabled) return;\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    const kc = e.keyCode || e.charCode;\n    const pageUpDown = swiper.params.keyboard.pageUpDown;\n    const isPageUp = pageUpDown && kc === 33;\n    const isPageDown = pageUpDown && kc === 34;\n    const isArrowLeft = kc === 37;\n    const isArrowRight = kc === 39;\n    const isArrowUp = kc === 38;\n    const isArrowDown = kc === 40; // Directions locks\n\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      let inView = false; // Check that swiper should be inside of visible area of window\n\n      if (swiper.$el.parents(`.${swiper.params.slideClass}`).length > 0 && swiper.$el.parents(`.${swiper.params.slideActiveClass}`).length === 0) {\n        return undefined;\n      }\n\n      const $el = swiper.$el;\n      const swiperWidth = $el[0].clientWidth;\n      const swiperHeight = $el[0].clientHeight;\n      const windowWidth = window.innerWidth;\n      const windowHeight = window.innerHeight;\n      const swiperOffset = swiper.$el.offset();\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n      for (let i = 0; i < swiperCoord.length; i += 1) {\n        const point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      if (!inView) return undefined;\n    }\n\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n\n    emit('keyPress', kc);\n    return undefined;\n  }\n\n  function enable() {\n    if (swiper.keyboard.enabled) return;\n    $(document).on('keydown', handle);\n    swiper.keyboard.enabled = true;\n  }\n\n  function disable() {\n    if (!swiper.keyboard.enabled) return;\n    $(document).off('keydown', handle);\n    swiper.keyboard.enabled = false;\n  }\n\n  on('init', () => {\n    if (swiper.params.keyboard.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.keyboard.enabled) {\n      disable();\n    }\n  });\n  Object.assign(swiper.keyboard, {\n    enable,\n    disable\n  });\n}", "/* eslint-disable consistent-return */\nimport { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now, nextTick } from '../../shared/utils.js';\nexport default function Mousewheel({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  extendParams({\n    mousewheel: {\n      enabled: false,\n      releaseOnEdges: false,\n      invert: false,\n      forceToAxis: false,\n      sensitivity: 1,\n      eventsTarget: 'container',\n      thresholdDelta: null,\n      thresholdTime: null\n    }\n  });\n  swiper.mousewheel = {\n    enabled: false\n  };\n  let timeout;\n  let lastScrollTime = now();\n  let lastEventBeforeSnap;\n  const recentWheelEvents = [];\n\n  function normalize(e) {\n    // Reasonable defaults\n    const PIXEL_STEP = 10;\n    const LINE_HEIGHT = 40;\n    const PAGE_HEIGHT = 800;\n    let sX = 0;\n    let sY = 0; // spinX, spinY\n\n    let pX = 0;\n    let pY = 0; // pixelX, pixelY\n    // Legacy\n\n    if ('detail' in e) {\n      sY = e.detail;\n    }\n\n    if ('wheelDelta' in e) {\n      sY = -e.wheelDelta / 120;\n    }\n\n    if ('wheelDeltaY' in e) {\n      sY = -e.wheelDeltaY / 120;\n    }\n\n    if ('wheelDeltaX' in e) {\n      sX = -e.wheelDeltaX / 120;\n    } // side scrolling on FF with DOMMouseScroll\n\n\n    if ('axis' in e && e.axis === e.HORIZONTAL_AXIS) {\n      sX = sY;\n      sY = 0;\n    }\n\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n\n    if ('deltaY' in e) {\n      pY = e.deltaY;\n    }\n\n    if ('deltaX' in e) {\n      pX = e.deltaX;\n    }\n\n    if (e.shiftKey && !pX) {\n      // if user scrolls with shift he wants horizontal scroll\n      pX = pY;\n      pY = 0;\n    }\n\n    if ((pX || pY) && e.deltaMode) {\n      if (e.deltaMode === 1) {\n        // delta in LINE units\n        pX *= LINE_HEIGHT;\n        pY *= LINE_HEIGHT;\n      } else {\n        // delta in PAGE units\n        pX *= PAGE_HEIGHT;\n        pY *= PAGE_HEIGHT;\n      }\n    } // Fall-back if spin cannot be determined\n\n\n    if (pX && !sX) {\n      sX = pX < 1 ? -1 : 1;\n    }\n\n    if (pY && !sY) {\n      sY = pY < 1 ? -1 : 1;\n    }\n\n    return {\n      spinX: sX,\n      spinY: sY,\n      pixelX: pX,\n      pixelY: pY\n    };\n  }\n\n  function handleMouseEnter() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = true;\n  }\n\n  function handleMouseLeave() {\n    if (!swiper.enabled) return;\n    swiper.mouseEntered = false;\n  }\n\n  function animateSlider(newEvent) {\n    if (swiper.params.mousewheel.thresholdDelta && newEvent.delta < swiper.params.mousewheel.thresholdDelta) {\n      // Prevent if delta of wheel scroll delta is below configured threshold\n      return false;\n    }\n\n    if (swiper.params.mousewheel.thresholdTime && now() - lastScrollTime < swiper.params.mousewheel.thresholdTime) {\n      // Prevent if time between scrolls is below configured threshold\n      return false;\n    } // If the movement is NOT big enough and\n    // if the last time the user scrolled was too close to the current one (avoid continuously triggering the slider):\n    //   Don't go any further (avoid insignificant scroll movement).\n\n\n    if (newEvent.delta >= 6 && now() - lastScrollTime < 60) {\n      // Return false as a default\n      return true;\n    } // If user is scrolling towards the end:\n    //   If the slider hasn't hit the latest slide or\n    //   if the slider is a loop and\n    //   if the slider isn't moving right now:\n    //     Go to next slide and\n    //     emit a scroll event.\n    // Else (the user is scrolling towards the beginning) and\n    // if the slider hasn't hit the first slide or\n    // if the slider is a loop and\n    // if the slider isn't moving right now:\n    //   Go to prev slide and\n    //   emit a scroll event.\n\n\n    if (newEvent.direction < 0) {\n      if ((!swiper.isEnd || swiper.params.loop) && !swiper.animating) {\n        swiper.slideNext();\n        emit('scroll', newEvent.raw);\n      }\n    } else if ((!swiper.isBeginning || swiper.params.loop) && !swiper.animating) {\n      swiper.slidePrev();\n      emit('scroll', newEvent.raw);\n    } // If you got here is because an animation has been triggered so store the current time\n\n\n    lastScrollTime = new window.Date().getTime(); // Return false as a default\n\n    return false;\n  }\n\n  function releaseScroll(newEvent) {\n    const params = swiper.params.mousewheel;\n\n    if (newEvent.direction < 0) {\n      if (swiper.isEnd && !swiper.params.loop && params.releaseOnEdges) {\n        // Return true to animate scroll on edges\n        return true;\n      }\n    } else if (swiper.isBeginning && !swiper.params.loop && params.releaseOnEdges) {\n      // Return true to animate scroll on edges\n      return true;\n    }\n\n    return false;\n  }\n\n  function handle(event) {\n    let e = event;\n    let disableParentSwiper = true;\n    if (!swiper.enabled) return;\n    const params = swiper.params.mousewheel;\n\n    if (swiper.params.cssMode) {\n      e.preventDefault();\n    }\n\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    if (!swiper.mouseEntered && !target[0].contains(e.target) && !params.releaseOnEdges) return true;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    let delta = 0;\n    const rtlFactor = swiper.rtlTranslate ? -1 : 1;\n    const data = normalize(e);\n\n    if (params.forceToAxis) {\n      if (swiper.isHorizontal()) {\n        if (Math.abs(data.pixelX) > Math.abs(data.pixelY)) delta = -data.pixelX * rtlFactor;else return true;\n      } else if (Math.abs(data.pixelY) > Math.abs(data.pixelX)) delta = -data.pixelY;else return true;\n    } else {\n      delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY;\n    }\n\n    if (delta === 0) return true;\n    if (params.invert) delta = -delta; // Get the scroll positions\n\n    let positions = swiper.getTranslate() + delta * params.sensitivity;\n    if (positions >= swiper.minTranslate()) positions = swiper.minTranslate();\n    if (positions <= swiper.maxTranslate()) positions = swiper.maxTranslate(); // When loop is true:\n    //     the disableParentSwiper will be true.\n    // When loop is false:\n    //     if the scroll positions is not on edge,\n    //     then the disableParentSwiper will be true.\n    //     if the scroll on edge positions,\n    //     then the disableParentSwiper will be false.\n\n    disableParentSwiper = swiper.params.loop ? true : !(positions === swiper.minTranslate() || positions === swiper.maxTranslate());\n    if (disableParentSwiper && swiper.params.nested) e.stopPropagation();\n\n    if (!swiper.params.freeMode || !swiper.params.freeMode.enabled) {\n      // Register the new event in a variable which stores the relevant data\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta),\n        raw: event\n      }; // Keep the most recent events\n\n      if (recentWheelEvents.length >= 2) {\n        recentWheelEvents.shift(); // only store the last N events\n      }\n\n      const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n      recentWheelEvents.push(newEvent); // If there is at least one previous recorded event:\n      //   If direction has changed or\n      //   if the scroll is quicker than the previous one:\n      //     Animate the slider.\n      // Else (this is the first time the wheel is moved):\n      //     Animate the slider.\n\n      if (prevEvent) {\n        if (newEvent.direction !== prevEvent.direction || newEvent.delta > prevEvent.delta || newEvent.time > prevEvent.time + 150) {\n          animateSlider(newEvent);\n        }\n      } else {\n        animateSlider(newEvent);\n      } // If it's time to release the scroll:\n      //   Return now so you don't hit the preventDefault.\n\n\n      if (releaseScroll(newEvent)) {\n        return true;\n      }\n    } else {\n      // Freemode or scrollContainer:\n      // If we recently snapped after a momentum scroll, then ignore wheel events\n      // to give time for the deceleration to finish. Stop ignoring after 500 msecs\n      // or if it's a new scroll (larger delta or inverse sign as last event before\n      // an end-of-momentum snap).\n      const newEvent = {\n        time: now(),\n        delta: Math.abs(delta),\n        direction: Math.sign(delta)\n      };\n      const ignoreWheelEvents = lastEventBeforeSnap && newEvent.time < lastEventBeforeSnap.time + 500 && newEvent.delta <= lastEventBeforeSnap.delta && newEvent.direction === lastEventBeforeSnap.direction;\n\n      if (!ignoreWheelEvents) {\n        lastEventBeforeSnap = undefined;\n\n        if (swiper.params.loop) {\n          swiper.loopFix();\n        }\n\n        let position = swiper.getTranslate() + delta * params.sensitivity;\n        const wasBeginning = swiper.isBeginning;\n        const wasEnd = swiper.isEnd;\n        if (position >= swiper.minTranslate()) position = swiper.minTranslate();\n        if (position <= swiper.maxTranslate()) position = swiper.maxTranslate();\n        swiper.setTransition(0);\n        swiper.setTranslate(position);\n        swiper.updateProgress();\n        swiper.updateActiveIndex();\n        swiper.updateSlidesClasses();\n\n        if (!wasBeginning && swiper.isBeginning || !wasEnd && swiper.isEnd) {\n          swiper.updateSlidesClasses();\n        }\n\n        if (swiper.params.freeMode.sticky) {\n          // When wheel scrolling starts with sticky (aka snap) enabled, then detect\n          // the end of a momentum scroll by storing recent (N=15?) wheel events.\n          // 1. do all N events have decreasing or same (absolute value) delta?\n          // 2. did all N events arrive in the last M (M=500?) msecs?\n          // 3. does the earliest event have an (absolute value) delta that's\n          //    at least P (P=1?) larger than the most recent event's delta?\n          // 4. does the latest event have a delta that's smaller than Q (Q=6?) pixels?\n          // If 1-4 are \"yes\" then we're near the end of a momentum scroll deceleration.\n          // Snap immediately and ignore remaining wheel events in this scroll.\n          // See comment above for \"remaining wheel events in this scroll\" determination.\n          // If 1-4 aren't satisfied, then wait to snap until 500ms after the last event.\n          clearTimeout(timeout);\n          timeout = undefined;\n\n          if (recentWheelEvents.length >= 15) {\n            recentWheelEvents.shift(); // only store the last N events\n          }\n\n          const prevEvent = recentWheelEvents.length ? recentWheelEvents[recentWheelEvents.length - 1] : undefined;\n          const firstEvent = recentWheelEvents[0];\n          recentWheelEvents.push(newEvent);\n\n          if (prevEvent && (newEvent.delta > prevEvent.delta || newEvent.direction !== prevEvent.direction)) {\n            // Increasing or reverse-sign delta means the user started scrolling again. Clear the wheel event log.\n            recentWheelEvents.splice(0);\n          } else if (recentWheelEvents.length >= 15 && newEvent.time - firstEvent.time < 500 && firstEvent.delta - newEvent.delta >= 1 && newEvent.delta <= 6) {\n            // We're at the end of the deceleration of a momentum scroll, so there's no need\n            // to wait for more events. Snap ASAP on the next tick.\n            // Also, because there's some remaining momentum we'll bias the snap in the\n            // direction of the ongoing scroll because it's better UX for the scroll to snap\n            // in the same direction as the scroll instead of reversing to snap.  Therefore,\n            // if it's already scrolled more than 20% in the current direction, keep going.\n            const snapToThreshold = delta > 0 ? 0.8 : 0.2;\n            lastEventBeforeSnap = newEvent;\n            recentWheelEvents.splice(0);\n            timeout = nextTick(() => {\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 0); // no delay; move on next tick\n          }\n\n          if (!timeout) {\n            // if we get here, then we haven't detected the end of a momentum scroll, so\n            // we'll consider a scroll \"complete\" when there haven't been any wheel events\n            // for 500ms.\n            timeout = nextTick(() => {\n              const snapToThreshold = 0.5;\n              lastEventBeforeSnap = newEvent;\n              recentWheelEvents.splice(0);\n              swiper.slideToClosest(swiper.params.speed, true, undefined, snapToThreshold);\n            }, 500);\n          }\n        } // Emit event\n\n\n        if (!ignoreWheelEvents) emit('scroll', e); // Stop autoplay\n\n        if (swiper.params.autoplay && swiper.params.autoplayDisableOnInteraction) swiper.autoplay.stop(); // Return page scroll on edge positions\n\n        if (position === swiper.minTranslate() || position === swiper.maxTranslate()) return true;\n      }\n    }\n\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    return false;\n  }\n\n  function events(method) {\n    let target = swiper.$el;\n\n    if (swiper.params.mousewheel.eventsTarget !== 'container') {\n      target = $(swiper.params.mousewheel.eventsTarget);\n    }\n\n    target[method]('mouseenter', handleMouseEnter);\n    target[method]('mouseleave', handleMouseLeave);\n    target[method]('wheel', handle);\n  }\n\n  function enable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.removeEventListener('wheel', handle);\n      return true;\n    }\n\n    if (swiper.mousewheel.enabled) return false;\n    events('on');\n    swiper.mousewheel.enabled = true;\n    return true;\n  }\n\n  function disable() {\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.addEventListener(event, handle);\n      return true;\n    }\n\n    if (!swiper.mousewheel.enabled) return false;\n    events('off');\n    swiper.mousewheel.enabled = false;\n    return true;\n  }\n\n  on('init', () => {\n    if (!swiper.params.mousewheel.enabled && swiper.params.cssMode) {\n      disable();\n    }\n\n    if (swiper.params.mousewheel.enabled) enable();\n  });\n  on('destroy', () => {\n    if (swiper.params.cssMode) {\n      enable();\n    }\n\n    if (swiper.mousewheel.enabled) disable();\n  });\n  Object.assign(swiper.mousewheel, {\n    enable,\n    disable\n  });\n}", "import { getDocument } from 'ssr-window';\nexport default function createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n  const document = getDocument();\n\n  if (swiper.params.createElements) {\n    Object.keys(checkProps).forEach(key => {\n      if (!params[key] && params.auto === true) {\n        let element = swiper.$el.children(`.${checkProps[key]}`)[0];\n\n        if (!element) {\n          element = document.createElement('div');\n          element.className = checkProps[key];\n          swiper.$el.append(element);\n        }\n\n        params[key] = element;\n        originalParams[key] = element;\n      }\n    });\n  }\n\n  return params;\n}", "import createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nimport $ from '../../shared/dom.js';\nexport default function Navigation({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock',\n      navigationDisabledClass: 'swiper-navigation-disabled'\n    }\n  });\n  swiper.navigation = {\n    nextEl: null,\n    $nextEl: null,\n    prevEl: null,\n    $prevEl: null\n  };\n\n  function getEl(el) {\n    let $el;\n\n    if (el) {\n      $el = $(el);\n\n      if (swiper.params.uniqueNavElements && typeof el === 'string' && $el.length > 1 && swiper.$el.find(el).length === 1) {\n        $el = swiper.$el.find(el);\n      }\n    }\n\n    return $el;\n  }\n\n  function toggleEl($el, disabled) {\n    const params = swiper.params.navigation;\n\n    if ($el && $el.length > 0) {\n      $el[disabled ? 'addClass' : 'removeClass'](params.disabledClass);\n      if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  }\n\n  function update() {\n    // Update Navigation Buttons\n    if (swiper.params.loop) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    toggleEl($prevEl, swiper.isBeginning && !swiper.params.rewind);\n    toggleEl($nextEl, swiper.isEnd && !swiper.params.rewind);\n  }\n\n  function onPrevClick(e) {\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slidePrev();\n    emit('navigationPrev');\n  }\n\n  function onNextClick(e) {\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slideNext();\n    emit('navigationNext');\n  }\n\n  function init() {\n    const params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    const $nextEl = getEl(params.nextEl);\n    const $prevEl = getEl(params.prevEl);\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', onPrevClick);\n    }\n\n    Object.assign(swiper.navigation, {\n      $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.navigation.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      update();\n    }\n  });\n  on('toEdge fromEdge lock unlock', () => {\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl) {\n      $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n\n    if ($prevEl) {\n      $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n  });\n  on('click', (_s, e) => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    const targetEl = e.target;\n\n    if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n      if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n      let isHidden;\n\n      if ($nextEl) {\n        isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n      } else if ($prevEl) {\n        isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if (isHidden === true) {\n        emit('navigationShow');\n      } else {\n        emit('navigationHide');\n      }\n\n      if ($nextEl) {\n        $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if ($prevEl) {\n        $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.navigation.navigationDisabledClass);\n    init();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.navigation.navigationDisabledClass);\n    destroy();\n  };\n\n  Object.assign(swiper.navigation, {\n    enable,\n    disable,\n    update,\n    init,\n    destroy\n  });\n}", "export default function classesToSelector(classes = '') {\n  return `.${classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.')}`;\n}", "import $ from '../../shared/dom.js';\nimport classesToSelector from '../../shared/classes-to-selector.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Pagination({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const pfx = 'swiper-pagination';\n  extendParams({\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: number => number,\n      formatFractionTotal: number => number,\n      bulletClass: `${pfx}-bullet`,\n      bulletActiveClass: `${pfx}-bullet-active`,\n      modifierClass: `${pfx}-`,\n      currentClass: `${pfx}-current`,\n      totalClass: `${pfx}-total`,\n      hiddenClass: `${pfx}-hidden`,\n      progressbarFillClass: `${pfx}-progressbar-fill`,\n      progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n      clickableClass: `${pfx}-clickable`,\n      lockClass: `${pfx}-lock`,\n      horizontalClass: `${pfx}-horizontal`,\n      verticalClass: `${pfx}-vertical`,\n      paginationDisabledClass: `${pfx}-disabled`\n    }\n  });\n  swiper.pagination = {\n    el: null,\n    $el: null,\n    bullets: []\n  };\n  let bulletSize;\n  let dynamicBulletIndex = 0;\n\n  function isPaginationDisabled() {\n    return !swiper.params.pagination.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0;\n  }\n\n  function setSideBullets($bulletEl, position) {\n    const {\n      bulletActiveClass\n    } = swiper.params.pagination;\n    $bulletEl[position]().addClass(`${bulletActiveClass}-${position}`)[position]().addClass(`${bulletActiveClass}-${position}-${position}`);\n  }\n\n  function update() {\n    // Render || Update Pagination bullets/items\n    const rtl = swiper.rtl;\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el; // Current/Total\n\n    let current;\n    const total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n        current -= slidesLength - swiper.loopedSlides * 2;\n      }\n\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      const bullets = swiper.pagination.bullets;\n      let firstIndex;\n      let lastIndex;\n      let midIndex;\n\n      if (params.dynamicBullets) {\n        bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', `${bulletSize * (params.dynamicMainBullets + 4)}px`);\n\n        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n          dynamicBulletIndex += current - (swiper.previousIndex - swiper.loopedSlides || 0);\n\n          if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (dynamicBulletIndex < 0) {\n            dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = Math.max(current - dynamicBulletIndex, 0);\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.removeClass(['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`).join(' '));\n\n      if ($el.length > 1) {\n        bullets.each(bullet => {\n          const $bullet = $(bullet);\n          const bulletIndex = $bullet.index();\n\n          if (bulletIndex === current) {\n            $bullet.addClass(params.bulletActiveClass);\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              $bullet.addClass(`${params.bulletActiveClass}-main`);\n            }\n\n            if (bulletIndex === firstIndex) {\n              setSideBullets($bullet, 'prev');\n            }\n\n            if (bulletIndex === lastIndex) {\n              setSideBullets($bullet, 'next');\n            }\n          }\n        });\n      } else {\n        const $bullet = bullets.eq(current);\n        const bulletIndex = $bullet.index();\n        $bullet.addClass(params.bulletActiveClass);\n\n        if (params.dynamicBullets) {\n          const $firstDisplayedBullet = bullets.eq(firstIndex);\n          const $lastDisplayedBullet = bullets.eq(lastIndex);\n\n          for (let i = firstIndex; i <= lastIndex; i += 1) {\n            bullets.eq(i).addClass(`${params.bulletActiveClass}-main`);\n          }\n\n          if (swiper.params.loop) {\n            if (bulletIndex >= bullets.length) {\n              for (let i = params.dynamicMainBullets; i >= 0; i -= 1) {\n                bullets.eq(bullets.length - i).addClass(`${params.bulletActiveClass}-main`);\n              }\n\n              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(`${params.bulletActiveClass}-prev`);\n            } else {\n              setSideBullets($firstDisplayedBullet, 'prev');\n              setSideBullets($lastDisplayedBullet, 'next');\n            }\n          } else {\n            setSideBullets($firstDisplayedBullet, 'prev');\n            setSideBullets($lastDisplayedBullet, 'next');\n          }\n        }\n      }\n\n      if (params.dynamicBullets) {\n        const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n        const offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n      }\n    }\n\n    if (params.type === 'fraction') {\n      $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n      $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n    }\n\n    if (params.type === 'progressbar') {\n      let progressbarDirection;\n\n      if (params.progressbarOpposite) {\n        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n      } else {\n        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n      }\n\n      const scale = (current + 1) / total;\n      let scaleX = 1;\n      let scaleY = 1;\n\n      if (progressbarDirection === 'horizontal') {\n        scaleX = scale;\n      } else {\n        scaleY = scale;\n      }\n\n      $el.find(classesToSelector(params.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n    }\n\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      emit('paginationRender', $el[0]);\n    } else {\n      emit('paginationUpdate', $el[0]);\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  }\n\n  function render() {\n    // Render Container\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el;\n    let paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      let numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.loop && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (let i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n        }\n      }\n\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type !== 'custom') {\n      emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  }\n\n  function init() {\n    swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n      el: 'swiper-pagination'\n    });\n    const params = swiper.params.pagination;\n    if (!params.el) return;\n    let $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n      $el = swiper.$el.find(params.el); // check if it belongs to another nested Swiper\n\n      if ($el.length > 1) {\n        $el = $el.filter(el => {\n          if ($(el).parents('.swiper')[0] !== swiper.el) return false;\n          return true;\n        });\n      }\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n      dynamicBulletIndex = 0;\n\n      if (params.dynamicMainBullets < 1) {\n        params.dynamicMainBullets = 1;\n      }\n    }\n\n    if (params.type === 'progressbar' && params.progressbarOpposite) {\n      $el.addClass(params.progressbarOppositeClass);\n    }\n\n    if (params.clickable) {\n      $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n        e.preventDefault();\n        let index = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index += swiper.loopedSlides;\n        swiper.slideTo(index);\n      });\n    }\n\n    Object.assign(swiper.pagination, {\n      $el,\n      el: $el[0]\n    });\n\n    if (!swiper.enabled) {\n      $el.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const $el = swiper.pagination.$el;\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    if (swiper.pagination.bullets && swiper.pagination.bullets.removeClass) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n    if (params.clickable) {\n      $el.off('click', classesToSelector(params.bulletClass));\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.pagination.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      render();\n      update();\n    }\n  });\n  on('activeIndexChange', () => {\n    if (swiper.params.loop) {\n      update();\n    } else if (typeof swiper.snapIndex === 'undefined') {\n      update();\n    }\n  });\n  on('snapIndexChange', () => {\n    if (!swiper.params.loop) {\n      update();\n    }\n  });\n  on('slidesLengthChange', () => {\n    if (swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('snapGridLengthChange', () => {\n    if (!swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.pagination;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n    }\n  });\n  on('lock unlock', () => {\n    update();\n  });\n  on('click', (_s, e) => {\n    const targetEl = e.target;\n    const {\n      $el\n    } = swiper.pagination;\n\n    if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && $el && $el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n      if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n      const isHidden = $el.hasClass(swiper.params.pagination.hiddenClass);\n\n      if (isHidden === true) {\n        emit('paginationShow');\n      } else {\n        emit('paginationHide');\n      }\n\n      $el.toggleClass(swiper.params.pagination.hiddenClass);\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    init();\n    render();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.pagination, {\n    enable,\n    disable,\n    render,\n    update,\n    init,\n    destroy\n  });\n}", "import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Scrollbar({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const document = getDocument();\n  let isTouched = false;\n  let timeout = null;\n  let dragTimeout = null;\n  let dragStartPos;\n  let dragSize;\n  let trackSize;\n  let divider;\n  extendParams({\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag',\n      scrollbarDisabledClass: 'swiper-scrollbar-disabled',\n      horizontalClass: `swiper-scrollbar-horizontal`,\n      verticalClass: `swiper-scrollbar-vertical`\n    }\n  });\n  swiper.scrollbar = {\n    el: null,\n    dragEl: null,\n    $el: null,\n    $dragEl: null\n  };\n\n  function setTranslate() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar,\n      rtlTranslate: rtl,\n      progress\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    const params = swiper.params.scrollbar;\n    let newSize = dragSize;\n    let newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n      $dragEl[0].style.width = `${newSize}px`;\n    } else {\n      $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n      $dragEl[0].style.height = `${newSize}px`;\n    }\n\n    if (params.hide) {\n      clearTimeout(timeout);\n      $el[0].style.opacity = 1;\n      timeout = setTimeout(() => {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  }\n\n  function setTransition(duration) {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  }\n\n  function updateSize() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = `${dragSize}px`;\n    } else {\n      $dragEl[0].style.height = `${dragSize}px`;\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function getPointerPosition(e) {\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  }\n\n  function setDragPosition(e) {\n    const {\n      scrollbar,\n      rtlTranslate: rtl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    let positionRatio;\n    positionRatio = (getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  function onDragStart(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    isTouched = true;\n    dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    setDragPosition(e);\n    clearTimeout(dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    emit('scrollbarDragStart', e);\n  }\n\n  function onDragMove(e) {\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    if (!isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    emit('scrollbarDragMove', e);\n  }\n\n  function onDragEnd(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    if (!isTouched) return;\n    isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(dragTimeout);\n      dragTimeout = nextTick(() => {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  }\n\n  function events(method) {\n    const {\n      scrollbar,\n      touchEventsTouch,\n      touchEventsDesktop,\n      params,\n      support\n    } = swiper;\n    const $el = scrollbar.$el;\n    if (!$el) return;\n    const target = $el[0];\n    const activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    const passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n    const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n\n    if (!support.touch) {\n      target[eventMethod](touchEventsDesktop.start, onDragStart, activeListener);\n      document[eventMethod](touchEventsDesktop.move, onDragMove, activeListener);\n      document[eventMethod](touchEventsDesktop.end, onDragEnd, passiveListener);\n    } else {\n      target[eventMethod](touchEventsTouch.start, onDragStart, activeListener);\n      target[eventMethod](touchEventsTouch.move, onDragMove, activeListener);\n      target[eventMethod](touchEventsTouch.end, onDragEnd, passiveListener);\n    }\n  }\n\n  function enableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('on');\n  }\n\n  function disableDraggable() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    events('off');\n  }\n\n  function init() {\n    const {\n      scrollbar,\n      $el: $swiperEl\n    } = swiper;\n    swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n      el: 'swiper-scrollbar'\n    });\n    const params = swiper.params.scrollbar;\n    if (!params.el) return;\n    let $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    let $dragEl = $el.find(`.${swiper.params.scrollbar.dragClass}`);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(`<div class=\"${swiper.params.scrollbar.dragClass}\"></div>`);\n      $el.append($dragEl);\n    }\n\n    Object.assign(scrollbar, {\n      $el,\n      el: $el[0],\n      $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.scrollbar;\n    const $el = swiper.scrollbar.$el;\n\n    if ($el) {\n      $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    }\n\n    disableDraggable();\n  }\n\n  on('init', () => {\n    if (swiper.params.scrollbar.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      updateSize();\n      setTranslate();\n    }\n  });\n  on('update resize observerUpdate lock unlock', () => {\n    updateSize();\n  });\n  on('setTranslate', () => {\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    setTransition(duration);\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.scrollbar;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.removeClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    init();\n    updateSize();\n    setTranslate();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n\n    if (swiper.scrollbar.$el) {\n      swiper.scrollbar.$el.addClass(swiper.params.scrollbar.scrollbarDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.scrollbar, {\n    enable,\n    disable,\n    updateSize,\n    setTranslate,\n    init,\n    destroy\n  });\n}", "import $ from '../../shared/dom.js';\nexport default function Parallax({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    parallax: {\n      enabled: false\n    }\n  });\n\n  const setTransform = (el, progress) => {\n    const {\n      rtl\n    } = swiper;\n    const $el = $(el);\n    const rtlFactor = rtl ? -1 : 1;\n    const p = $el.attr('data-swiper-parallax') || '0';\n    let x = $el.attr('data-swiper-parallax-x');\n    let y = $el.attr('data-swiper-parallax-y');\n    const scale = $el.attr('data-swiper-parallax-scale');\n    const opacity = $el.attr('data-swiper-parallax-opacity');\n\n    if (x || y) {\n      x = x || '0';\n      y = y || '0';\n    } else if (swiper.isHorizontal()) {\n      x = p;\n      y = '0';\n    } else {\n      y = p;\n      x = '0';\n    }\n\n    if (x.indexOf('%') >= 0) {\n      x = `${parseInt(x, 10) * progress * rtlFactor}%`;\n    } else {\n      x = `${x * progress * rtlFactor}px`;\n    }\n\n    if (y.indexOf('%') >= 0) {\n      y = `${parseInt(y, 10) * progress}%`;\n    } else {\n      y = `${y * progress}px`;\n    }\n\n    if (typeof opacity !== 'undefined' && opacity !== null) {\n      const currentOpacity = opacity - (opacity - 1) * (1 - Math.abs(progress));\n      $el[0].style.opacity = currentOpacity;\n    }\n\n    if (typeof scale === 'undefined' || scale === null) {\n      $el.transform(`translate3d(${x}, ${y}, 0px)`);\n    } else {\n      const currentScale = scale - (scale - 1) * (1 - Math.abs(progress));\n      $el.transform(`translate3d(${x}, ${y}, 0px) scale(${currentScale})`);\n    }\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      slides,\n      progress,\n      snapGrid\n    } = swiper;\n    $el.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n      setTransform(el, progress);\n    });\n    slides.each((slideEl, slideIndex) => {\n      let slideProgress = slideEl.progress;\n\n      if (swiper.params.slidesPerGroup > 1 && swiper.params.slidesPerView !== 'auto') {\n        slideProgress += Math.ceil(slideIndex / 2) - progress * (snapGrid.length - 1);\n      }\n\n      slideProgress = Math.min(Math.max(slideProgress, -1), 1);\n      $(slideEl).find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(el => {\n        setTransform(el, slideProgress);\n      });\n    });\n  };\n\n  const setTransition = (duration = swiper.params.speed) => {\n    const {\n      $el\n    } = swiper;\n    $el.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]').each(parallaxEl => {\n      const $parallaxEl = $(parallaxEl);\n      let parallaxDuration = parseInt($parallaxEl.attr('data-swiper-parallax-duration'), 10) || duration;\n      if (duration === 0) parallaxDuration = 0;\n      $parallaxEl.transition(parallaxDuration);\n    });\n  };\n\n  on('beforeInit', () => {\n    if (!swiper.params.parallax.enabled) return;\n    swiper.params.watchSlidesProgress = true;\n    swiper.originalParams.watchSlidesProgress = true;\n  });\n  on('init', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTranslate', () => {\n    if (!swiper.params.parallax.enabled) return;\n    setTranslate();\n  });\n  on('setTransition', (_swiper, duration) => {\n    if (!swiper.params.parallax.enabled) return;\n    setTransition(duration);\n  });\n}", "import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { getTranslate } from '../../shared/utils.js';\nexport default function Zoom({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  const window = getWindow();\n  extendParams({\n    zoom: {\n      enabled: false,\n      maxRatio: 3,\n      minRatio: 1,\n      toggle: true,\n      containerClass: 'swiper-zoom-container',\n      zoomedSlideClass: 'swiper-slide-zoomed'\n    }\n  });\n  swiper.zoom = {\n    enabled: false\n  };\n  let currentScale = 1;\n  let isScaling = false;\n  let gesturesEnabled;\n  let fakeGestureTouched;\n  let fakeGestureMoved;\n  const gesture = {\n    $slideEl: undefined,\n    slideWidth: undefined,\n    slideHeight: undefined,\n    $imageEl: undefined,\n    $imageWrapEl: undefined,\n    maxRatio: 3\n  };\n  const image = {\n    isTouched: undefined,\n    isMoved: undefined,\n    currentX: undefined,\n    currentY: undefined,\n    minX: undefined,\n    minY: undefined,\n    maxX: undefined,\n    maxY: undefined,\n    width: undefined,\n    height: undefined,\n    startX: undefined,\n    startY: undefined,\n    touchesStart: {},\n    touchesCurrent: {}\n  };\n  const velocity = {\n    x: undefined,\n    y: undefined,\n    prevPositionX: undefined,\n    prevPositionY: undefined,\n    prevTime: undefined\n  };\n  let scale = 1;\n  Object.defineProperty(swiper.zoom, 'scale', {\n    get() {\n      return scale;\n    },\n\n    set(value) {\n      if (scale !== value) {\n        const imageEl = gesture.$imageEl ? gesture.$imageEl[0] : undefined;\n        const slideEl = gesture.$slideEl ? gesture.$slideEl[0] : undefined;\n        emit('zoomChange', value, imageEl, slideEl);\n      }\n\n      scale = value;\n    }\n\n  });\n\n  function getDistanceBetweenTouches(e) {\n    if (e.targetTouches.length < 2) return 1;\n    const x1 = e.targetTouches[0].pageX;\n    const y1 = e.targetTouches[0].pageY;\n    const x2 = e.targetTouches[1].pageX;\n    const y2 = e.targetTouches[1].pageY;\n    const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n    return distance;\n  } // Events\n\n\n  function onGestureStart(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    fakeGestureTouched = false;\n    fakeGestureMoved = false;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureTouched = true;\n      gesture.scaleStart = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$slideEl || !gesture.$slideEl.length) {\n      gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      if (gesture.$slideEl.length === 0) gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n      gesture.maxRatio = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n      if (gesture.$imageWrapEl.length === 0) {\n        gesture.$imageEl = undefined;\n        return;\n      }\n    }\n\n    if (gesture.$imageEl) {\n      gesture.$imageEl.transition(0);\n    }\n\n    isScaling = true;\n  }\n\n  function onGestureChange(e) {\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {\n        return;\n      }\n\n      fakeGestureMoved = true;\n      gesture.scaleMove = getDistanceBetweenTouches(e);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) {\n      if (e.type === 'gesturechange') onGestureStart(e);\n      return;\n    }\n\n    if (support.gestures) {\n      zoom.scale = e.scale * currentScale;\n    } else {\n      zoom.scale = gesture.scaleMove / gesture.scaleStart * currentScale;\n    }\n\n    if (zoom.scale > gesture.maxRatio) {\n      zoom.scale = gesture.maxRatio - 1 + (zoom.scale - gesture.maxRatio + 1) ** 0.5;\n    }\n\n    if (zoom.scale < params.minRatio) {\n      zoom.scale = params.minRatio + 1 - (params.minRatio - zoom.scale + 1) ** 0.5;\n    }\n\n    gesture.$imageEl.transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function onGestureEnd(e) {\n    const device = swiper.device;\n    const support = swiper.support;\n    const params = swiper.params.zoom;\n    const zoom = swiper.zoom;\n\n    if (!support.gestures) {\n      if (!fakeGestureTouched || !fakeGestureMoved) {\n        return;\n      }\n\n      if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2 && !device.android) {\n        return;\n      }\n\n      fakeGestureTouched = false;\n      fakeGestureMoved = false;\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    zoom.scale = Math.max(Math.min(zoom.scale, gesture.maxRatio), params.minRatio);\n    gesture.$imageEl.transition(swiper.params.speed).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n    currentScale = zoom.scale;\n    isScaling = false;\n    if (zoom.scale === 1) gesture.$slideEl = undefined;\n  }\n\n  function onTouchStart(e) {\n    const device = swiper.device;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    if (image.isTouched) return;\n    if (device.android && e.cancelable) e.preventDefault();\n    image.isTouched = true;\n    image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  }\n\n  function onTouchMove(e) {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n    swiper.allowClick = false;\n    if (!image.isTouched || !gesture.$slideEl) return;\n\n    if (!image.isMoved) {\n      image.width = gesture.$imageEl[0].offsetWidth;\n      image.height = gesture.$imageEl[0].offsetHeight;\n      image.startX = getTranslate(gesture.$imageWrapEl[0], 'x') || 0;\n      image.startY = getTranslate(gesture.$imageWrapEl[0], 'y') || 0;\n      gesture.slideWidth = gesture.$slideEl[0].offsetWidth;\n      gesture.slideHeight = gesture.$slideEl[0].offsetHeight;\n      gesture.$imageWrapEl.transition(0);\n    } // Define if we need image drag\n\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    if (scaledWidth < gesture.slideWidth && scaledHeight < gesture.slideHeight) return;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n    image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\n    if (!image.isMoved && !isScaling) {\n      if (swiper.isHorizontal() && (Math.floor(image.minX) === Math.floor(image.startX) && image.touchesCurrent.x < image.touchesStart.x || Math.floor(image.maxX) === Math.floor(image.startX) && image.touchesCurrent.x > image.touchesStart.x)) {\n        image.isTouched = false;\n        return;\n      }\n\n      if (!swiper.isHorizontal() && (Math.floor(image.minY) === Math.floor(image.startY) && image.touchesCurrent.y < image.touchesStart.y || Math.floor(image.maxY) === Math.floor(image.startY) && image.touchesCurrent.y > image.touchesStart.y)) {\n        image.isTouched = false;\n        return;\n      }\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    e.stopPropagation();\n    image.isMoved = true;\n    image.currentX = image.touchesCurrent.x - image.touchesStart.x + image.startX;\n    image.currentY = image.touchesCurrent.y - image.touchesStart.y + image.startY;\n\n    if (image.currentX < image.minX) {\n      image.currentX = image.minX + 1 - (image.minX - image.currentX + 1) ** 0.8;\n    }\n\n    if (image.currentX > image.maxX) {\n      image.currentX = image.maxX - 1 + (image.currentX - image.maxX + 1) ** 0.8;\n    }\n\n    if (image.currentY < image.minY) {\n      image.currentY = image.minY + 1 - (image.minY - image.currentY + 1) ** 0.8;\n    }\n\n    if (image.currentY > image.maxY) {\n      image.currentY = image.maxY - 1 + (image.currentY - image.maxY + 1) ** 0.8;\n    } // Velocity\n\n\n    if (!velocity.prevPositionX) velocity.prevPositionX = image.touchesCurrent.x;\n    if (!velocity.prevPositionY) velocity.prevPositionY = image.touchesCurrent.y;\n    if (!velocity.prevTime) velocity.prevTime = Date.now();\n    velocity.x = (image.touchesCurrent.x - velocity.prevPositionX) / (Date.now() - velocity.prevTime) / 2;\n    velocity.y = (image.touchesCurrent.y - velocity.prevPositionY) / (Date.now() - velocity.prevTime) / 2;\n    if (Math.abs(image.touchesCurrent.x - velocity.prevPositionX) < 2) velocity.x = 0;\n    if (Math.abs(image.touchesCurrent.y - velocity.prevPositionY) < 2) velocity.y = 0;\n    velocity.prevPositionX = image.touchesCurrent.x;\n    velocity.prevPositionY = image.touchesCurrent.y;\n    velocity.prevTime = Date.now();\n    gesture.$imageWrapEl.transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTouchEnd() {\n    const zoom = swiper.zoom;\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0) return;\n\n    if (!image.isTouched || !image.isMoved) {\n      image.isTouched = false;\n      image.isMoved = false;\n      return;\n    }\n\n    image.isTouched = false;\n    image.isMoved = false;\n    let momentumDurationX = 300;\n    let momentumDurationY = 300;\n    const momentumDistanceX = velocity.x * momentumDurationX;\n    const newPositionX = image.currentX + momentumDistanceX;\n    const momentumDistanceY = velocity.y * momentumDurationY;\n    const newPositionY = image.currentY + momentumDistanceY; // Fix duration\n\n    if (velocity.x !== 0) momentumDurationX = Math.abs((newPositionX - image.currentX) / velocity.x);\n    if (velocity.y !== 0) momentumDurationY = Math.abs((newPositionY - image.currentY) / velocity.y);\n    const momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n    image.currentX = newPositionX;\n    image.currentY = newPositionY; // Define if we need image drag\n\n    const scaledWidth = image.width * zoom.scale;\n    const scaledHeight = image.height * zoom.scale;\n    image.minX = Math.min(gesture.slideWidth / 2 - scaledWidth / 2, 0);\n    image.maxX = -image.minX;\n    image.minY = Math.min(gesture.slideHeight / 2 - scaledHeight / 2, 0);\n    image.maxY = -image.minY;\n    image.currentX = Math.max(Math.min(image.currentX, image.maxX), image.minX);\n    image.currentY = Math.max(Math.min(image.currentY, image.maxY), image.minY);\n    gesture.$imageWrapEl.transition(momentumDuration).transform(`translate3d(${image.currentX}px, ${image.currentY}px,0)`);\n  }\n\n  function onTransitionEnd() {\n    const zoom = swiper.zoom;\n\n    if (gesture.$slideEl && swiper.previousIndex !== swiper.activeIndex) {\n      if (gesture.$imageEl) {\n        gesture.$imageEl.transform('translate3d(0,0,0) scale(1)');\n      }\n\n      if (gesture.$imageWrapEl) {\n        gesture.$imageWrapEl.transform('translate3d(0,0,0)');\n      }\n\n      zoom.scale = 1;\n      currentScale = 1;\n      gesture.$slideEl = undefined;\n      gesture.$imageEl = undefined;\n      gesture.$imageWrapEl = undefined;\n    }\n  }\n\n  function zoomIn(e) {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (e && e.target) {\n        gesture.$slideEl = $(e.target).closest(`.${swiper.params.slideClass}`);\n      }\n\n      if (!gesture.$slideEl) {\n        if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n          gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n        } else {\n          gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n        }\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.touchAction = 'none';\n    }\n\n    gesture.$slideEl.addClass(`${params.zoomedSlideClass}`);\n    let touchX;\n    let touchY;\n    let offsetX;\n    let offsetY;\n    let diffX;\n    let diffY;\n    let translateX;\n    let translateY;\n    let imageWidth;\n    let imageHeight;\n    let scaledWidth;\n    let scaledHeight;\n    let translateMinX;\n    let translateMinY;\n    let translateMaxX;\n    let translateMaxY;\n    let slideWidth;\n    let slideHeight;\n\n    if (typeof image.touchesStart.x === 'undefined' && e) {\n      touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n      touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n    } else {\n      touchX = image.touchesStart.x;\n      touchY = image.touchesStart.y;\n    }\n\n    zoom.scale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n    currentScale = gesture.$imageWrapEl.attr('data-swiper-zoom') || params.maxRatio;\n\n    if (e) {\n      slideWidth = gesture.$slideEl[0].offsetWidth;\n      slideHeight = gesture.$slideEl[0].offsetHeight;\n      offsetX = gesture.$slideEl.offset().left + window.scrollX;\n      offsetY = gesture.$slideEl.offset().top + window.scrollY;\n      diffX = offsetX + slideWidth / 2 - touchX;\n      diffY = offsetY + slideHeight / 2 - touchY;\n      imageWidth = gesture.$imageEl[0].offsetWidth;\n      imageHeight = gesture.$imageEl[0].offsetHeight;\n      scaledWidth = imageWidth * zoom.scale;\n      scaledHeight = imageHeight * zoom.scale;\n      translateMinX = Math.min(slideWidth / 2 - scaledWidth / 2, 0);\n      translateMinY = Math.min(slideHeight / 2 - scaledHeight / 2, 0);\n      translateMaxX = -translateMinX;\n      translateMaxY = -translateMinY;\n      translateX = diffX * zoom.scale;\n      translateY = diffY * zoom.scale;\n\n      if (translateX < translateMinX) {\n        translateX = translateMinX;\n      }\n\n      if (translateX > translateMaxX) {\n        translateX = translateMaxX;\n      }\n\n      if (translateY < translateMinY) {\n        translateY = translateMinY;\n      }\n\n      if (translateY > translateMaxY) {\n        translateY = translateMaxY;\n      }\n    } else {\n      translateX = 0;\n      translateY = 0;\n    }\n\n    gesture.$imageWrapEl.transition(300).transform(`translate3d(${translateX}px, ${translateY}px,0)`);\n    gesture.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${zoom.scale})`);\n  }\n\n  function zoomOut() {\n    const zoom = swiper.zoom;\n    const params = swiper.params.zoom;\n\n    if (!gesture.$slideEl) {\n      if (swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual) {\n        gesture.$slideEl = swiper.$wrapperEl.children(`.${swiper.params.slideActiveClass}`);\n      } else {\n        gesture.$slideEl = swiper.slides.eq(swiper.activeIndex);\n      }\n\n      gesture.$imageEl = gesture.$slideEl.find(`.${params.containerClass}`).eq(0).find('picture, img, svg, canvas, .swiper-zoom-target').eq(0);\n      gesture.$imageWrapEl = gesture.$imageEl.parent(`.${params.containerClass}`);\n    }\n\n    if (!gesture.$imageEl || gesture.$imageEl.length === 0 || !gesture.$imageWrapEl || gesture.$imageWrapEl.length === 0) return;\n\n    if (swiper.params.cssMode) {\n      swiper.wrapperEl.style.overflow = '';\n      swiper.wrapperEl.style.touchAction = '';\n    }\n\n    zoom.scale = 1;\n    currentScale = 1;\n    gesture.$imageWrapEl.transition(300).transform('translate3d(0,0,0)');\n    gesture.$imageEl.transition(300).transform('translate3d(0,0,0) scale(1)');\n    gesture.$slideEl.removeClass(`${params.zoomedSlideClass}`);\n    gesture.$slideEl = undefined;\n  } // Toggle Zoom\n\n\n  function zoomToggle(e) {\n    const zoom = swiper.zoom;\n\n    if (zoom.scale && zoom.scale !== 1) {\n      // Zoom Out\n      zoomOut();\n    } else {\n      // Zoom In\n      zoomIn(e);\n    }\n  }\n\n  function getListeners() {\n    const support = swiper.support;\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    const activeListenerWithCapture = support.passiveListener ? {\n      passive: false,\n      capture: true\n    } : true;\n    return {\n      passiveListener,\n      activeListenerWithCapture\n    };\n  }\n\n  function getSlideSelector() {\n    return `.${swiper.params.slideClass}`;\n  }\n\n  function toggleGestures(method) {\n    const {\n      passiveListener\n    } = getListeners();\n    const slideSelector = getSlideSelector();\n    swiper.$wrapperEl[method]('gesturestart', slideSelector, onGestureStart, passiveListener);\n    swiper.$wrapperEl[method]('gesturechange', slideSelector, onGestureChange, passiveListener);\n    swiper.$wrapperEl[method]('gestureend', slideSelector, onGestureEnd, passiveListener);\n  }\n\n  function enableGestures() {\n    if (gesturesEnabled) return;\n    gesturesEnabled = true;\n    toggleGestures('on');\n  }\n\n  function disableGestures() {\n    if (!gesturesEnabled) return;\n    gesturesEnabled = false;\n    toggleGestures('off');\n  } // Attach/Detach Events\n\n\n  function enable() {\n    const zoom = swiper.zoom;\n    if (zoom.enabled) return;\n    zoom.enabled = true;\n    const support = swiper.support;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.on(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.on(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.on(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.on(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.on(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  function disable() {\n    const zoom = swiper.zoom;\n    if (!zoom.enabled) return;\n    const support = swiper.support;\n    zoom.enabled = false;\n    const {\n      passiveListener,\n      activeListenerWithCapture\n    } = getListeners();\n    const slideSelector = getSlideSelector(); // Scale image\n\n    if (support.gestures) {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, enableGestures, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, disableGestures, passiveListener);\n    } else if (swiper.touchEvents.start === 'touchstart') {\n      swiper.$wrapperEl.off(swiper.touchEvents.start, slideSelector, onGestureStart, passiveListener);\n      swiper.$wrapperEl.off(swiper.touchEvents.move, slideSelector, onGestureChange, activeListenerWithCapture);\n      swiper.$wrapperEl.off(swiper.touchEvents.end, slideSelector, onGestureEnd, passiveListener);\n\n      if (swiper.touchEvents.cancel) {\n        swiper.$wrapperEl.off(swiper.touchEvents.cancel, slideSelector, onGestureEnd, passiveListener);\n      }\n    } // Move image\n\n\n    swiper.$wrapperEl.off(swiper.touchEvents.move, `.${swiper.params.zoom.containerClass}`, onTouchMove, activeListenerWithCapture);\n  }\n\n  on('init', () => {\n    if (swiper.params.zoom.enabled) {\n      enable();\n    }\n  });\n  on('destroy', () => {\n    disable();\n  });\n  on('touchStart', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchStart(e);\n  });\n  on('touchEnd', (_s, e) => {\n    if (!swiper.zoom.enabled) return;\n    onTouchEnd(e);\n  });\n  on('doubleTap', (_s, e) => {\n    if (!swiper.animating && swiper.params.zoom.enabled && swiper.zoom.enabled && swiper.params.zoom.toggle) {\n      zoomToggle(e);\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled) {\n      onTransitionEnd();\n    }\n  });\n  on('slideChange', () => {\n    if (swiper.zoom.enabled && swiper.params.zoom.enabled && swiper.params.cssMode) {\n      onTransitionEnd();\n    }\n  });\n  Object.assign(swiper.zoom, {\n    enable,\n    disable,\n    in: zoomIn,\n    out: zoomOut,\n    toggle: zoomToggle\n  });\n}", "import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function Lazy({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  extendParams({\n    lazy: {\n      checkInView: false,\n      enabled: false,\n      loadPrevNext: false,\n      loadPrevNextAmount: 1,\n      loadOnTransitionStart: false,\n      scrollingElement: '',\n      elementClass: 'swiper-lazy',\n      loadingClass: 'swiper-lazy-loading',\n      loadedClass: 'swiper-lazy-loaded',\n      preloaderClass: 'swiper-lazy-preloader'\n    }\n  });\n  swiper.lazy = {};\n  let scrollHandlerAttached = false;\n  let initialImageLoaded = false;\n\n  function loadInSlide(index, loadInDuplicate = true) {\n    const params = swiper.params.lazy;\n    if (typeof index === 'undefined') return;\n    if (swiper.slides.length === 0) return;\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    const $slideEl = isVirtual ? swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-swiper-slide-index=\"${index}\"]`) : swiper.slides.eq(index);\n    const $images = $slideEl.find(`.${params.elementClass}:not(.${params.loadedClass}):not(.${params.loadingClass})`);\n\n    if ($slideEl.hasClass(params.elementClass) && !$slideEl.hasClass(params.loadedClass) && !$slideEl.hasClass(params.loadingClass)) {\n      $images.push($slideEl[0]);\n    }\n\n    if ($images.length === 0) return;\n    $images.each(imageEl => {\n      const $imageEl = $(imageEl);\n      $imageEl.addClass(params.loadingClass);\n      const background = $imageEl.attr('data-background');\n      const src = $imageEl.attr('data-src');\n      const srcset = $imageEl.attr('data-srcset');\n      const sizes = $imageEl.attr('data-sizes');\n      const $pictureEl = $imageEl.parent('picture');\n      swiper.loadImage($imageEl[0], src || background, srcset, sizes, false, () => {\n        if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper && !swiper.params || swiper.destroyed) return;\n\n        if (background) {\n          $imageEl.css('background-image', `url(\"${background}\")`);\n          $imageEl.removeAttr('data-background');\n        } else {\n          if (srcset) {\n            $imageEl.attr('srcset', srcset);\n            $imageEl.removeAttr('data-srcset');\n          }\n\n          if (sizes) {\n            $imageEl.attr('sizes', sizes);\n            $imageEl.removeAttr('data-sizes');\n          }\n\n          if ($pictureEl.length) {\n            $pictureEl.children('source').each(sourceEl => {\n              const $source = $(sourceEl);\n\n              if ($source.attr('data-srcset')) {\n                $source.attr('srcset', $source.attr('data-srcset'));\n                $source.removeAttr('data-srcset');\n              }\n            });\n          }\n\n          if (src) {\n            $imageEl.attr('src', src);\n            $imageEl.removeAttr('data-src');\n          }\n        }\n\n        $imageEl.addClass(params.loadedClass).removeClass(params.loadingClass);\n        $slideEl.find(`.${params.preloaderClass}`).remove();\n\n        if (swiper.params.loop && loadInDuplicate) {\n          const slideOriginalIndex = $slideEl.attr('data-swiper-slide-index');\n\n          if ($slideEl.hasClass(swiper.params.slideDuplicateClass)) {\n            const originalSlide = swiper.$wrapperEl.children(`[data-swiper-slide-index=\"${slideOriginalIndex}\"]:not(.${swiper.params.slideDuplicateClass})`);\n            loadInSlide(originalSlide.index(), false);\n          } else {\n            const duplicatedSlide = swiper.$wrapperEl.children(`.${swiper.params.slideDuplicateClass}[data-swiper-slide-index=\"${slideOriginalIndex}\"]`);\n            loadInSlide(duplicatedSlide.index(), false);\n          }\n        }\n\n        emit('lazyImageReady', $slideEl[0], $imageEl[0]);\n\n        if (swiper.params.autoHeight) {\n          swiper.updateAutoHeight();\n        }\n      });\n      emit('lazyImageLoad', $slideEl[0], $imageEl[0]);\n    });\n  }\n\n  function load() {\n    const {\n      $wrapperEl,\n      params: swiperParams,\n      slides,\n      activeIndex\n    } = swiper;\n    const isVirtual = swiper.virtual && swiperParams.virtual.enabled;\n    const params = swiperParams.lazy;\n    let slidesPerView = swiperParams.slidesPerView;\n\n    if (slidesPerView === 'auto') {\n      slidesPerView = 0;\n    }\n\n    function slideExist(index) {\n      if (isVirtual) {\n        if ($wrapperEl.children(`.${swiperParams.slideClass}[data-swiper-slide-index=\"${index}\"]`).length) {\n          return true;\n        }\n      } else if (slides[index]) return true;\n\n      return false;\n    }\n\n    function slideIndex(slideEl) {\n      if (isVirtual) {\n        return $(slideEl).attr('data-swiper-slide-index');\n      }\n\n      return $(slideEl).index();\n    }\n\n    if (!initialImageLoaded) initialImageLoaded = true;\n\n    if (swiper.params.watchSlidesProgress) {\n      $wrapperEl.children(`.${swiperParams.slideVisibleClass}`).each(slideEl => {\n        const index = isVirtual ? $(slideEl).attr('data-swiper-slide-index') : $(slideEl).index();\n        loadInSlide(index);\n      });\n    } else if (slidesPerView > 1) {\n      for (let i = activeIndex; i < activeIndex + slidesPerView; i += 1) {\n        if (slideExist(i)) loadInSlide(i);\n      }\n    } else {\n      loadInSlide(activeIndex);\n    }\n\n    if (params.loadPrevNext) {\n      if (slidesPerView > 1 || params.loadPrevNextAmount && params.loadPrevNextAmount > 1) {\n        const amount = params.loadPrevNextAmount;\n        const spv = Math.ceil(slidesPerView);\n        const maxIndex = Math.min(activeIndex + spv + Math.max(amount, spv), slides.length);\n        const minIndex = Math.max(activeIndex - Math.max(spv, amount), 0); // Next Slides\n\n        for (let i = activeIndex + spv; i < maxIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        } // Prev Slides\n\n\n        for (let i = minIndex; i < activeIndex; i += 1) {\n          if (slideExist(i)) loadInSlide(i);\n        }\n      } else {\n        const nextSlide = $wrapperEl.children(`.${swiperParams.slideNextClass}`);\n        if (nextSlide.length > 0) loadInSlide(slideIndex(nextSlide));\n        const prevSlide = $wrapperEl.children(`.${swiperParams.slidePrevClass}`);\n        if (prevSlide.length > 0) loadInSlide(slideIndex(prevSlide));\n      }\n    }\n  }\n\n  function checkInViewOnLoad() {\n    const window = getWindow();\n    if (!swiper || swiper.destroyed) return;\n    const $scrollElement = swiper.params.lazy.scrollingElement ? $(swiper.params.lazy.scrollingElement) : $(window);\n    const isWindow = $scrollElement[0] === window;\n    const scrollElementWidth = isWindow ? window.innerWidth : $scrollElement[0].offsetWidth;\n    const scrollElementHeight = isWindow ? window.innerHeight : $scrollElement[0].offsetHeight;\n    const swiperOffset = swiper.$el.offset();\n    const {\n      rtlTranslate: rtl\n    } = swiper;\n    let inView = false;\n    if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n    const swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiper.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiper.height], [swiperOffset.left + swiper.width, swiperOffset.top + swiper.height]];\n\n    for (let i = 0; i < swiperCoord.length; i += 1) {\n      const point = swiperCoord[i];\n\n      if (point[0] >= 0 && point[0] <= scrollElementWidth && point[1] >= 0 && point[1] <= scrollElementHeight) {\n        if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n        inView = true;\n      }\n    }\n\n    const passiveListener = swiper.touchEvents.start === 'touchstart' && swiper.support.passiveListener && swiper.params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n\n    if (inView) {\n      load();\n      $scrollElement.off('scroll', checkInViewOnLoad, passiveListener);\n    } else if (!scrollHandlerAttached) {\n      scrollHandlerAttached = true;\n      $scrollElement.on('scroll', checkInViewOnLoad, passiveListener);\n    }\n  }\n\n  on('beforeInit', () => {\n    if (swiper.params.lazy.enabled && swiper.params.preloadImages) {\n      swiper.params.preloadImages = false;\n    }\n  });\n  on('init', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('scroll', () => {\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.freeMode.sticky) {\n      load();\n    }\n  });\n  on('scrollbarDragMove resize _freeModeNoMomentumRelease', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('transitionStart', () => {\n    if (swiper.params.lazy.enabled) {\n      if (swiper.params.lazy.loadOnTransitionStart || !swiper.params.lazy.loadOnTransitionStart && !initialImageLoaded) {\n        if (swiper.params.lazy.checkInView) {\n          checkInViewOnLoad();\n        } else {\n          load();\n        }\n      }\n    }\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.lazy.enabled && !swiper.params.lazy.loadOnTransitionStart) {\n      if (swiper.params.lazy.checkInView) {\n        checkInViewOnLoad();\n      } else {\n        load();\n      }\n    }\n  });\n  on('slideChange', () => {\n    const {\n      lazy,\n      cssMode,\n      watchSlidesProgress,\n      touchReleaseOnEdges,\n      resistanceRatio\n    } = swiper.params;\n\n    if (lazy.enabled && (cssMode || watchSlidesProgress && (touchReleaseOnEdges || resistanceRatio === 0))) {\n      load();\n    }\n  });\n  on('destroy', () => {\n    if (!swiper.$el) return;\n    swiper.$el.find(`.${swiper.params.lazy.loadingClass}`).removeClass(swiper.params.lazy.loadingClass);\n  });\n  Object.assign(swiper.lazy, {\n    load,\n    loadInSlide\n  });\n}", "/* eslint no-bitwise: [\"error\", { \"allow\": [\">>\"] }] */\nimport { nextTick } from '../../shared/utils.js';\nexport default function Controller({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    controller: {\n      control: undefined,\n      inverse: false,\n      by: 'slide' // or 'container'\n\n    }\n  });\n  swiper.controller = {\n    control: undefined\n  };\n\n  function LinearSpline(x, y) {\n    const binarySearch = function search() {\n      let maxIndex;\n      let minIndex;\n      let guess;\n      return (array, val) => {\n        minIndex = -1;\n        maxIndex = array.length;\n\n        while (maxIndex - minIndex > 1) {\n          guess = maxIndex + minIndex >> 1;\n\n          if (array[guess] <= val) {\n            minIndex = guess;\n          } else {\n            maxIndex = guess;\n          }\n        }\n\n        return maxIndex;\n      };\n    }();\n\n    this.x = x;\n    this.y = y;\n    this.lastIndex = x.length - 1; // Given an x value (x2), return the expected y2 value:\n    // (x1,y1) is the known point before given value,\n    // (x3,y3) is the known point after given value.\n\n    let i1;\n    let i3;\n\n    this.interpolate = function interpolate(x2) {\n      if (!x2) return 0; // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\n      i3 = binarySearch(this.x, x2);\n      i1 = i3 - 1; // We have our indexes i1 & i3, so we can calculate already:\n      // y2 := ((x2\u2212x1) \u00D7 (y3\u2212y1)) \u00F7 (x3\u2212x1) + y1\n\n      return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n    };\n\n    return this;\n  } // xxx: for now i will just save one spline function to to\n\n\n  function getInterpolateFunction(c) {\n    if (!swiper.controller.spline) {\n      swiper.controller.spline = swiper.params.loop ? new LinearSpline(swiper.slidesGrid, c.slidesGrid) : new LinearSpline(swiper.snapGrid, c.snapGrid);\n    }\n  }\n\n  function setTranslate(_t, byController) {\n    const controlled = swiper.controller.control;\n    let multiplier;\n    let controlledTranslate;\n    const Swiper = swiper.constructor;\n\n    function setControlledTranslate(c) {\n      // this will create an Interpolate function based on the snapGrids\n      // x is the Grid of the scrolled scroller and y will be the controlled scroller\n      // it makes sense to create this only once and recall it for the interpolation\n      // the function does a lot of value caching for performance\n      const translate = swiper.rtlTranslate ? -swiper.translate : swiper.translate;\n\n      if (swiper.params.controller.by === 'slide') {\n        getInterpolateFunction(c); // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n        // but it did not work out\n\n        controlledTranslate = -swiper.controller.spline.interpolate(-translate);\n      }\n\n      if (!controlledTranslate || swiper.params.controller.by === 'container') {\n        multiplier = (c.maxTranslate() - c.minTranslate()) / (swiper.maxTranslate() - swiper.minTranslate());\n        controlledTranslate = (translate - swiper.minTranslate()) * multiplier + c.minTranslate();\n      }\n\n      if (swiper.params.controller.inverse) {\n        controlledTranslate = c.maxTranslate() - controlledTranslate;\n      }\n\n      c.updateProgress(controlledTranslate);\n      c.setTranslate(controlledTranslate, swiper);\n      c.updateActiveIndex();\n      c.updateSlidesClasses();\n    }\n\n    if (Array.isArray(controlled)) {\n      for (let i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTranslate(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTranslate(controlled);\n    }\n  }\n\n  function setTransition(duration, byController) {\n    const Swiper = swiper.constructor;\n    const controlled = swiper.controller.control;\n    let i;\n\n    function setControlledTransition(c) {\n      c.setTransition(duration, swiper);\n\n      if (duration !== 0) {\n        c.transitionStart();\n\n        if (c.params.autoHeight) {\n          nextTick(() => {\n            c.updateAutoHeight();\n          });\n        }\n\n        c.$wrapperEl.transitionEnd(() => {\n          if (!controlled) return;\n\n          if (c.params.loop && swiper.params.controller.by === 'slide') {\n            c.loopFix();\n          }\n\n          c.transitionEnd();\n        });\n      }\n    }\n\n    if (Array.isArray(controlled)) {\n      for (i = 0; i < controlled.length; i += 1) {\n        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n          setControlledTransition(controlled[i]);\n        }\n      }\n    } else if (controlled instanceof Swiper && byController !== controlled) {\n      setControlledTransition(controlled);\n    }\n  }\n\n  function removeSpline() {\n    if (!swiper.controller.control) return;\n\n    if (swiper.controller.spline) {\n      swiper.controller.spline = undefined;\n      delete swiper.controller.spline;\n    }\n  }\n\n  on('beforeInit', () => {\n    swiper.controller.control = swiper.params.controller.control;\n  });\n  on('update', () => {\n    removeSpline();\n  });\n  on('resize', () => {\n    removeSpline();\n  });\n  on('observerUpdate', () => {\n    removeSpline();\n  });\n  on('setTranslate', (_s, translate, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTranslate(translate, byController);\n  });\n  on('setTransition', (_s, duration, byController) => {\n    if (!swiper.controller.control) return;\n    swiper.controller.setTransition(duration, byController);\n  });\n  Object.assign(swiper.controller, {\n    setTranslate,\n    setTransition\n  });\n}", "import classesToSelector from '../../shared/classes-to-selector.js';\nimport $ from '../../shared/dom.js';\nexport default function A11y({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    a11y: {\n      enabled: true,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      slideLabelMessage: '{{index}} / {{slidesLength}}',\n      containerMessage: null,\n      containerRoleDescriptionMessage: null,\n      itemRoleDescriptionMessage: null,\n      slideRole: 'group',\n      id: null\n    }\n  });\n  swiper.a11y = {\n    clicked: false\n  };\n  let liveRegion = null;\n\n  function notify(message) {\n    const notification = liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  }\n\n  function getRandomNumber(size = 16) {\n    const randomChar = () => Math.round(16 * Math.random()).toString(16);\n\n    return 'x'.repeat(size).replace(/x/g, randomChar);\n  }\n\n  function makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n  }\n\n  function makeElNotFocusable($el) {\n    $el.attr('tabIndex', '-1');\n  }\n\n  function addElRole($el, role) {\n    $el.attr('role', role);\n  }\n\n  function addElRoleDescription($el, description) {\n    $el.attr('aria-roledescription', description);\n  }\n\n  function addElControls($el, controls) {\n    $el.attr('aria-controls', controls);\n  }\n\n  function addElLabel($el, label) {\n    $el.attr('aria-label', label);\n  }\n\n  function addElId($el, id) {\n    $el.attr('id', id);\n  }\n\n  function addElLive($el, live) {\n    $el.attr('aria-live', live);\n  }\n\n  function disableEl($el) {\n    $el.attr('aria-disabled', true);\n  }\n\n  function enableEl($el) {\n    $el.attr('aria-disabled', false);\n  }\n\n  function onEnterOrSpaceKey(e) {\n    if (e.keyCode !== 13 && e.keyCode !== 32) return;\n    const params = swiper.params.a11y;\n    const $targetEl = $(e.target);\n\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n\n      if (swiper.isEnd) {\n        notify(params.lastSlideMessage);\n      } else {\n        notify(params.nextSlideMessage);\n      }\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n\n      if (swiper.isBeginning) {\n        notify(params.firstSlideMessage);\n      } else {\n        notify(params.prevSlideMessage);\n      }\n    }\n\n    if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n      $targetEl[0].click();\n    }\n  }\n\n  function updateNavigation() {\n    if (swiper.params.loop || swiper.params.rewind || !swiper.navigation) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        disableEl($prevEl);\n        makeElNotFocusable($prevEl);\n      } else {\n        enableEl($prevEl);\n        makeElFocusable($prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        disableEl($nextEl);\n        makeElNotFocusable($nextEl);\n      } else {\n        enableEl($nextEl);\n        makeElFocusable($nextEl);\n      }\n    }\n  }\n\n  function hasPagination() {\n    return swiper.pagination && swiper.pagination.bullets && swiper.pagination.bullets.length;\n  }\n\n  function hasClickablePagination() {\n    return hasPagination() && swiper.params.pagination.clickable;\n  }\n\n  function updatePagination() {\n    const params = swiper.params.a11y;\n    if (!hasPagination()) return;\n    swiper.pagination.bullets.each(bulletEl => {\n      const $bulletEl = $(bulletEl);\n\n      if (swiper.params.pagination.clickable) {\n        makeElFocusable($bulletEl);\n\n        if (!swiper.params.pagination.renderBullet) {\n          addElRole($bulletEl, 'button');\n          addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n        }\n      }\n\n      if ($bulletEl.is(`.${swiper.params.pagination.bulletActiveClass}`)) {\n        $bulletEl.attr('aria-current', 'true');\n      } else {\n        $bulletEl.removeAttr('aria-current');\n      }\n    });\n  }\n\n  const initNavEl = ($el, wrapperId, message) => {\n    makeElFocusable($el);\n\n    if ($el[0].tagName !== 'BUTTON') {\n      addElRole($el, 'button');\n      $el.on('keydown', onEnterOrSpaceKey);\n    }\n\n    addElLabel($el, message);\n    addElControls($el, wrapperId);\n  };\n\n  const handlePointerDown = () => {\n    swiper.a11y.clicked = true;\n  };\n\n  const handlePointerUp = () => {\n    requestAnimationFrame(() => {\n      requestAnimationFrame(() => {\n        if (!swiper.destroyed) {\n          swiper.a11y.clicked = false;\n        }\n      });\n    });\n  };\n\n  const handleFocus = e => {\n    if (swiper.a11y.clicked) return;\n    const slideEl = e.target.closest(`.${swiper.params.slideClass}`);\n    if (!slideEl || !swiper.slides.includes(slideEl)) return;\n    const isActive = swiper.slides.indexOf(slideEl) === swiper.activeIndex;\n    const isVisible = swiper.params.watchSlidesProgress && swiper.visibleSlides && swiper.visibleSlides.includes(slideEl);\n    if (isActive || isVisible) return;\n    if (e.sourceCapabilities && e.sourceCapabilities.firesTouchEvents) return;\n\n    if (swiper.isHorizontal()) {\n      swiper.el.scrollLeft = 0;\n    } else {\n      swiper.el.scrollTop = 0;\n    }\n\n    swiper.slideTo(swiper.slides.indexOf(slideEl), 0);\n  };\n\n  const initSlides = () => {\n    const params = swiper.params.a11y;\n\n    if (params.itemRoleDescriptionMessage) {\n      addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n    }\n\n    if (params.slideRole) {\n      addElRole($(swiper.slides), params.slideRole);\n    }\n\n    const slidesLength = swiper.params.loop ? swiper.slides.filter(el => !el.classList.contains(swiper.params.slideDuplicateClass)).length : swiper.slides.length;\n\n    if (params.slideLabelMessage) {\n      swiper.slides.each((slideEl, index) => {\n        const $slideEl = $(slideEl);\n        const slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n        const ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n        addElLabel($slideEl, ariaLabelMessage);\n      });\n    }\n  };\n\n  const init = () => {\n    const params = swiper.params.a11y;\n    swiper.$el.append(liveRegion); // Container\n\n    const $containerEl = swiper.$el;\n\n    if (params.containerRoleDescriptionMessage) {\n      addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n    }\n\n    if (params.containerMessage) {\n      addElLabel($containerEl, params.containerMessage);\n    } // Wrapper\n\n\n    const $wrapperEl = swiper.$wrapperEl;\n    const wrapperId = params.id || $wrapperEl.attr('id') || `swiper-wrapper-${getRandomNumber(16)}`;\n    const live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n    addElId($wrapperEl, wrapperId);\n    addElLive($wrapperEl, live); // Slide\n\n    initSlides(); // Navigation\n\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl && $nextEl.length) {\n      initNavEl($nextEl, wrapperId, params.nextSlideMessage);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      initNavEl($prevEl, wrapperId, params.prevSlideMessage);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.on('focus', handleFocus, true);\n    swiper.$el.on('pointerdown', handlePointerDown, true);\n    swiper.$el.on('pointerup', handlePointerUp, true);\n  };\n\n  function destroy() {\n    if (liveRegion && liveRegion.length > 0) liveRegion.remove();\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl) {\n      $nextEl.off('keydown', onEnterOrSpaceKey);\n    }\n\n    if ($prevEl) {\n      $prevEl.off('keydown', onEnterOrSpaceKey);\n    } // Pagination\n\n\n    if (hasClickablePagination()) {\n      swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    } // Tab focus\n\n\n    swiper.$el.off('focus', handleFocus, true);\n    swiper.$el.off('pointerdown', handlePointerDown, true);\n    swiper.$el.off('pointerup', handlePointerUp, true);\n  }\n\n  on('beforeInit', () => {\n    liveRegion = $(`<span class=\"${swiper.params.a11y.notificationClass}\" aria-live=\"assertive\" aria-atomic=\"true\"></span>`);\n  });\n  on('afterInit', () => {\n    if (!swiper.params.a11y.enabled) return;\n    init();\n  });\n  on('slidesLengthChange snapGridLengthChange slidesGridLengthChange', () => {\n    if (!swiper.params.a11y.enabled) return;\n    initSlides();\n  });\n  on('fromEdge toEdge afterInit lock unlock', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updateNavigation();\n  });\n  on('paginationUpdate', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updatePagination();\n  });\n  on('destroy', () => {\n    if (!swiper.params.a11y.enabled) return;\n    destroy();\n  });\n}", "import { getWindow } from 'ssr-window';\nexport default function History({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    history: {\n      enabled: false,\n      root: '',\n      replaceState: false,\n      key: 'slides',\n      keepQuery: false\n    }\n  });\n  let initialized = false;\n  let paths = {};\n\n  const slugify = text => {\n    return text.toString().replace(/\\s+/g, '-').replace(/[^\\w-]+/g, '').replace(/--+/g, '-').replace(/^-+/, '').replace(/-+$/, '');\n  };\n\n  const getPathValues = urlOverride => {\n    const window = getWindow();\n    let location;\n\n    if (urlOverride) {\n      location = new URL(urlOverride);\n    } else {\n      location = window.location;\n    }\n\n    const pathArray = location.pathname.slice(1).split('/').filter(part => part !== '');\n    const total = pathArray.length;\n    const key = pathArray[total - 2];\n    const value = pathArray[total - 1];\n    return {\n      key,\n      value\n    };\n  };\n\n  const setHistory = (key, index) => {\n    const window = getWindow();\n    if (!initialized || !swiper.params.history.enabled) return;\n    let location;\n\n    if (swiper.params.url) {\n      location = new URL(swiper.params.url);\n    } else {\n      location = window.location;\n    }\n\n    const slide = swiper.slides.eq(index);\n    let value = slugify(slide.attr('data-history'));\n\n    if (swiper.params.history.root.length > 0) {\n      let root = swiper.params.history.root;\n      if (root[root.length - 1] === '/') root = root.slice(0, root.length - 1);\n      value = `${root}/${key}/${value}`;\n    } else if (!location.pathname.includes(key)) {\n      value = `${key}/${value}`;\n    }\n\n    if (swiper.params.history.keepQuery) {\n      value += location.search;\n    }\n\n    const currentState = window.history.state;\n\n    if (currentState && currentState.value === value) {\n      return;\n    }\n\n    if (swiper.params.history.replaceState) {\n      window.history.replaceState({\n        value\n      }, null, value);\n    } else {\n      window.history.pushState({\n        value\n      }, null, value);\n    }\n  };\n\n  const scrollToSlide = (speed, value, runCallbacks) => {\n    if (value) {\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHistory = slugify(slide.attr('data-history'));\n\n        if (slideHistory === value && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, runCallbacks);\n        }\n      }\n    } else {\n      swiper.slideTo(0, speed, runCallbacks);\n    }\n  };\n\n  const setHistoryPopState = () => {\n    paths = getPathValues(swiper.params.url);\n    scrollToSlide(swiper.params.speed, paths.value, false);\n  };\n\n  const init = () => {\n    const window = getWindow();\n    if (!swiper.params.history) return;\n\n    if (!window.history || !window.history.pushState) {\n      swiper.params.history.enabled = false;\n      swiper.params.hashNavigation.enabled = true;\n      return;\n    }\n\n    initialized = true;\n    paths = getPathValues(swiper.params.url);\n    if (!paths.key && !paths.value) return;\n    scrollToSlide(0, paths.value, swiper.params.runCallbacksOnInit);\n\n    if (!swiper.params.history.replaceState) {\n      window.addEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  const destroy = () => {\n    const window = getWindow();\n\n    if (!swiper.params.history.replaceState) {\n      window.removeEventListener('popstate', setHistoryPopState);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.history.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.history.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHistory(swiper.params.history.key, swiper.activeIndex);\n    }\n  });\n}", "import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function HashNavigation({\n  swiper,\n  extendParams,\n  emit,\n  on\n}) {\n  let initialized = false;\n  const document = getDocument();\n  const window = getWindow();\n  extendParams({\n    hashNavigation: {\n      enabled: false,\n      replaceState: false,\n      watchState: false\n    }\n  });\n\n  const onHashChange = () => {\n    emit('hashChange');\n    const newHash = document.location.hash.replace('#', '');\n    const activeSlideHash = swiper.slides.eq(swiper.activeIndex).attr('data-hash');\n\n    if (newHash !== activeSlideHash) {\n      const newIndex = swiper.$wrapperEl.children(`.${swiper.params.slideClass}[data-hash=\"${newHash}\"]`).index();\n      if (typeof newIndex === 'undefined') return;\n      swiper.slideTo(newIndex);\n    }\n  };\n\n  const setHash = () => {\n    if (!initialized || !swiper.params.hashNavigation.enabled) return;\n\n    if (swiper.params.hashNavigation.replaceState && window.history && window.history.replaceState) {\n      window.history.replaceState(null, null, `#${swiper.slides.eq(swiper.activeIndex).attr('data-hash')}` || '');\n      emit('hashSet');\n    } else {\n      const slide = swiper.slides.eq(swiper.activeIndex);\n      const hash = slide.attr('data-hash') || slide.attr('data-history');\n      document.location.hash = hash || '';\n      emit('hashSet');\n    }\n  };\n\n  const init = () => {\n    if (!swiper.params.hashNavigation.enabled || swiper.params.history && swiper.params.history.enabled) return;\n    initialized = true;\n    const hash = document.location.hash.replace('#', '');\n\n    if (hash) {\n      const speed = 0;\n\n      for (let i = 0, length = swiper.slides.length; i < length; i += 1) {\n        const slide = swiper.slides.eq(i);\n        const slideHash = slide.attr('data-hash') || slide.attr('data-history');\n\n        if (slideHash === hash && !slide.hasClass(swiper.params.slideDuplicateClass)) {\n          const index = slide.index();\n          swiper.slideTo(index, speed, swiper.params.runCallbacksOnInit, true);\n        }\n      }\n    }\n\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).on('hashchange', onHashChange);\n    }\n  };\n\n  const destroy = () => {\n    if (swiper.params.hashNavigation.watchState) {\n      $(window).off('hashchange', onHashChange);\n    }\n  };\n\n  on('init', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      init();\n    }\n  });\n  on('destroy', () => {\n    if (swiper.params.hashNavigation.enabled) {\n      destroy();\n    }\n  });\n  on('transitionEnd _freeModeNoMomentumRelease', () => {\n    if (initialized) {\n      setHash();\n    }\n  });\n  on('slideChange', () => {\n    if (initialized && swiper.params.cssMode) {\n      setHash();\n    }\n  });\n}", "/* eslint no-underscore-dangle: \"off\" */\n\n/* eslint no-use-before-define: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport { nextTick } from '../../shared/utils.js';\nexport default function Autoplay({\n  swiper,\n  extendParams,\n  on,\n  emit\n}) {\n  let timeout;\n  swiper.autoplay = {\n    running: false,\n    paused: false\n  };\n  extendParams({\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  });\n\n  function run() {\n    if (!swiper.size) {\n      swiper.autoplay.running = false;\n      swiper.autoplay.paused = false;\n      return;\n    }\n\n    const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    let delay = swiper.params.autoplay.delay;\n\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n\n    clearTimeout(timeout);\n    timeout = nextTick(() => {\n      let autoplayResult;\n\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          emit('autoplay');\n        } else {\n          stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.isEnd) {\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n        emit('autoplay');\n      } else {\n        stop();\n      }\n\n      if (swiper.params.cssMode && swiper.autoplay.running) run();else if (autoplayResult === false) {\n        run();\n      }\n    }, delay);\n  }\n\n  function start() {\n    if (typeof timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    emit('autoplayStart');\n    run();\n    return true;\n  }\n\n  function stop() {\n    if (!swiper.autoplay.running) return false;\n    if (typeof timeout === 'undefined') return false;\n\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = undefined;\n    }\n\n    swiper.autoplay.running = false;\n    emit('autoplayStop');\n    return true;\n  }\n\n  function pause(speed) {\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (timeout) clearTimeout(timeout);\n    swiper.autoplay.paused = true;\n\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      run();\n    } else {\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].addEventListener(event, onTransitionEnd);\n      });\n    }\n  }\n\n  function onVisibilityChange() {\n    const document = getDocument();\n\n    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n      pause();\n    }\n\n    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n      run();\n      swiper.autoplay.paused = false;\n    }\n  }\n\n  function onTransitionEnd(e) {\n    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n    if (e.target !== swiper.$wrapperEl[0]) return;\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n    swiper.autoplay.paused = false;\n\n    if (!swiper.autoplay.running) {\n      stop();\n    } else {\n      run();\n    }\n  }\n\n  function onMouseEnter() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      stop();\n    } else {\n      emit('autoplayPause');\n      pause();\n    }\n\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n  }\n\n  function onMouseLeave() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      return;\n    }\n\n    swiper.autoplay.paused = false;\n    emit('autoplayResume');\n    run();\n  }\n\n  function attachMouseEvents() {\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.$el.on('mouseenter', onMouseEnter);\n      swiper.$el.on('mouseleave', onMouseLeave);\n    }\n  }\n\n  function detachMouseEvents() {\n    swiper.$el.off('mouseenter', onMouseEnter);\n    swiper.$el.off('mouseleave', onMouseLeave);\n  }\n\n  on('init', () => {\n    if (swiper.params.autoplay.enabled) {\n      start();\n      const document = getDocument();\n      document.addEventListener('visibilitychange', onVisibilityChange);\n      attachMouseEvents();\n    }\n  });\n  on('beforeTransitionStart', (_s, speed, internal) => {\n    if (swiper.autoplay.running) {\n      if (internal || !swiper.params.autoplay.disableOnInteraction) {\n        swiper.autoplay.pause(speed);\n      } else {\n        stop();\n      }\n    }\n  });\n  on('sliderFirstMove', () => {\n    if (swiper.autoplay.running) {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        stop();\n      } else {\n        pause();\n      }\n    }\n  });\n  on('touchEnd', () => {\n    if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n      run();\n    }\n  });\n  on('destroy', () => {\n    detachMouseEvents();\n\n    if (swiper.autoplay.running) {\n      stop();\n    }\n\n    const document = getDocument();\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n  });\n  Object.assign(swiper.autoplay, {\n    pause,\n    run,\n    start,\n    stop\n  });\n}", "import { isObject } from '../../shared/utils.js';\nimport $ from '../../shared/dom.js';\nexport default function Thumb({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    thumbs: {\n      swiper: null,\n      multipleActiveThumbs: true,\n      autoScrollOffset: 0,\n      slideThumbActiveClass: 'swiper-slide-thumb-active',\n      thumbsContainerClass: 'swiper-thumbs'\n    }\n  });\n  let initialized = false;\n  let swiperCreated = false;\n  swiper.thumbs = {\n    swiper: null\n  };\n\n  function onThumbClick() {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const clickedIndex = thumbsSwiper.clickedIndex;\n    const clickedSlide = thumbsSwiper.clickedSlide;\n    if (clickedSlide && $(clickedSlide).hasClass(swiper.params.thumbs.slideThumbActiveClass)) return;\n    if (typeof clickedIndex === 'undefined' || clickedIndex === null) return;\n    let slideToIndex;\n\n    if (thumbsSwiper.params.loop) {\n      slideToIndex = parseInt($(thumbsSwiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n    } else {\n      slideToIndex = clickedIndex;\n    }\n\n    if (swiper.params.loop) {\n      let currentIndex = swiper.activeIndex;\n\n      if (swiper.slides.eq(currentIndex).hasClass(swiper.params.slideDuplicateClass)) {\n        swiper.loopFix(); // eslint-disable-next-line\n\n        swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n        currentIndex = swiper.activeIndex;\n      }\n\n      const prevIndex = swiper.slides.eq(currentIndex).prevAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      const nextIndex = swiper.slides.eq(currentIndex).nextAll(`[data-swiper-slide-index=\"${slideToIndex}\"]`).eq(0).index();\n      if (typeof prevIndex === 'undefined') slideToIndex = nextIndex;else if (typeof nextIndex === 'undefined') slideToIndex = prevIndex;else if (nextIndex - currentIndex < currentIndex - prevIndex) slideToIndex = nextIndex;else slideToIndex = prevIndex;\n    }\n\n    swiper.slideTo(slideToIndex);\n  }\n\n  function init() {\n    const {\n      thumbs: thumbsParams\n    } = swiper.params;\n    if (initialized) return false;\n    initialized = true;\n    const SwiperClass = swiper.constructor;\n\n    if (thumbsParams.swiper instanceof SwiperClass) {\n      swiper.thumbs.swiper = thumbsParams.swiper;\n      Object.assign(swiper.thumbs.swiper.originalParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      Object.assign(swiper.thumbs.swiper.params, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n    } else if (isObject(thumbsParams.swiper)) {\n      const thumbsSwiperParams = Object.assign({}, thumbsParams.swiper);\n      Object.assign(thumbsSwiperParams, {\n        watchSlidesProgress: true,\n        slideToClickedSlide: false\n      });\n      swiper.thumbs.swiper = new SwiperClass(thumbsSwiperParams);\n      swiperCreated = true;\n    }\n\n    swiper.thumbs.swiper.$el.addClass(swiper.params.thumbs.thumbsContainerClass);\n    swiper.thumbs.swiper.on('tap', onThumbClick);\n    return true;\n  }\n\n  function update(initial) {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    const slidesPerView = thumbsSwiper.params.slidesPerView === 'auto' ? thumbsSwiper.slidesPerViewDynamic() : thumbsSwiper.params.slidesPerView; // Activate thumbs\n\n    let thumbsToActivate = 1;\n    const thumbActiveClass = swiper.params.thumbs.slideThumbActiveClass;\n\n    if (swiper.params.slidesPerView > 1 && !swiper.params.centeredSlides) {\n      thumbsToActivate = swiper.params.slidesPerView;\n    }\n\n    if (!swiper.params.thumbs.multipleActiveThumbs) {\n      thumbsToActivate = 1;\n    }\n\n    thumbsToActivate = Math.floor(thumbsToActivate);\n    thumbsSwiper.slides.removeClass(thumbActiveClass);\n\n    if (thumbsSwiper.params.loop || thumbsSwiper.params.virtual && thumbsSwiper.params.virtual.enabled) {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.$wrapperEl.children(`[data-swiper-slide-index=\"${swiper.realIndex + i}\"]`).addClass(thumbActiveClass);\n      }\n    } else {\n      for (let i = 0; i < thumbsToActivate; i += 1) {\n        thumbsSwiper.slides.eq(swiper.realIndex + i).addClass(thumbActiveClass);\n      }\n    }\n\n    const autoScrollOffset = swiper.params.thumbs.autoScrollOffset;\n    const useOffset = autoScrollOffset && !thumbsSwiper.params.loop;\n\n    if (swiper.realIndex !== thumbsSwiper.realIndex || useOffset) {\n      let currentThumbsIndex = thumbsSwiper.activeIndex;\n      let newThumbsIndex;\n      let direction;\n\n      if (thumbsSwiper.params.loop) {\n        if (thumbsSwiper.slides.eq(currentThumbsIndex).hasClass(thumbsSwiper.params.slideDuplicateClass)) {\n          thumbsSwiper.loopFix(); // eslint-disable-next-line\n\n          thumbsSwiper._clientLeft = thumbsSwiper.$wrapperEl[0].clientLeft;\n          currentThumbsIndex = thumbsSwiper.activeIndex;\n        } // Find actual thumbs index to slide to\n\n\n        const prevThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).prevAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n        const nextThumbsIndex = thumbsSwiper.slides.eq(currentThumbsIndex).nextAll(`[data-swiper-slide-index=\"${swiper.realIndex}\"]`).eq(0).index();\n\n        if (typeof prevThumbsIndex === 'undefined') {\n          newThumbsIndex = nextThumbsIndex;\n        } else if (typeof nextThumbsIndex === 'undefined') {\n          newThumbsIndex = prevThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex === currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = thumbsSwiper.params.slidesPerGroup > 1 ? nextThumbsIndex : currentThumbsIndex;\n        } else if (nextThumbsIndex - currentThumbsIndex < currentThumbsIndex - prevThumbsIndex) {\n          newThumbsIndex = nextThumbsIndex;\n        } else {\n          newThumbsIndex = prevThumbsIndex;\n        }\n\n        direction = swiper.activeIndex > swiper.previousIndex ? 'next' : 'prev';\n      } else {\n        newThumbsIndex = swiper.realIndex;\n        direction = newThumbsIndex > swiper.previousIndex ? 'next' : 'prev';\n      }\n\n      if (useOffset) {\n        newThumbsIndex += direction === 'next' ? autoScrollOffset : -1 * autoScrollOffset;\n      }\n\n      if (thumbsSwiper.visibleSlidesIndexes && thumbsSwiper.visibleSlidesIndexes.indexOf(newThumbsIndex) < 0) {\n        if (thumbsSwiper.params.centeredSlides) {\n          if (newThumbsIndex > currentThumbsIndex) {\n            newThumbsIndex = newThumbsIndex - Math.floor(slidesPerView / 2) + 1;\n          } else {\n            newThumbsIndex = newThumbsIndex + Math.floor(slidesPerView / 2) - 1;\n          }\n        } else if (newThumbsIndex > currentThumbsIndex && thumbsSwiper.params.slidesPerGroup === 1) {// newThumbsIndex = newThumbsIndex - slidesPerView + 1;\n        }\n\n        thumbsSwiper.slideTo(newThumbsIndex, initial ? 0 : undefined);\n      }\n    }\n  }\n\n  on('beforeInit', () => {\n    const {\n      thumbs\n    } = swiper.params;\n    if (!thumbs || !thumbs.swiper) return;\n    init();\n    update(true);\n  });\n  on('slideChange update resize observerUpdate', () => {\n    update();\n  });\n  on('setTransition', (_s, duration) => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n    thumbsSwiper.setTransition(duration);\n  });\n  on('beforeDestroy', () => {\n    const thumbsSwiper = swiper.thumbs.swiper;\n    if (!thumbsSwiper || thumbsSwiper.destroyed) return;\n\n    if (swiperCreated) {\n      thumbsSwiper.destroy();\n    }\n  });\n  Object.assign(swiper.thumbs, {\n    init,\n    update\n  });\n}", "import { now } from '../../shared/utils.js';\nexport default function freeMode({\n  swiper,\n  extendParams,\n  emit,\n  once\n}) {\n  extendParams({\n    freeMode: {\n      enabled: false,\n      momentum: true,\n      momentumRatio: 1,\n      momentumBounce: true,\n      momentumBounceRatio: 1,\n      momentumVelocityRatio: 1,\n      sticky: false,\n      minimumVelocity: 0.02\n    }\n  });\n\n  function onTouchStart() {\n    const translate = swiper.getTranslate();\n    swiper.setTranslate(translate);\n    swiper.setTransition(0);\n    swiper.touchEventsData.velocities.length = 0;\n    swiper.freeMode.onTouchEnd({\n      currentPos: swiper.rtl ? swiper.translate : -swiper.translate\n    });\n  }\n\n  function onTouchMove() {\n    const {\n      touchEventsData: data,\n      touches\n    } = swiper; // Velocity\n\n    if (data.velocities.length === 0) {\n      data.velocities.push({\n        position: touches[swiper.isHorizontal() ? 'startX' : 'startY'],\n        time: data.touchStartTime\n      });\n    }\n\n    data.velocities.push({\n      position: touches[swiper.isHorizontal() ? 'currentX' : 'currentY'],\n      time: now()\n    });\n  }\n\n  function onTouchEnd({\n    currentPos\n  }) {\n    const {\n      params,\n      $wrapperEl,\n      rtlTranslate: rtl,\n      snapGrid,\n      touchEventsData: data\n    } = swiper; // Time diff\n\n    const touchEndTime = now();\n    const timeDiff = touchEndTime - data.touchStartTime;\n\n    if (currentPos < -swiper.minTranslate()) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (currentPos > -swiper.maxTranslate()) {\n      if (swiper.slides.length < snapGrid.length) {\n        swiper.slideTo(snapGrid.length - 1);\n      } else {\n        swiper.slideTo(swiper.slides.length - 1);\n      }\n\n      return;\n    }\n\n    if (params.freeMode.momentum) {\n      if (data.velocities.length > 1) {\n        const lastMoveEvent = data.velocities.pop();\n        const velocityEvent = data.velocities.pop();\n        const distance = lastMoveEvent.position - velocityEvent.position;\n        const time = lastMoveEvent.time - velocityEvent.time;\n        swiper.velocity = distance / time;\n        swiper.velocity /= 2;\n\n        if (Math.abs(swiper.velocity) < params.freeMode.minimumVelocity) {\n          swiper.velocity = 0;\n        } // this implies that the user stopped moving a finger then released.\n        // There would be no events with distance zero, so the last event is stale.\n\n\n        if (time > 150 || now() - lastMoveEvent.time > 300) {\n          swiper.velocity = 0;\n        }\n      } else {\n        swiper.velocity = 0;\n      }\n\n      swiper.velocity *= params.freeMode.momentumVelocityRatio;\n      data.velocities.length = 0;\n      let momentumDuration = 1000 * params.freeMode.momentumRatio;\n      const momentumDistance = swiper.velocity * momentumDuration;\n      let newPosition = swiper.translate + momentumDistance;\n      if (rtl) newPosition = -newPosition;\n      let doBounce = false;\n      let afterBouncePosition;\n      const bounceAmount = Math.abs(swiper.velocity) * 20 * params.freeMode.momentumBounceRatio;\n      let needsLoopFix;\n\n      if (newPosition < swiper.maxTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition + swiper.maxTranslate() < -bounceAmount) {\n            newPosition = swiper.maxTranslate() - bounceAmount;\n          }\n\n          afterBouncePosition = swiper.maxTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.maxTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (newPosition > swiper.minTranslate()) {\n        if (params.freeMode.momentumBounce) {\n          if (newPosition - swiper.minTranslate() > bounceAmount) {\n            newPosition = swiper.minTranslate() + bounceAmount;\n          }\n\n          afterBouncePosition = swiper.minTranslate();\n          doBounce = true;\n          data.allowMomentumBounce = true;\n        } else {\n          newPosition = swiper.minTranslate();\n        }\n\n        if (params.loop && params.centeredSlides) needsLoopFix = true;\n      } else if (params.freeMode.sticky) {\n        let nextSlide;\n\n        for (let j = 0; j < snapGrid.length; j += 1) {\n          if (snapGrid[j] > -newPosition) {\n            nextSlide = j;\n            break;\n          }\n        }\n\n        if (Math.abs(snapGrid[nextSlide] - newPosition) < Math.abs(snapGrid[nextSlide - 1] - newPosition) || swiper.swipeDirection === 'next') {\n          newPosition = snapGrid[nextSlide];\n        } else {\n          newPosition = snapGrid[nextSlide - 1];\n        }\n\n        newPosition = -newPosition;\n      }\n\n      if (needsLoopFix) {\n        once('transitionEnd', () => {\n          swiper.loopFix();\n        });\n      } // Fix duration\n\n\n      if (swiper.velocity !== 0) {\n        if (rtl) {\n          momentumDuration = Math.abs((-newPosition - swiper.translate) / swiper.velocity);\n        } else {\n          momentumDuration = Math.abs((newPosition - swiper.translate) / swiper.velocity);\n        }\n\n        if (params.freeMode.sticky) {\n          // If freeMode.sticky is active and the user ends a swipe with a slow-velocity\n          // event, then durations can be 20+ seconds to slide one (or zero!) slides.\n          // It's easy to see this when simulating touch with mouse events. To fix this,\n          // limit single-slide swipes to the default slide duration. This also has the\n          // nice side effect of matching slide speed if the user stopped moving before\n          // lifting finger or mouse vs. moving slowly before lifting the finger/mouse.\n          // For faster swipes, also apply limits (albeit higher ones).\n          const moveDistance = Math.abs((rtl ? -newPosition : newPosition) - swiper.translate);\n          const currentSlideSize = swiper.slidesSizesGrid[swiper.activeIndex];\n\n          if (moveDistance < currentSlideSize) {\n            momentumDuration = params.speed;\n          } else if (moveDistance < 2 * currentSlideSize) {\n            momentumDuration = params.speed * 1.5;\n          } else {\n            momentumDuration = params.speed * 2.5;\n          }\n        }\n      } else if (params.freeMode.sticky) {\n        swiper.slideToClosest();\n        return;\n      }\n\n      if (params.freeMode.momentumBounce && doBounce) {\n        swiper.updateProgress(afterBouncePosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n        swiper.animating = true;\n        $wrapperEl.transitionEnd(() => {\n          if (!swiper || swiper.destroyed || !data.allowMomentumBounce) return;\n          emit('momentumBounce');\n          swiper.setTransition(params.speed);\n          setTimeout(() => {\n            swiper.setTranslate(afterBouncePosition);\n            $wrapperEl.transitionEnd(() => {\n              if (!swiper || swiper.destroyed) return;\n              swiper.transitionEnd();\n            });\n          }, 0);\n        });\n      } else if (swiper.velocity) {\n        emit('_freeModeNoMomentumRelease');\n        swiper.updateProgress(newPosition);\n        swiper.setTransition(momentumDuration);\n        swiper.setTranslate(newPosition);\n        swiper.transitionStart(true, swiper.swipeDirection);\n\n        if (!swiper.animating) {\n          swiper.animating = true;\n          $wrapperEl.transitionEnd(() => {\n            if (!swiper || swiper.destroyed) return;\n            swiper.transitionEnd();\n          });\n        }\n      } else {\n        swiper.updateProgress(newPosition);\n      }\n\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    } else if (params.freeMode.sticky) {\n      swiper.slideToClosest();\n      return;\n    } else if (params.freeMode) {\n      emit('_freeModeNoMomentumRelease');\n    }\n\n    if (!params.freeMode.momentum || timeDiff >= params.longSwipesMs) {\n      swiper.updateProgress();\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n  }\n\n  Object.assign(swiper, {\n    freeMode: {\n      onTouchStart,\n      onTouchMove,\n      onTouchEnd\n    }\n  });\n}", "export default function Grid({\n  swiper,\n  extendParams\n}) {\n  extendParams({\n    grid: {\n      rows: 1,\n      fill: 'column'\n    }\n  });\n  let slidesNumberEvenToRows;\n  let slidesPerRow;\n  let numFullColumns;\n\n  const initSlides = slidesLength => {\n    const {\n      slidesPerView\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid;\n    slidesPerRow = slidesNumberEvenToRows / rows;\n    numFullColumns = Math.floor(slidesLength / rows);\n\n    if (Math.floor(slidesLength / rows) === slidesLength / rows) {\n      slidesNumberEvenToRows = slidesLength;\n    } else {\n      slidesNumberEvenToRows = Math.ceil(slidesLength / rows) * rows;\n    }\n\n    if (slidesPerView !== 'auto' && fill === 'row') {\n      slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, slidesPerView * rows);\n    }\n  };\n\n  const updateSlide = (i, slide, slidesLength, getDirectionLabel) => {\n    const {\n      slidesPerGroup,\n      spaceBetween\n    } = swiper.params;\n    const {\n      rows,\n      fill\n    } = swiper.params.grid; // Set slides order\n\n    let newSlideOrderIndex;\n    let column;\n    let row;\n\n    if (fill === 'row' && slidesPerGroup > 1) {\n      const groupIndex = Math.floor(i / (slidesPerGroup * rows));\n      const slideIndexInGroup = i - rows * slidesPerGroup * groupIndex;\n      const columnsInGroup = groupIndex === 0 ? slidesPerGroup : Math.min(Math.ceil((slidesLength - groupIndex * rows * slidesPerGroup) / rows), slidesPerGroup);\n      row = Math.floor(slideIndexInGroup / columnsInGroup);\n      column = slideIndexInGroup - row * columnsInGroup + groupIndex * slidesPerGroup;\n      newSlideOrderIndex = column + row * slidesNumberEvenToRows / rows;\n      slide.css({\n        '-webkit-order': newSlideOrderIndex,\n        order: newSlideOrderIndex\n      });\n    } else if (fill === 'column') {\n      column = Math.floor(i / rows);\n      row = i - column * rows;\n\n      if (column > numFullColumns || column === numFullColumns && row === rows - 1) {\n        row += 1;\n\n        if (row >= rows) {\n          row = 0;\n          column += 1;\n        }\n      }\n    } else {\n      row = Math.floor(i / slidesPerRow);\n      column = i - row * slidesPerRow;\n    }\n\n    slide.css(getDirectionLabel('margin-top'), row !== 0 ? spaceBetween && `${spaceBetween}px` : '');\n  };\n\n  const updateWrapperSize = (slideSize, snapGrid, getDirectionLabel) => {\n    const {\n      spaceBetween,\n      centeredSlides,\n      roundLengths\n    } = swiper.params;\n    const {\n      rows\n    } = swiper.params.grid;\n    swiper.virtualSize = (slideSize + spaceBetween) * slidesNumberEvenToRows;\n    swiper.virtualSize = Math.ceil(swiper.virtualSize / rows) - spaceBetween;\n    swiper.$wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + spaceBetween}px`\n    });\n\n    if (centeredSlides) {\n      snapGrid.splice(0, snapGrid.length);\n      const newSlidesGrid = [];\n\n      for (let i = 0; i < snapGrid.length; i += 1) {\n        let slidesGridItem = snapGrid[i];\n        if (roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n        if (snapGrid[i] < swiper.virtualSize + snapGrid[0]) newSlidesGrid.push(slidesGridItem);\n      }\n\n      snapGrid.push(...newSlidesGrid);\n    }\n  };\n\n  swiper.grid = {\n    initSlides,\n    updateSlide,\n    updateWrapperSize\n  };\n}", "export default function appendSlide(slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n}", "export default function prependSlide(slides) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n\n  if (params.loop) {\n    swiper.loopDestroy();\n  }\n\n  let newActiveIndex = activeIndex + 1;\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.prepend(slides[i]);\n    }\n\n    newActiveIndex = activeIndex + slides.length;\n  } else {\n    $wrapperEl.prepend(slides);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  swiper.slideTo(newActiveIndex, 0, false);\n}", "export default function addSlide(index, slides) {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  const baseLength = swiper.slides.length;\n\n  if (index <= 0) {\n    swiper.prependSlide(slides);\n    return;\n  }\n\n  if (index >= baseLength) {\n    swiper.appendSlide(slides);\n    return;\n  }\n\n  let newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + 1 : activeIndexBuffer;\n  const slidesBuffer = [];\n\n  for (let i = baseLength - 1; i >= index; i -= 1) {\n    const currentSlide = swiper.slides.eq(i);\n    currentSlide.remove();\n    slidesBuffer.unshift(currentSlide);\n  }\n\n  if (typeof slides === 'object' && 'length' in slides) {\n    for (let i = 0; i < slides.length; i += 1) {\n      if (slides[i]) $wrapperEl.append(slides[i]);\n    }\n\n    newActiveIndex = activeIndexBuffer > index ? activeIndexBuffer + slides.length : activeIndexBuffer;\n  } else {\n    $wrapperEl.append(slides);\n  }\n\n  for (let i = 0; i < slidesBuffer.length; i += 1) {\n    $wrapperEl.append(slidesBuffer[i]);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}", "export default function removeSlide(slidesIndexes) {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl,\n    activeIndex\n  } = swiper;\n  let activeIndexBuffer = activeIndex;\n\n  if (params.loop) {\n    activeIndexBuffer -= swiper.loopedSlides;\n    swiper.loopDestroy();\n    swiper.slides = $wrapperEl.children(`.${params.slideClass}`);\n  }\n\n  let newActiveIndex = activeIndexBuffer;\n  let indexToRemove;\n\n  if (typeof slidesIndexes === 'object' && 'length' in slidesIndexes) {\n    for (let i = 0; i < slidesIndexes.length; i += 1) {\n      indexToRemove = slidesIndexes[i];\n      if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n      if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    }\n\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  } else {\n    indexToRemove = slidesIndexes;\n    if (swiper.slides[indexToRemove]) swiper.slides.eq(indexToRemove).remove();\n    if (indexToRemove < newActiveIndex) newActiveIndex -= 1;\n    newActiveIndex = Math.max(newActiveIndex, 0);\n  }\n\n  if (params.loop) {\n    swiper.loopCreate();\n  }\n\n  if (!params.observer) {\n    swiper.update();\n  }\n\n  if (params.loop) {\n    swiper.slideTo(newActiveIndex + swiper.loopedSlides, 0, false);\n  } else {\n    swiper.slideTo(newActiveIndex, 0, false);\n  }\n}", "export default function removeAllSlides() {\n  const swiper = this;\n  const slidesIndexes = [];\n\n  for (let i = 0; i < swiper.slides.length; i += 1) {\n    slidesIndexes.push(i);\n  }\n\n  swiper.removeSlide(slidesIndexes);\n}", "import appendSlide from './methods/appendSlide.js';\nimport prependSlide from './methods/prependSlide.js';\nimport addSlide from './methods/addSlide.js';\nimport removeSlide from './methods/removeSlide.js';\nimport removeAllSlides from './methods/removeAllSlides.js';\nexport default function Manipulation({\n  swiper\n}) {\n  Object.assign(swiper, {\n    appendSlide: appendSlide.bind(swiper),\n    prependSlide: prependSlide.bind(swiper),\n    addSlide: addSlide.bind(swiper),\n    removeSlide: removeSlide.bind(swiper),\n    removeAllSlides: removeAllSlides.bind(swiper)\n  });\n}", "export default function effectInit(params) {\n  const {\n    effect,\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams,\n    perspective,\n    recreateShadows,\n    getEffectParams\n  } = params;\n  on('beforeInit', () => {\n    if (swiper.params.effect !== effect) return;\n    swiper.classNames.push(`${swiper.params.containerModifierClass}${effect}`);\n\n    if (perspective && perspective()) {\n      swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n    }\n\n    const overwriteParamsResult = overwriteParams ? overwriteParams() : {};\n    Object.assign(swiper.params, overwriteParamsResult);\n    Object.assign(swiper.originalParams, overwriteParamsResult);\n  });\n  on('setTranslate', () => {\n    if (swiper.params.effect !== effect) return;\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    if (swiper.params.effect !== effect) return;\n    setTransition(duration);\n  });\n  on('transitionEnd', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (recreateShadows) {\n      if (!getEffectParams || !getEffectParams().slideShadows) return; // remove shadows\n\n      swiper.slides.each(slideEl => {\n        const $slideEl = swiper.$(slideEl);\n        $slideEl.find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').remove();\n      }); // create new one\n\n      recreateShadows();\n    }\n  });\n  let requireUpdateOnVirtual;\n  on('virtualUpdate', () => {\n    if (swiper.params.effect !== effect) return;\n\n    if (!swiper.slides.length) {\n      requireUpdateOnVirtual = true;\n    }\n\n    requestAnimationFrame(() => {\n      if (requireUpdateOnVirtual && swiper.slides && swiper.slides.length) {\n        setTranslate();\n        requireUpdateOnVirtual = false;\n      }\n    });\n  });\n}", "export default function effectTarget(effectParams, $slideEl) {\n  if (effectParams.transformEl) {\n    return $slideEl.find(effectParams.transformEl).css({\n      'backface-visibility': 'hidden',\n      '-webkit-backface-visibility': 'hidden'\n    });\n  }\n\n  return $slideEl;\n}", "export default function effectVirtualTransitionEnd({\n  swiper,\n  duration,\n  transformEl,\n  allSlides\n}) {\n  const {\n    slides,\n    activeIndex,\n    $wrapperEl\n  } = swiper;\n\n  if (swiper.params.virtualTranslate && duration !== 0) {\n    let eventTriggered = false;\n    let $transitionEndTarget;\n\n    if (allSlides) {\n      $transitionEndTarget = transformEl ? slides.find(transformEl) : slides;\n    } else {\n      $transitionEndTarget = transformEl ? slides.eq(activeIndex).find(transformEl) : slides.eq(activeIndex);\n    }\n\n    $transitionEndTarget.transitionEnd(() => {\n      if (eventTriggered) return;\n      if (!swiper || swiper.destroyed) return;\n      eventTriggered = true;\n      swiper.animating = false;\n      const triggerEvents = ['webkitTransitionEnd', 'transitionend'];\n\n      for (let i = 0; i < triggerEvents.length; i += 1) {\n        $wrapperEl.trigger(triggerEvents[i]);\n      }\n    });\n  }\n}", "import effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFade({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    fadeEffect: {\n      crossFade: false,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides\n    } = swiper;\n    const params = swiper.params.fadeEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = swiper.slides.eq(i);\n      const offset = $slideEl[0].swiperSlideOffset;\n      let tx = -offset;\n      if (!swiper.params.virtualTranslate) tx -= swiper.translate;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const slideOpacity = swiper.params.fadeEffect.crossFade ? Math.max(1 - Math.abs($slideEl[0].progress), 0) : 1 + Math.min(Math.max($slideEl[0].progress, -1), 0);\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.css({\n        opacity: slideOpacity\n      }).transform(`translate3d(${tx}px, ${ty}px, 0px)`);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.fadeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'fade',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}", "import $ from '../../shared/dom.js';\nimport effectInit from '../../shared/effect-init.js';\nexport default function EffectCube({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    cubeEffect: {\n      slideShadows: true,\n      shadow: true,\n      shadowOffset: 20,\n      shadowScale: 0.94\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, isHorizontal) => {\n    let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n      $slideEl.append(shadowBefore);\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = $(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n      $slideEl.append(shadowAfter);\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // create new ones\n    const isHorizontal = swiper.isHorizontal();\n    swiper.slides.each(slideEl => {\n      const progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      createSlideShadows($(slideEl), progress, isHorizontal);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      $el,\n      $wrapperEl,\n      slides,\n      width: swiperWidth,\n      height: swiperHeight,\n      rtlTranslate: rtl,\n      size: swiperSize,\n      browser\n    } = swiper;\n    const params = swiper.params.cubeEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n    let wrapperRotate = 0;\n    let $cubeShadowEl;\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $wrapperEl.append($cubeShadowEl);\n        }\n\n        $cubeShadowEl.css({\n          height: `${swiperWidth}px`\n        });\n      } else {\n        $cubeShadowEl = $el.find('.swiper-cube-shadow');\n\n        if ($cubeShadowEl.length === 0) {\n          $cubeShadowEl = $('<div class=\"swiper-cube-shadow\"></div>');\n          $el.append($cubeShadowEl);\n        }\n      }\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let slideIndex = i;\n\n      if (isVirtual) {\n        slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n      }\n\n      let slideAngle = slideIndex * 90;\n      let round = Math.floor(slideAngle / 360);\n\n      if (rtl) {\n        slideAngle = -slideAngle;\n        round = Math.floor(-slideAngle / 360);\n      }\n\n      const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      let tx = 0;\n      let ty = 0;\n      let tz = 0;\n\n      if (slideIndex % 4 === 0) {\n        tx = -round * 4 * swiperSize;\n        tz = 0;\n      } else if ((slideIndex - 1) % 4 === 0) {\n        tx = 0;\n        tz = -round * 4 * swiperSize;\n      } else if ((slideIndex - 2) % 4 === 0) {\n        tx = swiperSize + round * 4 * swiperSize;\n        tz = swiperSize;\n      } else if ((slideIndex - 3) % 4 === 0) {\n        tx = -swiperSize;\n        tz = 3 * swiperSize + swiperSize * 4 * round;\n      }\n\n      if (rtl) {\n        tx = -tx;\n      }\n\n      if (!isHorizontal) {\n        ty = tx;\n        tx = 0;\n      }\n\n      const transform = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n\n      if (progress <= 1 && progress > -1) {\n        wrapperRotate = slideIndex * 90 + progress * 90;\n        if (rtl) wrapperRotate = -slideIndex * 90 - progress * 90;\n      }\n\n      $slideEl.transform(transform);\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, isHorizontal);\n      }\n    }\n\n    $wrapperEl.css({\n      '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n      'transform-origin': `50% 50% -${swiperSize / 2}px`\n    });\n\n    if (params.shadow) {\n      if (isHorizontal) {\n        $cubeShadowEl.transform(`translate3d(0px, ${swiperWidth / 2 + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n      } else {\n        const shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n        const multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n        const scale1 = params.shadowScale;\n        const scale2 = params.shadowScale / multiplier;\n        const offset = params.shadowOffset;\n        $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${swiperHeight / 2 + offset}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n      }\n    }\n\n    const zFactor = browser.isSafari || browser.isWebView ? -swiperSize / 2 : 0;\n    $wrapperEl.transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n    $wrapperEl[0].style.setProperty('--swiper-cube-translate-z', `${zFactor}px`);\n  };\n\n  const setTransition = duration => {\n    const {\n      $el,\n      slides\n    } = swiper;\n    slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\n    if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n      $el.find('.swiper-cube-shadow').transition(duration);\n    }\n  };\n\n  effectInit({\n    effect: 'cube',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.cubeEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      resistanceRatio: 0,\n      spaceBetween: 0,\n      centeredSlides: false,\n      virtualTranslate: true\n    })\n  });\n}", "import $ from './dom.js';\nexport default function createShadow(params, $slideEl, side) {\n  const shadowClass = `swiper-slide-shadow${side ? `-${side}` : ''}`;\n  const $shadowContainer = params.transformEl ? $slideEl.find(params.transformEl) : $slideEl;\n  let $shadowEl = $shadowContainer.children(`.${shadowClass}`);\n\n  if (!$shadowEl.length) {\n    $shadowEl = $(`<div class=\"swiper-slide-shadow${side ? `-${side}` : ''}\"></div>`);\n    $shadowContainer.append($shadowEl);\n  }\n\n  return $shadowEl;\n}", "import $ from '../../shared/dom.js';\nimport createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectFlip({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    flipEffect: {\n      slideShadows: true,\n      limitRotation: true,\n      transformEl: null\n    }\n  });\n\n  const createSlideShadows = ($slideEl, progress, params) => {\n    let shadowBefore = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n    let shadowAfter = swiper.isHorizontal() ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n    if (shadowBefore.length === 0) {\n      shadowBefore = createShadow(params, $slideEl, swiper.isHorizontal() ? 'left' : 'top');\n    }\n\n    if (shadowAfter.length === 0) {\n      shadowAfter = createShadow(params, $slideEl, swiper.isHorizontal() ? 'right' : 'bottom');\n    }\n\n    if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n    if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n  };\n\n  const recreateShadows = () => {\n    // Set shadows\n    const params = swiper.params.flipEffect;\n    swiper.slides.each(slideEl => {\n      const $slideEl = $(slideEl);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min(slideEl.progress, 1), -1);\n      }\n\n      createSlideShadows($slideEl, progress, params);\n    });\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      rtlTranslate: rtl\n    } = swiper;\n    const params = swiper.params.flipEffect;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      let progress = $slideEl[0].progress;\n\n      if (swiper.params.flipEffect.limitRotation) {\n        progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const rotate = -180 * progress;\n      let rotateY = rotate;\n      let rotateX = 0;\n      let tx = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let ty = 0;\n\n      if (!swiper.isHorizontal()) {\n        ty = tx;\n        tx = 0;\n        rotateX = -rotateY;\n        rotateY = 0;\n      } else if (rtl) {\n        rotateY = -rotateY;\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(progress)) + slides.length;\n\n      if (params.slideShadows) {\n        createSlideShadows($slideEl, progress, params);\n      }\n\n      const transform = `translate3d(${tx}px, ${ty}px, 0px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.flipEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'flip',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    recreateShadows,\n    getEffectParams: () => swiper.params.flipEffect,\n    perspective: () => true,\n    overwriteParams: () => ({\n      slidesPerView: 1,\n      slidesPerGroup: 1,\n      watchSlidesProgress: true,\n      spaceBetween: 0,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}", "import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nexport default function EffectCoverflow({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    coverflowEffect: {\n      rotate: 50,\n      stretch: 0,\n      depth: 100,\n      scale: 1,\n      modifier: 1,\n      slideShadows: true,\n      transformEl: null\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      width: swiperWidth,\n      height: swiperHeight,\n      slides,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.coverflowEffect;\n    const isHorizontal = swiper.isHorizontal();\n    const transform = swiper.translate;\n    const center = isHorizontal ? -transform + swiperWidth / 2 : -transform + swiperHeight / 2;\n    const rotate = isHorizontal ? params.rotate : -params.rotate;\n    const translate = params.depth; // Each slide offset from center\n\n    for (let i = 0, length = slides.length; i < length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideSize = slidesSizesGrid[i];\n      const slideOffset = $slideEl[0].swiperSlideOffset;\n      const centerOffset = (center - slideOffset - slideSize / 2) / slideSize;\n      const offsetMultiplier = typeof params.modifier === 'function' ? params.modifier(centerOffset) : centerOffset * params.modifier;\n      let rotateY = isHorizontal ? rotate * offsetMultiplier : 0;\n      let rotateX = isHorizontal ? 0 : rotate * offsetMultiplier; // var rotateZ = 0\n\n      let translateZ = -translate * Math.abs(offsetMultiplier);\n      let stretch = params.stretch; // Allow percentage to make a relative stretch for responsive sliders\n\n      if (typeof stretch === 'string' && stretch.indexOf('%') !== -1) {\n        stretch = parseFloat(params.stretch) / 100 * slideSize;\n      }\n\n      let translateY = isHorizontal ? 0 : stretch * offsetMultiplier;\n      let translateX = isHorizontal ? stretch * offsetMultiplier : 0;\n      let scale = 1 - (1 - params.scale) * Math.abs(offsetMultiplier); // Fix for ultra small values\n\n      if (Math.abs(translateX) < 0.001) translateX = 0;\n      if (Math.abs(translateY) < 0.001) translateY = 0;\n      if (Math.abs(translateZ) < 0.001) translateZ = 0;\n      if (Math.abs(rotateY) < 0.001) rotateY = 0;\n      if (Math.abs(rotateX) < 0.001) rotateX = 0;\n      if (Math.abs(scale) < 0.001) scale = 0;\n      const slideTransform = `translate3d(${translateX}px,${translateY}px,${translateZ}px)  rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(${scale})`;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(slideTransform);\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowBeforeEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n        let $shadowAfterEl = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n\n        if ($shadowBeforeEl.length === 0) {\n          $shadowBeforeEl = createShadow(params, $slideEl, isHorizontal ? 'left' : 'top');\n        }\n\n        if ($shadowAfterEl.length === 0) {\n          $shadowAfterEl = createShadow(params, $slideEl, isHorizontal ? 'right' : 'bottom');\n        }\n\n        if ($shadowBeforeEl.length) $shadowBeforeEl[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n        if ($shadowAfterEl.length) $shadowAfterEl[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.coverflowEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n  };\n\n  effectInit({\n    effect: 'coverflow',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true\n    })\n  });\n}", "import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCreative({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    creativeEffect: {\n      transformEl: null,\n      limitProgress: 1,\n      shadowPerProgress: false,\n      progressMultiplier: 1,\n      perspective: true,\n      prev: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      },\n      next: {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        opacity: 1,\n        scale: 1\n      }\n    }\n  });\n\n  const getTranslateValue = value => {\n    if (typeof value === 'string') return value;\n    return `${value}px`;\n  };\n\n  const setTranslate = () => {\n    const {\n      slides,\n      $wrapperEl,\n      slidesSizesGrid\n    } = swiper;\n    const params = swiper.params.creativeEffect;\n    const {\n      progressMultiplier: multiplier\n    } = params;\n    const isCenteredSlides = swiper.params.centeredSlides;\n\n    if (isCenteredSlides) {\n      const margin = slidesSizesGrid[0] / 2 - swiper.params.slidesOffsetBefore || 0;\n      $wrapperEl.transform(`translateX(calc(50% - ${margin}px))`);\n    }\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max($slideEl[0].progress, -params.limitProgress), params.limitProgress);\n      let originalProgress = progress;\n\n      if (!isCenteredSlides) {\n        originalProgress = Math.min(Math.max($slideEl[0].originalProgress, -params.limitProgress), params.limitProgress);\n      }\n\n      const offset = $slideEl[0].swiperSlideOffset;\n      const t = [swiper.params.cssMode ? -offset - swiper.translate : -offset, 0, 0];\n      const r = [0, 0, 0];\n      let custom = false;\n\n      if (!swiper.isHorizontal()) {\n        t[1] = t[0];\n        t[0] = 0;\n      }\n\n      let data = {\n        translate: [0, 0, 0],\n        rotate: [0, 0, 0],\n        scale: 1,\n        opacity: 1\n      };\n\n      if (progress < 0) {\n        data = params.next;\n        custom = true;\n      } else if (progress > 0) {\n        data = params.prev;\n        custom = true;\n      } // set translate\n\n\n      t.forEach((value, index) => {\n        t[index] = `calc(${value}px + (${getTranslateValue(data.translate[index])} * ${Math.abs(progress * multiplier)}))`;\n      }); // set rotates\n\n      r.forEach((value, index) => {\n        r[index] = data.rotate[index] * Math.abs(progress * multiplier);\n      });\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const translateString = t.join(', ');\n      const rotateString = `rotateX(${r[0]}deg) rotateY(${r[1]}deg) rotateZ(${r[2]}deg)`;\n      const scaleString = originalProgress < 0 ? `scale(${1 + (1 - data.scale) * originalProgress * multiplier})` : `scale(${1 - (1 - data.scale) * originalProgress * multiplier})`;\n      const opacityString = originalProgress < 0 ? 1 + (1 - data.opacity) * originalProgress * multiplier : 1 - (1 - data.opacity) * originalProgress * multiplier;\n      const transform = `translate3d(${translateString}) ${rotateString} ${scaleString}`; // Set shadows\n\n      if (custom && data.shadow || !custom) {\n        let $shadowEl = $slideEl.children('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0 && data.shadow) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) {\n          const shadowOpacity = params.shadowPerProgress ? progress * (1 / params.limitProgress) : progress;\n          $shadowEl[0].style.opacity = Math.min(Math.max(Math.abs(shadowOpacity), 0), 1);\n        }\n      }\n\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform).css({\n        opacity: opacityString\n      });\n\n      if (data.origin) {\n        $targetEl.css('transform-origin', data.origin);\n      }\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.creativeEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl,\n      allSlides: true\n    });\n  };\n\n  effectInit({\n    effect: 'creative',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => swiper.params.creativeEffect.perspective,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}", "import createShadow from '../../shared/create-shadow.js';\nimport effectInit from '../../shared/effect-init.js';\nimport effectTarget from '../../shared/effect-target.js';\nimport effectVirtualTransitionEnd from '../../shared/effect-virtual-transition-end.js';\nexport default function EffectCards({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    cardsEffect: {\n      slideShadows: true,\n      transformEl: null,\n      rotate: true,\n      perSlideRotate: 2,\n      perSlideOffset: 8\n    }\n  });\n\n  const setTranslate = () => {\n    const {\n      slides,\n      activeIndex\n    } = swiper;\n    const params = swiper.params.cardsEffect;\n    const {\n      startTranslate,\n      isTouched\n    } = swiper.touchEventsData;\n    const currentTranslate = swiper.translate;\n\n    for (let i = 0; i < slides.length; i += 1) {\n      const $slideEl = slides.eq(i);\n      const slideProgress = $slideEl[0].progress;\n      const progress = Math.min(Math.max(slideProgress, -4), 4);\n      let offset = $slideEl[0].swiperSlideOffset;\n\n      if (swiper.params.centeredSlides && !swiper.params.cssMode) {\n        swiper.$wrapperEl.transform(`translateX(${swiper.minTranslate()}px)`);\n      }\n\n      if (swiper.params.centeredSlides && swiper.params.cssMode) {\n        offset -= slides[0].swiperSlideOffset;\n      }\n\n      let tX = swiper.params.cssMode ? -offset - swiper.translate : -offset;\n      let tY = 0;\n      const tZ = -100 * Math.abs(progress);\n      let scale = 1;\n      let rotate = -params.perSlideRotate * progress;\n      let tXAdd = params.perSlideOffset - Math.abs(progress) * 0.75;\n      const slideIndex = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.from + i : i;\n      const isSwipeToNext = (slideIndex === activeIndex || slideIndex === activeIndex - 1) && progress > 0 && progress < 1 && (isTouched || swiper.params.cssMode) && currentTranslate < startTranslate;\n      const isSwipeToPrev = (slideIndex === activeIndex || slideIndex === activeIndex + 1) && progress < 0 && progress > -1 && (isTouched || swiper.params.cssMode) && currentTranslate > startTranslate;\n\n      if (isSwipeToNext || isSwipeToPrev) {\n        const subProgress = (1 - Math.abs((Math.abs(progress) - 0.5) / 0.5)) ** 0.5;\n        rotate += -28 * progress * subProgress;\n        scale += -0.5 * subProgress;\n        tXAdd += 96 * subProgress;\n        tY = `${-25 * subProgress * Math.abs(progress)}%`;\n      }\n\n      if (progress < 0) {\n        // next\n        tX = `calc(${tX}px + (${tXAdd * Math.abs(progress)}%))`;\n      } else if (progress > 0) {\n        // prev\n        tX = `calc(${tX}px + (-${tXAdd * Math.abs(progress)}%))`;\n      } else {\n        tX = `${tX}px`;\n      }\n\n      if (!swiper.isHorizontal()) {\n        const prevY = tY;\n        tY = tX;\n        tX = prevY;\n      }\n\n      const scaleString = progress < 0 ? `${1 + (1 - scale) * progress}` : `${1 - (1 - scale) * progress}`;\n      const transform = `\n        translate3d(${tX}, ${tY}, ${tZ}px)\n        rotateZ(${params.rotate ? rotate : 0}deg)\n        scale(${scaleString})\n      `;\n\n      if (params.slideShadows) {\n        // Set shadows\n        let $shadowEl = $slideEl.find('.swiper-slide-shadow');\n\n        if ($shadowEl.length === 0) {\n          $shadowEl = createShadow(params, $slideEl);\n        }\n\n        if ($shadowEl.length) $shadowEl[0].style.opacity = Math.min(Math.max((Math.abs(progress) - 0.5) / 0.5, 0), 1);\n      }\n\n      $slideEl[0].style.zIndex = -Math.abs(Math.round(slideProgress)) + slides.length;\n      const $targetEl = effectTarget(params, $slideEl);\n      $targetEl.transform(transform);\n    }\n  };\n\n  const setTransition = duration => {\n    const {\n      transformEl\n    } = swiper.params.cardsEffect;\n    const $transitionElements = transformEl ? swiper.slides.find(transformEl) : swiper.slides;\n    $transitionElements.transition(duration).find('.swiper-slide-shadow').transition(duration);\n    effectVirtualTransitionEnd({\n      swiper,\n      duration,\n      transformEl\n    });\n  };\n\n  effectInit({\n    effect: 'cards',\n    swiper,\n    on,\n    setTranslate,\n    setTransition,\n    perspective: () => true,\n    overwriteParams: () => ({\n      watchSlidesProgress: true,\n      virtualTranslate: !swiper.params.cssMode\n    })\n  });\n}", "/**\n * Swiper 8.4.7\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * https://swiperjs.com\n *\n * Copyright 2014-2023 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: January 30, 2023\n */\n\nimport Swiper from './core/core.js';\nexport { default as Swiper, default } from './core/core.js';\nimport Virtual from './modules/virtual/virtual.js';\nimport Keyboard from './modules/keyboard/keyboard.js';\nimport Mousewheel from './modules/mousewheel/mousewheel.js';\nimport Navigation from './modules/navigation/navigation.js';\nimport Pagination from './modules/pagination/pagination.js';\nimport Scrollbar from './modules/scrollbar/scrollbar.js';\nimport Parallax from './modules/parallax/parallax.js';\nimport Zoom from './modules/zoom/zoom.js';\nimport Lazy from './modules/lazy/lazy.js';\nimport Controller from './modules/controller/controller.js';\nimport A11y from './modules/a11y/a11y.js';\nimport History from './modules/history/history.js';\nimport HashNavigation from './modules/hash-navigation/hash-navigation.js';\nimport Autoplay from './modules/autoplay/autoplay.js';\nimport Thumbs from './modules/thumbs/thumbs.js';\nimport FreeMode from './modules/free-mode/free-mode.js';\nimport Grid from './modules/grid/grid.js';\nimport Manipulation from './modules/manipulation/manipulation.js';\nimport EffectFade from './modules/effect-fade/effect-fade.js';\nimport EffectCube from './modules/effect-cube/effect-cube.js';\nimport EffectFlip from './modules/effect-flip/effect-flip.js';\nimport EffectCoverflow from './modules/effect-coverflow/effect-coverflow.js';\nimport EffectCreative from './modules/effect-creative/effect-creative.js';\nimport EffectCards from './modules/effect-cards/effect-cards.js';\n\n// Swiper Class\nconst modules = [Virtual, Keyboard, Mousewheel, Navigation, Pagination, Scrollbar, Parallax, Zoom, Lazy, Controller, A11y, History, HashNavigation, Autoplay, Thumbs, FreeMode, Grid, Manipulation, EffectFade, EffectCube, EffectFlip, EffectCoverflow, EffectCreative, EffectCards];\nSwiper.use(modules);\n", "import { Controller as t } from \"@hotwired/stimulus\";\nimport e from \"swiper/bundle\";\nclass s extends t {\n  connect() {\n    this.swiper = new e(this.element, {\n      ...this.defaultOptions,\n      ...this.optionsValue\n    });\n  }\n  disconnect() {\n    this.swiper.destroy(), this.swiper = void 0;\n  }\n  get defaultOptions() {\n    return {};\n  }\n}\ns.values = {\n  options: Object\n};\nexport {\n  s as default\n};\n", "import Carousel from 'stimulus-carousel'\n\n// Connects to data-controller=\"slider\"\nexport default class extends Carousel {\n  connect() {\n    super.connect()\n\n    // The swiper instance.\n    this.swiper\n\n    // Default options for every carousels.\n    this.defaultOptions\n  }\n\n  // You can set default options in this getter.\n  get defaultOptions() {\n    return {\n      // Your default options here\n      \"navigation\": {\n        \"nextEl\": \".swiper-button-next\",\n        \"prevEl\": \".swiper-button-prev\"\n      }\n    }\n  }\n}\n", "import Carousel from 'stimulus-carousel'\n\n// Connects to data-controller=\"carousel-thumb\"\nexport default class extends Carousel {\n  connect() {\n    super.connect()\n\n    // The swiper instance.\n    this.swiper\n\n    // Default options for every carousels.\n    this.defaultOptions\n  }\n\n  // You can set default options in this getter.\n  get defaultOptions() {\n    return {\n      // Your default options here\n      \"navigation\": {\n        \"nextEl\": \".swiper-button-next\",\n        \"prevEl\": \".swiper-button-prev\"\n      },\n      \"pagination\": {\n        \"el\": \".swiper-pagination\",\n        \"clickable\": true,\n      },\n      \"thumbs\": {\n        \"swiper\": {\n          \"el\": \".swiper-thumbs\",\n          \"slidesPerView\": 3,\n          \"spaceBetween\": 10,\n          \"watchSlidesVisibility\": true,\n          \"watchSlidesProgress\": true,\n          \"breakpoints\": {\n          \"768\": {\n            \"slidesPerView\": 5\n          }\n        }\n        },\n      },\n      slidesPerView: 1,\n      keyboard: true,\n      loop: true,\n    }\n  }\n}\n", "import { Controller } from \"@hotwired/stimulus\";\n\n// Connects to data-controller=\"category-access\"\nexport default class extends Controller {\n  static targets = [\"toggle\", \"items\"]\n\n  connect() {\n    this.showFirstCategory();\n  }\n\n  tab(event) {\n    event.preventDefault();\n    const categoryId = event.currentTarget.dataset.categoryId;\n    const items = this.itemsTargets.find(\n      (items) => items.dataset.categoryId === categoryId\n    );\n\n    // Ocultar todas as outras categorias\n    this.itemsTargets.forEach(target => {\n      target.classList.add(\"hidden\");\n    });\n\n    // Mostrar a categoria selecionada\n    items.classList.remove(\"hidden\");\n  }\n\n  showFirstCategory() {\n    if (this.itemsTargets.length > 0) {\n      this.itemsTargets[0].classList.remove(\"hidden\");\n    }\n  }\n}\n", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n  connect() {\n    this.element.textContent = \"Hello World!\"\n  }\n}\n", "import { Controller } from \"@hotwired/stimulus\"\n// import 'lightgallery/css/lightgallery.css'\nimport lightGallery from \"lightgallery\"\n\nexport default class extends Controller {\n  static values = {\n    options: Object,\n  }\n\n  connect() {\n    // console.log(\"testando lightbox arquivo ljh,kn\")\n    this.lightGallery = lightGallery(this.element, {\n      ...this.defaultOptions,\n      ...this.optionsValue,\n    })\n  }\n\n  disconnect() {\n    this.lightGallery.destroy()\n  }\n\n  get defaultOptions() {\n    return {}\n  }\n}\n", "// This file is auto-generated by ./bin/rails stimulus:manifest:update\n// Run that command whenever you add a new controller or create them with\n// ./bin/rails generate stimulus controllerName\n\nimport { application } from \"./application\"\n\nimport BiddingController from \"./bidding_controller\"\napplication.register(\"bidding\", BiddingController)\n\nimport CarouselController from \"./carousel_controller\"\napplication.register(\"carousel\", CarouselController)\n\nimport CarouselThumbController from \"./carousel_thumb_controller\"\napplication.register(\"carousel-thumb\", CarouselThumbController)\n\nimport CategoryAccessController from \"./category_access_controller\"\napplication.register(\"category-access\", CategoryAccessController)\n\nimport HelloController from \"./hello_controller\"\napplication.register(\"hello\", HelloController)\n\nimport LightboxController from \"./lightbox_controller\"\napplication.register(\"lightbox\", LightboxController)\n\nimport LoadingController from \"./loading_controller\"\napplication.register(\"loading\", LoadingController)\n\nimport NavbarController from \"./navbar_controller\"\napplication.register(\"navbar\", NavbarController)\n\nimport NotificationController from \"./notification_controller\"\napplication.register(\"notification\", NotificationController)\n\nimport PortifolioCategoryController from \"./portifolio_category_controller\"\napplication.register(\"portifolio-category\", PortifolioCategoryController)\n\nimport ScrollActiveController from \"./scroll_active_controller\"\napplication.register(\"scroll-active\", ScrollActiveController)\n\nimport ServiceCategoryController from \"./service_category_controller\"\napplication.register(\"service-category\", ServiceCategoryController)\n\nimport SlideBannerController from \"./slide_banner_controller\"\napplication.register(\"slide-banner\", SlideBannerController)\n\nimport SlideBlogController from \"./slide_blog_controller\"\napplication.register(\"slide-blog\", SlideBlogController)\n\nimport SlideClientController from \"./slide_client_controller\"\napplication.register(\"slide-client\", SlideClientController)\n\nimport SlideNewsController from \"./slide_news_controller\"\napplication.register(\"slide-news\", SlideNewsController)\n\nimport SlideTestimonyController from \"./slide_testimony_controller\"\napplication.register(\"slide-testimony\", SlideTestimonyController)\n\nimport VideoController from \"./video_controller\"\napplication.register(\"video\", VideoController)\n", "import { Controller } from \"@hotwired/stimulus\";\n\nexport default class extends Controller {\n  connect() {\n    const mobileMenuButton = document.getElementById('mobile-menu-button');\n    \n    const linkAbout = document.getElementById('link-about');\n    const linkNews = document.getElementById('link-news');\n    const mobileMenu = document.getElementById('mobile-menu');\n\n    mobileMenuButton.addEventListener('click', () => {\n      mobileMenu.classList.toggle('mobile-menu-visible');\n    });\n    linkAbout.addEventListener('click', () => {\n      mobileMenu.classList.toggle('mobile-menu-visible');\n    });\n    linkNews.addEventListener('click', () => {\n      mobileMenu.classList.toggle('mobile-menu-visible');\n    });\n\n    const navElement = document.getElementById('nav');\n\n    window.addEventListener('scroll', () => {\n      if (window.scrollY > 100) {\n        navElement.classList.add('blur-bg');\n      } else {\n        navElement.classList.remove('blur-bg');\n      }\n    });\n  }\n}\n", "/**! \n * hotkeys-js v3.10.2 \n * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies. \n * \n * Copyright (c) 2023 kenny wong <wowohoo@qq.com> \n * http://jaywcjlove.github.io/hotkeys \n * Licensed under the MIT license \n */\n\nvar isff = typeof navigator !== 'undefined' ? navigator.userAgent.toLowerCase().indexOf('firefox') > 0 : false; // \u7ED1\u5B9A\u4E8B\u4EF6\n\nfunction addEvent(object, event, method, useCapture) {\n  if (object.addEventListener) {\n    object.addEventListener(event, method, useCapture);\n  } else if (object.attachEvent) {\n    object.attachEvent(\"on\".concat(event), function () {\n      method(window.event);\n    });\n  }\n} // \u4FEE\u9970\u952E\u8F6C\u6362\u6210\u5BF9\u5E94\u7684\u952E\u7801\n\n\nfunction getMods(modifier, key) {\n  var mods = key.slice(0, key.length - 1);\n\n  for (var i = 0; i < mods.length; i++) {\n    mods[i] = modifier[mods[i].toLowerCase()];\n  }\n\n  return mods;\n} // \u5904\u7406\u4F20\u7684key\u5B57\u7B26\u4E32\u8F6C\u6362\u6210\u6570\u7EC4\n\n\nfunction getKeys(key) {\n  if (typeof key !== 'string') key = '';\n  key = key.replace(/\\s/g, ''); // \u5339\u914D\u4EFB\u4F55\u7A7A\u767D\u5B57\u7B26,\u5305\u62EC\u7A7A\u683C\u3001\u5236\u8868\u7B26\u3001\u6362\u9875\u7B26\u7B49\u7B49\n\n  var keys = key.split(','); // \u540C\u65F6\u8BBE\u7F6E\u591A\u4E2A\u5FEB\u6377\u952E\uFF0C\u4EE5','\u5206\u5272\n\n  var index = keys.lastIndexOf(''); // \u5FEB\u6377\u952E\u53EF\u80FD\u5305\u542B','\uFF0C\u9700\u7279\u6B8A\u5904\u7406\n\n  for (; index >= 0;) {\n    keys[index - 1] += ',';\n    keys.splice(index, 1);\n    index = keys.lastIndexOf('');\n  }\n\n  return keys;\n} // \u6BD4\u8F83\u4FEE\u9970\u952E\u7684\u6570\u7EC4\n\n\nfunction compareArray(a1, a2) {\n  var arr1 = a1.length >= a2.length ? a1 : a2;\n  var arr2 = a1.length >= a2.length ? a2 : a1;\n  var isIndex = true;\n\n  for (var i = 0; i < arr1.length; i++) {\n    if (arr2.indexOf(arr1[i]) === -1) isIndex = false;\n  }\n\n  return isIndex;\n}\n\nvar _keyMap = {\n  backspace: 8,\n  '\u232B': 8,\n  tab: 9,\n  clear: 12,\n  enter: 13,\n  '\u21A9': 13,\n  return: 13,\n  esc: 27,\n  escape: 27,\n  space: 32,\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n  del: 46,\n  delete: 46,\n  ins: 45,\n  insert: 45,\n  home: 36,\n  end: 35,\n  pageup: 33,\n  pagedown: 34,\n  capslock: 20,\n  num_0: 96,\n  num_1: 97,\n  num_2: 98,\n  num_3: 99,\n  num_4: 100,\n  num_5: 101,\n  num_6: 102,\n  num_7: 103,\n  num_8: 104,\n  num_9: 105,\n  num_multiply: 106,\n  num_add: 107,\n  num_enter: 108,\n  num_subtract: 109,\n  num_decimal: 110,\n  num_divide: 111,\n  '\u21EA': 20,\n  ',': 188,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '-': isff ? 173 : 189,\n  '=': isff ? 61 : 187,\n  ';': isff ? 59 : 186,\n  '\\'': 222,\n  '[': 219,\n  ']': 221,\n  '\\\\': 220\n}; // Modifier Keys\n\nvar _modifier = {\n  // shiftKey\n  '\u21E7': 16,\n  shift: 16,\n  // altKey\n  '\u2325': 18,\n  alt: 18,\n  option: 18,\n  // ctrlKey\n  '\u2303': 17,\n  ctrl: 17,\n  control: 17,\n  // metaKey\n  '\u2318': 91,\n  cmd: 91,\n  command: 91\n};\nvar modifierMap = {\n  16: 'shiftKey',\n  18: 'altKey',\n  17: 'ctrlKey',\n  91: 'metaKey',\n  shiftKey: 16,\n  ctrlKey: 17,\n  altKey: 18,\n  metaKey: 91\n};\nvar _mods = {\n  16: false,\n  18: false,\n  17: false,\n  91: false\n};\nvar _handlers = {}; // F1~F12 special key\n\nfor (var k = 1; k < 20; k++) {\n  _keyMap[\"f\".concat(k)] = 111 + k;\n}\n\nvar _downKeys = []; // \u8BB0\u5F55\u6441\u4E0B\u7684\u7ED1\u5B9A\u952E\n\nvar winListendFocus = false; // window\u662F\u5426\u5DF2\u7ECF\u76D1\u542C\u4E86focus\u4E8B\u4EF6\n\nvar _scope = 'all'; // \u9ED8\u8BA4\u70ED\u952E\u8303\u56F4\n\nvar elementHasBindEvent = []; // \u5DF2\u7ED1\u5B9A\u4E8B\u4EF6\u7684\u8282\u70B9\u8BB0\u5F55\n// \u8FD4\u56DE\u952E\u7801\n\nvar code = function code(x) {\n  return _keyMap[x.toLowerCase()] || _modifier[x.toLowerCase()] || x.toUpperCase().charCodeAt(0);\n};\n\nvar getKey = function getKey(x) {\n  return Object.keys(_keyMap).find(function (k) {\n    return _keyMap[k] === x;\n  });\n};\n\nvar getModifier = function getModifier(x) {\n  return Object.keys(_modifier).find(function (k) {\n    return _modifier[k] === x;\n  });\n}; // \u8BBE\u7F6E\u83B7\u53D6\u5F53\u524D\u8303\u56F4\uFF08\u9ED8\u8BA4\u4E3A'\u6240\u6709'\uFF09\n\n\nfunction setScope(scope) {\n  _scope = scope || 'all';\n} // \u83B7\u53D6\u5F53\u524D\u8303\u56F4\n\n\nfunction getScope() {\n  return _scope || 'all';\n} // \u83B7\u53D6\u6441\u4E0B\u7ED1\u5B9A\u952E\u7684\u952E\u503C\n\n\nfunction getPressedKeyCodes() {\n  return _downKeys.slice(0);\n}\n\nfunction getPressedKeyString() {\n  return _downKeys.map(function (c) {\n    return getKey(c) || getModifier(c) || String.fromCharCode(c);\n  });\n} // \u8868\u5355\u63A7\u4EF6\u63A7\u4EF6\u5224\u65AD \u8FD4\u56DE Boolean\n// hotkey is effective only when filter return true\n\n\nfunction filter(event) {\n  var target = event.target || event.srcElement;\n  var tagName = target.tagName;\n  var flag = true; // ignore: isContentEditable === 'true', <input> and <textarea> when readOnly state is false, <select>\n\n  if (target.isContentEditable || (tagName === 'INPUT' || tagName === 'TEXTAREA' || tagName === 'SELECT') && !target.readOnly) {\n    flag = false;\n  }\n\n  return flag;\n} // \u5224\u65AD\u6441\u4E0B\u7684\u952E\u662F\u5426\u4E3A\u67D0\u4E2A\u952E\uFF0C\u8FD4\u56DEtrue\u6216\u8005false\n\n\nfunction isPressed(keyCode) {\n  if (typeof keyCode === 'string') {\n    keyCode = code(keyCode); // \u8F6C\u6362\u6210\u952E\u7801\n  }\n\n  return _downKeys.indexOf(keyCode) !== -1;\n} // \u5FAA\u73AF\u5220\u9664handlers\u4E2D\u7684\u6240\u6709 scope(\u8303\u56F4)\n\n\nfunction deleteScope(scope, newScope) {\n  var handlers;\n  var i; // \u6CA1\u6709\u6307\u5B9Ascope\uFF0C\u83B7\u53D6scope\n\n  if (!scope) scope = getScope();\n\n  for (var key in _handlers) {\n    if (Object.prototype.hasOwnProperty.call(_handlers, key)) {\n      handlers = _handlers[key];\n\n      for (i = 0; i < handlers.length;) {\n        if (handlers[i].scope === scope) handlers.splice(i, 1);else i++;\n      }\n    }\n  } // \u5982\u679Cscope\u88AB\u5220\u9664\uFF0C\u5C06scope\u91CD\u7F6E\u4E3Aall\n\n\n  if (getScope() === scope) setScope(newScope || 'all');\n} // \u6E05\u9664\u4FEE\u9970\u952E\n\n\nfunction clearModifier(event) {\n  var key = event.keyCode || event.which || event.charCode;\n\n  var i = _downKeys.indexOf(key); // \u4ECE\u5217\u8868\u4E2D\u6E05\u9664\u6309\u538B\u8FC7\u7684\u952E\n\n\n  if (i >= 0) {\n    _downKeys.splice(i, 1);\n  } // \u7279\u6B8A\u5904\u7406 cmmand \u952E\uFF0C\u5728 cmmand \u7EC4\u5408\u5FEB\u6377\u952E keyup \u53EA\u6267\u884C\u4E00\u6B21\u7684\u95EE\u9898\n\n\n  if (event.key && event.key.toLowerCase() === 'meta') {\n    _downKeys.splice(0, _downKeys.length);\n  } // \u4FEE\u9970\u952E shiftKey altKey ctrlKey (command||metaKey) \u6E05\u9664\n\n\n  if (key === 93 || key === 224) key = 91;\n\n  if (key in _mods) {\n    _mods[key] = false; // \u5C06\u4FEE\u9970\u952E\u91CD\u7F6E\u4E3Afalse\n\n    for (var k in _modifier) {\n      if (_modifier[k] === key) hotkeys[k] = false;\n    }\n  }\n}\n\nfunction unbind(keysInfo) {\n  // unbind(), unbind all keys\n  if (typeof keysInfo === 'undefined') {\n    Object.keys(_handlers).forEach(function (key) {\n      return delete _handlers[key];\n    });\n  } else if (Array.isArray(keysInfo)) {\n    // support like : unbind([{key: 'ctrl+a', scope: 's1'}, {key: 'ctrl-a', scope: 's2', splitKey: '-'}])\n    keysInfo.forEach(function (info) {\n      if (info.key) eachUnbind(info);\n    });\n  } else if (typeof keysInfo === 'object') {\n    // support like unbind({key: 'ctrl+a, ctrl+b', scope:'abc'})\n    if (keysInfo.key) eachUnbind(keysInfo);\n  } else if (typeof keysInfo === 'string') {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    // support old method\n    // eslint-disable-line\n    var scope = args[0],\n        method = args[1];\n\n    if (typeof scope === 'function') {\n      method = scope;\n      scope = '';\n    }\n\n    eachUnbind({\n      key: keysInfo,\n      scope: scope,\n      method: method,\n      splitKey: '+'\n    });\n  }\n} // \u89E3\u9664\u7ED1\u5B9A\u67D0\u4E2A\u8303\u56F4\u7684\u5FEB\u6377\u952E\n\n\nvar eachUnbind = function eachUnbind(_ref) {\n  var key = _ref.key,\n      scope = _ref.scope,\n      method = _ref.method,\n      _ref$splitKey = _ref.splitKey,\n      splitKey = _ref$splitKey === void 0 ? '+' : _ref$splitKey;\n  var multipleKeys = getKeys(key);\n  multipleKeys.forEach(function (originKey) {\n    var unbindKeys = originKey.split(splitKey);\n    var len = unbindKeys.length;\n    var lastKey = unbindKeys[len - 1];\n    var keyCode = lastKey === '*' ? '*' : code(lastKey);\n    if (!_handlers[keyCode]) return; // \u5224\u65AD\u662F\u5426\u4F20\u5165\u8303\u56F4\uFF0C\u6CA1\u6709\u5C31\u83B7\u53D6\u8303\u56F4\n\n    if (!scope) scope = getScope();\n    var mods = len > 1 ? getMods(_modifier, unbindKeys) : [];\n    _handlers[keyCode] = _handlers[keyCode].filter(function (record) {\n      // \u901A\u8FC7\u51FD\u6570\u5224\u65AD\uFF0C\u662F\u5426\u89E3\u9664\u7ED1\u5B9A\uFF0C\u51FD\u6570\u76F8\u7B49\u76F4\u63A5\u8FD4\u56DE\n      var isMatchingMethod = method ? record.method === method : true;\n      return !(isMatchingMethod && record.scope === scope && compareArray(record.mods, mods));\n    });\n  });\n}; // \u5BF9\u76D1\u542C\u5BF9\u5E94\u5FEB\u6377\u952E\u7684\u56DE\u8C03\u51FD\u6570\u8FDB\u884C\u5904\u7406\n\n\nfunction eventHandler(event, handler, scope, element) {\n  if (handler.element !== element) {\n    return;\n  }\n\n  var modifiersMatch; // \u770B\u5B83\u662F\u5426\u5728\u5F53\u524D\u8303\u56F4\n\n  if (handler.scope === scope || handler.scope === 'all') {\n    // \u68C0\u67E5\u662F\u5426\u5339\u914D\u4FEE\u9970\u7B26\uFF08\u5982\u679C\u6709\u8FD4\u56DEtrue\uFF09\n    modifiersMatch = handler.mods.length > 0;\n\n    for (var y in _mods) {\n      if (Object.prototype.hasOwnProperty.call(_mods, y)) {\n        if (!_mods[y] && handler.mods.indexOf(+y) > -1 || _mods[y] && handler.mods.indexOf(+y) === -1) {\n          modifiersMatch = false;\n        }\n      }\n    } // \u8C03\u7528\u5904\u7406\u7A0B\u5E8F\uFF0C\u5982\u679C\u662F\u4FEE\u9970\u952E\u4E0D\u505A\u5904\u7406\n\n\n    if (handler.mods.length === 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91] || modifiersMatch || handler.shortcut === '*') {\n      if (handler.method(event, handler) === false) {\n        if (event.preventDefault) event.preventDefault();else event.returnValue = false;\n        if (event.stopPropagation) event.stopPropagation();\n        if (event.cancelBubble) event.cancelBubble = true;\n      }\n    }\n  }\n} // \u5904\u7406keydown\u4E8B\u4EF6\n\n\nfunction dispatch(event, element) {\n  var asterisk = _handlers['*'];\n  var key = event.keyCode || event.which || event.charCode; // \u8868\u5355\u63A7\u4EF6\u8FC7\u6EE4 \u9ED8\u8BA4\u8868\u5355\u63A7\u4EF6\u4E0D\u89E6\u53D1\u5FEB\u6377\u952E\n\n  if (!hotkeys.filter.call(this, event)) return; // Gecko(Firefox)\u7684command\u952E\u503C224\uFF0C\u5728Webkit(Chrome)\u4E2D\u4FDD\u6301\u4E00\u81F4\n  // Webkit\u5DE6\u53F3 command \u952E\u503C\u4E0D\u4E00\u6837\n\n  if (key === 93 || key === 224) key = 91;\n  /**\n   * Collect bound keys\n   * If an Input Method Editor is processing key input and the event is keydown, return 229.\n   * https://stackoverflow.com/questions/25043934/is-it-ok-to-ignore-keydown-events-with-keycode-229\n   * http://lists.w3.org/Archives/Public/www-dom/2010JulSep/att-0182/keyCode-spec.html\n   */\n\n  if (_downKeys.indexOf(key) === -1 && key !== 229) _downKeys.push(key);\n  /**\n   * Jest test cases are required.\n   * ===============================\n   */\n\n  ['ctrlKey', 'altKey', 'shiftKey', 'metaKey'].forEach(function (keyName) {\n    var keyNum = modifierMap[keyName];\n\n    if (event[keyName] && _downKeys.indexOf(keyNum) === -1) {\n      _downKeys.push(keyNum);\n    } else if (!event[keyName] && _downKeys.indexOf(keyNum) > -1) {\n      _downKeys.splice(_downKeys.indexOf(keyNum), 1);\n    } else if (keyName === 'metaKey' && event[keyName] && _downKeys.length === 3) {\n      /**\n       * Fix if Command is pressed:\n       * ===============================\n       */\n      if (!(event.ctrlKey || event.shiftKey || event.altKey)) {\n        _downKeys = _downKeys.slice(_downKeys.indexOf(keyNum));\n      }\n    }\n  });\n  /**\n   * -------------------------------\n   */\n\n  if (key in _mods) {\n    _mods[key] = true; // \u5C06\u7279\u6B8A\u5B57\u7B26\u7684key\u6CE8\u518C\u5230 hotkeys \u4E0A\n\n    for (var k in _modifier) {\n      if (_modifier[k] === key) hotkeys[k] = true;\n    }\n\n    if (!asterisk) return;\n  } // \u5C06 modifierMap \u91CC\u9762\u7684\u4FEE\u9970\u952E\u7ED1\u5B9A\u5230 event \u4E2D\n\n\n  for (var e in _mods) {\n    if (Object.prototype.hasOwnProperty.call(_mods, e)) {\n      _mods[e] = event[modifierMap[e]];\n    }\n  }\n  /**\n   * https://github.com/jaywcjlove/hotkeys/pull/129\n   * This solves the issue in Firefox on Windows where hotkeys corresponding to special characters would not trigger.\n   * An example of this is ctrl+alt+m on a Swedish keyboard which is used to type \u03BC.\n   * Browser support: https://caniuse.com/#feat=keyboardevent-getmodifierstate\n   */\n\n\n  if (event.getModifierState && !(event.altKey && !event.ctrlKey) && event.getModifierState('AltGraph')) {\n    if (_downKeys.indexOf(17) === -1) {\n      _downKeys.push(17);\n    }\n\n    if (_downKeys.indexOf(18) === -1) {\n      _downKeys.push(18);\n    }\n\n    _mods[17] = true;\n    _mods[18] = true;\n  } // \u83B7\u53D6\u8303\u56F4 \u9ED8\u8BA4\u4E3A `all`\n\n\n  var scope = getScope(); // \u5BF9\u4EFB\u4F55\u5FEB\u6377\u952E\u90FD\u9700\u8981\u505A\u7684\u5904\u7406\n\n  if (asterisk) {\n    for (var i = 0; i < asterisk.length; i++) {\n      if (asterisk[i].scope === scope && (event.type === 'keydown' && asterisk[i].keydown || event.type === 'keyup' && asterisk[i].keyup)) {\n        eventHandler(event, asterisk[i], scope, element);\n      }\n    }\n  } // key \u4E0D\u5728 _handlers \u4E2D\u8FD4\u56DE\n\n\n  if (!(key in _handlers)) return;\n\n  for (var _i = 0; _i < _handlers[key].length; _i++) {\n    if (event.type === 'keydown' && _handlers[key][_i].keydown || event.type === 'keyup' && _handlers[key][_i].keyup) {\n      if (_handlers[key][_i].key) {\n        var record = _handlers[key][_i];\n        var splitKey = record.splitKey;\n        var keyShortcut = record.key.split(splitKey);\n        var _downKeysCurrent = []; // \u8BB0\u5F55\u5F53\u524D\u6309\u952E\u952E\u503C\n\n        for (var a = 0; a < keyShortcut.length; a++) {\n          _downKeysCurrent.push(code(keyShortcut[a]));\n        }\n\n        if (_downKeysCurrent.sort().join('') === _downKeys.sort().join('')) {\n          // \u627E\u5230\u5904\u7406\u5185\u5BB9\n          eventHandler(event, record, scope, element);\n        }\n      }\n    }\n  }\n} // \u5224\u65AD element \u662F\u5426\u5DF2\u7ECF\u7ED1\u5B9A\u4E8B\u4EF6\n\n\nfunction isElementBind(element) {\n  return elementHasBindEvent.indexOf(element) > -1;\n}\n\nfunction hotkeys(key, option, method) {\n  _downKeys = [];\n  var keys = getKeys(key); // \u9700\u8981\u5904\u7406\u7684\u5FEB\u6377\u952E\u5217\u8868\n\n  var mods = [];\n  var scope = 'all'; // scope\u9ED8\u8BA4\u4E3Aall\uFF0C\u6240\u6709\u8303\u56F4\u90FD\u6709\u6548\n\n  var element = document; // \u5FEB\u6377\u952E\u4E8B\u4EF6\u7ED1\u5B9A\u8282\u70B9\n\n  var i = 0;\n  var keyup = false;\n  var keydown = true;\n  var splitKey = '+';\n  var capture = false; // \u5BF9\u4E3A\u8BBE\u5B9A\u8303\u56F4\u7684\u5224\u65AD\n\n  if (method === undefined && typeof option === 'function') {\n    method = option;\n  }\n\n  if (Object.prototype.toString.call(option) === '[object Object]') {\n    if (option.scope) scope = option.scope; // eslint-disable-line\n\n    if (option.element) element = option.element; // eslint-disable-line\n\n    if (option.keyup) keyup = option.keyup; // eslint-disable-line\n\n    if (option.keydown !== undefined) keydown = option.keydown; // eslint-disable-line\n\n    if (option.capture !== undefined) capture = option.capture; // eslint-disable-line\n\n    if (typeof option.splitKey === 'string') splitKey = option.splitKey; // eslint-disable-line\n  }\n\n  if (typeof option === 'string') scope = option; // \u5BF9\u4E8E\u6BCF\u4E2A\u5FEB\u6377\u952E\u8FDB\u884C\u5904\u7406\n\n  for (; i < keys.length; i++) {\n    key = keys[i].split(splitKey); // \u6309\u952E\u5217\u8868\n\n    mods = []; // \u5982\u679C\u662F\u7EC4\u5408\u5FEB\u6377\u952E\u53D6\u5F97\u7EC4\u5408\u5FEB\u6377\u952E\n\n    if (key.length > 1) mods = getMods(_modifier, key); // \u5C06\u975E\u4FEE\u9970\u952E\u8F6C\u5316\u4E3A\u952E\u7801\n\n    key = key[key.length - 1];\n    key = key === '*' ? '*' : code(key); // *\u8868\u793A\u5339\u914D\u6240\u6709\u5FEB\u6377\u952E\n    // \u5224\u65ADkey\u662F\u5426\u5728_handlers\u4E2D\uFF0C\u4E0D\u5728\u5C31\u8D4B\u4E00\u4E2A\u7A7A\u6570\u7EC4\n\n    if (!(key in _handlers)) _handlers[key] = [];\n\n    _handlers[key].push({\n      keyup: keyup,\n      keydown: keydown,\n      scope: scope,\n      mods: mods,\n      shortcut: keys[i],\n      method: method,\n      key: keys[i],\n      splitKey: splitKey,\n      element: element\n    });\n  } // \u5728\u5168\u5C40document\u4E0A\u8BBE\u7F6E\u5FEB\u6377\u952E\n\n\n  if (typeof element !== 'undefined' && !isElementBind(element) && window) {\n    elementHasBindEvent.push(element);\n    addEvent(element, 'keydown', function (e) {\n      dispatch(e, element);\n    }, capture);\n\n    if (!winListendFocus) {\n      winListendFocus = true;\n      addEvent(window, 'focus', function () {\n        _downKeys = [];\n      }, capture);\n    }\n\n    addEvent(element, 'keyup', function (e) {\n      dispatch(e, element);\n      clearModifier(e);\n    }, capture);\n  }\n}\n\nfunction trigger(shortcut) {\n  var scope = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'all';\n  Object.keys(_handlers).forEach(function (key) {\n    var dataList = _handlers[key].filter(function (item) {\n      return item.scope === scope && item.shortcut === shortcut;\n    });\n\n    dataList.forEach(function (data) {\n      if (data && data.method) {\n        data.method();\n      }\n    });\n  });\n}\n\nvar _api = {\n  getPressedKeyString: getPressedKeyString,\n  setScope: setScope,\n  getScope: getScope,\n  deleteScope: deleteScope,\n  getPressedKeyCodes: getPressedKeyCodes,\n  isPressed: isPressed,\n  filter: filter,\n  trigger: trigger,\n  unbind: unbind,\n  keyMap: _keyMap,\n  modifier: _modifier,\n  modifierMap: modifierMap\n};\n\nfor (var a in _api) {\n  if (Object.prototype.hasOwnProperty.call(_api, a)) {\n    hotkeys[a] = _api[a];\n  }\n}\n\nif (typeof window !== 'undefined') {\n  var _hotkeys = window.hotkeys;\n\n  hotkeys.noConflict = function (deep) {\n    if (deep && window.hotkeys === hotkeys) {\n      window.hotkeys = _hotkeys;\n    }\n\n    return hotkeys;\n  };\n\n  window.hotkeys = hotkeys;\n}\n\nexport { hotkeys as default };\n", "/*\nStimulus-Use 0.51.3\n*/\nimport { Controller } from '@hotwired/stimulus';\nimport hotkeys from 'hotkeys-js';\n\nconst method = (controller, methodName) => {\n    const method = controller[methodName];\n    if (typeof method == 'function') {\n        return method;\n    }\n    else {\n        return (...args) => { };\n    }\n};\nconst composeEventName = (name, controller, eventPrefix) => {\n    let composedName = name;\n    if (eventPrefix === true) {\n        composedName = `${controller.identifier}:${name}`;\n    }\n    else if (typeof eventPrefix === 'string') {\n        composedName = `${eventPrefix}:${name}`;\n    }\n    return composedName;\n};\nconst extendedEvent = (type, event, detail) => {\n    const { bubbles, cancelable, composed } = event || { bubbles: true, cancelable: true, composed: true };\n    if (event) {\n        Object.assign(detail, { originalEvent: event });\n    }\n    const customEvent = new CustomEvent(type, {\n        bubbles,\n        cancelable,\n        composed,\n        detail\n    });\n    return customEvent;\n};\nfunction isElementInViewport(el) {\n    const rect = el.getBoundingClientRect();\n    const windowHeight = window.innerHeight || document.documentElement.clientHeight;\n    const windowWidth = window.innerWidth || document.documentElement.clientWidth;\n    const vertInView = rect.top <= windowHeight && rect.top + rect.height > 0;\n    const horInView = rect.left <= windowWidth && rect.left + rect.width > 0;\n    return vertInView && horInView;\n}\nfunction camelize(value) {\n    return value.replace(/(?:[_-])([a-z0-9])/g, (_, char) => char.toUpperCase());\n}\n\nconst defaultOptions$8 = {\n    dispatchEvent: true,\n    eventPrefix: true,\n    visibleAttribute: 'isVisible'\n};\nconst useIntersection = (composableController, options = {}) => {\n    const controller = composableController;\n    const { dispatchEvent, eventPrefix, visibleAttribute } = Object.assign({}, defaultOptions$8, options);\n    const targetElement = (options === null || options === void 0 ? void 0 : options.element) || controller.element;\n    if (!controller.intersectionElements)\n        controller.intersectionElements = [];\n    controller.intersectionElements.push(targetElement);\n    const callback = (entries) => {\n        const [entry] = entries;\n        if (entry.isIntersecting) {\n            dispatchAppear(entry);\n        }\n        else if (targetElement.hasAttribute(visibleAttribute)) {\n            dispatchDisappear(entry);\n        }\n    };\n    const dispatchAppear = (entry) => {\n        targetElement.setAttribute(visibleAttribute, 'true');\n        method(controller, 'appear').call(controller, entry);\n        if (dispatchEvent) {\n            const eventName = composeEventName('appear', controller, eventPrefix);\n            const appearEvent = extendedEvent(eventName, null, { controller, entry });\n            targetElement.dispatchEvent(appearEvent);\n        }\n    };\n    const dispatchDisappear = (entry) => {\n        targetElement.removeAttribute(visibleAttribute);\n        method(controller, 'disappear').call(controller, entry);\n        if (dispatchEvent) {\n            const eventName = composeEventName('disappear', controller, eventPrefix);\n            const disappearEvent = extendedEvent(eventName, null, { controller, entry });\n            targetElement.dispatchEvent(disappearEvent);\n        }\n    };\n    const controllerDisconnect = controller.disconnect.bind(controller);\n    const observer = new IntersectionObserver(callback, options);\n    const observe = () => {\n        observer.observe(targetElement);\n    };\n    const unobserve = () => {\n        observer.unobserve(targetElement);\n    };\n    const noneVisible = () => {\n        return controller.intersectionElements.filter(element => element.hasAttribute(visibleAttribute)).length === 0;\n    };\n    const oneVisible = () => {\n        return controller.intersectionElements.filter(element => element.hasAttribute(visibleAttribute)).length === 1;\n    };\n    const atLeastOneVisible = () => {\n        return controller.intersectionElements.some(element => element.hasAttribute(visibleAttribute));\n    };\n    const allVisible = () => {\n        return controller.intersectionElements.every(element => element.hasAttribute(visibleAttribute));\n    };\n    const isVisible = allVisible;\n    Object.assign(controller, {\n        isVisible,\n        noneVisible,\n        oneVisible,\n        atLeastOneVisible,\n        allVisible,\n        disconnect() {\n            unobserve();\n            controllerDisconnect();\n        }\n    });\n    observe();\n    return [observe, unobserve];\n};\n\nclass IntersectionComposableController extends Controller {\n}\nclass IntersectionController extends IntersectionComposableController {\n    constructor(context) {\n        super(context);\n        requestAnimationFrame(() => {\n            const [observe, unobserve] = useIntersection(this, this.options);\n            Object.assign(this, { observe, unobserve });\n        });\n    }\n}\n\nconst useLazyLoad = (controller, options) => {\n    const callback = (entries) => {\n        const [entry] = entries;\n        if (entry.isIntersecting && !controller.isLoaded) {\n            handleAppear();\n        }\n    };\n    const handleAppear = (entry) => {\n        const src = controller.data.get('src');\n        if (!src)\n            return;\n        const imageElement = controller.element;\n        controller.isLoading = true;\n        method(controller, 'loading').call(controller, src);\n        imageElement.onload = () => {\n            handleLoaded(src);\n        };\n        imageElement.src = src;\n    };\n    const handleLoaded = (src) => {\n        controller.isLoading = false;\n        controller.isLoaded = true;\n        method(controller, 'loaded').call(controller, src);\n    };\n    const controllerDisconnect = controller.disconnect.bind(controller);\n    const observer = new IntersectionObserver(callback, options);\n    const observe = () => {\n        observer.observe(controller.element);\n    };\n    const unobserve = () => {\n        observer.unobserve(controller.element);\n    };\n    Object.assign(controller, {\n        isVisible: false,\n        disconnect() {\n            unobserve();\n            controllerDisconnect();\n        }\n    });\n    observe();\n    return [observe, unobserve];\n};\n\nclass LazyLoadComposableController extends Controller {\n    constructor() {\n        super(...arguments);\n        this.isLoading = false;\n        this.isLoaded = false;\n    }\n}\nclass LazyLoadController extends LazyLoadComposableController {\n    constructor(context) {\n        super(context);\n        this.options = { rootMargin: '10%' };\n        requestAnimationFrame(() => {\n            const [observe, unobserve] = useLazyLoad(this, this.options);\n            Object.assign(this, { observe, unobserve });\n        });\n    }\n}\n\nconst defaultOptions$7 = {\n    dispatchEvent: true,\n    eventPrefix: true\n};\nconst useResize = (composableController, options = {}) => {\n    const controller = composableController;\n    const { dispatchEvent, eventPrefix } = Object.assign({}, defaultOptions$7, options);\n    const targetElement = (options === null || options === void 0 ? void 0 : options.element) || controller.element;\n    const callback = (entries) => {\n        const [entry] = entries;\n        method(controller, 'resize').call(controller, entry.contentRect);\n        if (dispatchEvent) {\n            const eventName = composeEventName('resize', controller, eventPrefix);\n            const appearEvent = extendedEvent(eventName, null, {\n                controller,\n                entry\n            });\n            targetElement.dispatchEvent(appearEvent);\n        }\n    };\n    const controllerDisconnect = controller.disconnect.bind(controller);\n    const observer = new ResizeObserver(callback);\n    const observe = () => {\n        observer.observe(targetElement);\n    };\n    const unobserve = () => {\n        observer.unobserve(targetElement);\n    };\n    Object.assign(controller, {\n        disconnect() {\n            unobserve();\n            controllerDisconnect();\n        }\n    });\n    observe();\n    return [observe, unobserve];\n};\n\nclass ResizeComposableController extends Controller {\n}\nclass ResizeController extends ResizeComposableController {\n    constructor(context) {\n        super(context);\n        requestAnimationFrame(() => {\n            const [observe, unobserve] = useResize(this, this.options);\n            Object.assign(this, { observe, unobserve });\n        });\n    }\n}\n\nconst defaultOptions$6 = {\n    events: ['click', 'touchend'],\n    onlyVisible: true,\n    dispatchEvent: true,\n    eventPrefix: true\n};\nconst useClickOutside = (composableController, options = {}) => {\n    const controller = composableController;\n    const { onlyVisible, dispatchEvent, events, eventPrefix } = Object.assign({}, defaultOptions$6, options);\n    const onEvent = (event) => {\n        const targetElement = (options === null || options === void 0 ? void 0 : options.element) || controller.element;\n        if (targetElement.contains(event.target) || (!isElementInViewport(targetElement) && onlyVisible)) {\n            return;\n        }\n        if (controller.clickOutside) {\n            controller.clickOutside(event);\n        }\n        if (dispatchEvent) {\n            const eventName = composeEventName('click:outside', controller, eventPrefix);\n            const clickOutsideEvent = extendedEvent(eventName, event, { controller });\n            targetElement.dispatchEvent(clickOutsideEvent);\n        }\n    };\n    const observe = () => {\n        events === null || events === void 0 ? void 0 : events.forEach(event => {\n            window.addEventListener(event, onEvent, false);\n        });\n    };\n    const unobserve = () => {\n        events === null || events === void 0 ? void 0 : events.forEach(event => {\n            window.removeEventListener(event, onEvent, false);\n        });\n    };\n    const controllerDisconnect = controller.disconnect.bind(controller);\n    Object.assign(controller, {\n        disconnect() {\n            unobserve();\n            controllerDisconnect();\n        }\n    });\n    observe();\n    return [observe, unobserve];\n};\n\nclass ClickOutsideComposableController extends Controller {\n}\nclass ClickOutsideController extends ClickOutsideComposableController {\n    constructor(context) {\n        super(context);\n        requestAnimationFrame(() => {\n            const [observe, unobserve] = useClickOutside(this, this.options);\n            Object.assign(this, { observe, unobserve });\n        });\n    }\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nconst defaultOptions$5 = {\n    debug: false,\n    logger: console,\n    dispatchEvent: true,\n    eventPrefix: true\n};\nclass StimulusUse {\n    constructor(controller, options = {}) {\n        var _a, _b, _c;\n        this.log = (functionName, args) => {\n            if (!this.debug)\n                return;\n            this.logger.groupCollapsed(`%c${this.controller.identifier} %c#${functionName}`, 'color: #3B82F6', 'color: unset');\n            this.logger.log(Object.assign({ controllerId: this.controllerId }, args));\n            this.logger.groupEnd();\n        };\n        this.warn = (message) => {\n            this.logger.warn(`%c${this.controller.identifier} %c${message}`, 'color: #3B82F6; font-weight: bold', 'color: unset');\n        };\n        this.dispatch = (eventName, details = {}) => {\n            if (this.dispatchEvent) {\n                const { event } = details, eventDetails = __rest(details, [\"event\"]);\n                const customEvent = this.extendedEvent(eventName, event || null, eventDetails);\n                this.targetElement.dispatchEvent(customEvent);\n                this.log('dispatchEvent', Object.assign({ eventName: customEvent.type }, eventDetails));\n            }\n        };\n        this.call = (methodName, args = {}) => {\n            const method = this.controller[methodName];\n            if (typeof method == 'function') {\n                return method.call(this.controller, args);\n            }\n        };\n        this.extendedEvent = (name, event, detail) => {\n            const { bubbles, cancelable, composed } = event || { bubbles: true, cancelable: true, composed: true };\n            if (event) {\n                Object.assign(detail, { originalEvent: event });\n            }\n            const customEvent = new CustomEvent(this.composeEventName(name), {\n                bubbles,\n                cancelable,\n                composed,\n                detail\n            });\n            return customEvent;\n        };\n        this.composeEventName = (name) => {\n            let composedName = name;\n            if (this.eventPrefix === true) {\n                composedName = `${this.controller.identifier}:${name}`;\n            }\n            else if (typeof this.eventPrefix === 'string') {\n                composedName = `${this.eventPrefix}:${name}`;\n            }\n            return composedName;\n        };\n        this.debug = (_b = (_a = options === null || options === void 0 ? void 0 : options.debug) !== null && _a !== void 0 ? _a : controller.application.stimulusUseDebug) !== null && _b !== void 0 ? _b : defaultOptions$5.debug;\n        this.logger = (_c = options === null || options === void 0 ? void 0 : options.logger) !== null && _c !== void 0 ? _c : defaultOptions$5.logger;\n        this.controller = controller;\n        this.controllerId = controller.element.id || controller.element.dataset.id;\n        this.targetElement = (options === null || options === void 0 ? void 0 : options.element) || controller.element;\n        const { dispatchEvent, eventPrefix } = Object.assign({}, defaultOptions$5, options);\n        Object.assign(this, { dispatchEvent, eventPrefix });\n        this.controllerInitialize = controller.initialize.bind(controller);\n        this.controllerConnect = controller.connect.bind(controller);\n        this.controllerDisconnect = controller.disconnect.bind(controller);\n    }\n}\n\nconst defaultOptions$4 = {\n    eventPrefix: true,\n    bubbles: true,\n    cancelable: true\n};\nclass UseDispatch extends StimulusUse {\n    constructor(controller, options = {}) {\n        var _a, _b, _c, _d;\n        super(controller, options);\n        this.dispatch = (eventName, detail = {}) => {\n            const { controller, targetElement, eventPrefix, bubbles, cancelable, log, warn } = this;\n            Object.assign(detail, { controller });\n            const eventNameWithPrefix = composeEventName(eventName, this.controller, eventPrefix);\n            const event = new CustomEvent(eventNameWithPrefix, {\n                detail,\n                bubbles,\n                cancelable\n            });\n            targetElement.dispatchEvent(event);\n            warn('`useDispatch()` is deprecated. Please use the built-in `this.dispatch()` function from Stimulus. You can find more information on how to upgrade at: https://stimulus-use.github.io/stimulus-use/#/use-dispatch');\n            log('dispatch', { eventName: eventNameWithPrefix, detail, bubbles, cancelable });\n            return event;\n        };\n        this.targetElement = (_a = options.element) !== null && _a !== void 0 ? _a : controller.element;\n        this.eventPrefix = (_b = options.eventPrefix) !== null && _b !== void 0 ? _b : defaultOptions$4.eventPrefix;\n        this.bubbles = (_c = options.bubbles) !== null && _c !== void 0 ? _c : defaultOptions$4.bubbles;\n        this.cancelable = (_d = options.cancelable) !== null && _d !== void 0 ? _d : defaultOptions$4.cancelable;\n        this.enhanceController();\n    }\n    enhanceController() {\n        Object.assign(this.controller, { dispatch: this.dispatch });\n    }\n}\nconst useDispatch = (controller, options = {}) => {\n    return new UseDispatch(controller, options);\n};\n\nconst defaultOptions$3 = {\n    overwriteDispatch: true\n};\nconst useApplication = (controller, options = {}) => {\n    const { overwriteDispatch } = Object.assign({}, defaultOptions$3, options);\n    Object.defineProperty(controller, 'isPreview', {\n        get() {\n            return (document.documentElement.hasAttribute('data-turbolinks-preview') ||\n                document.documentElement.hasAttribute('data-turbo-preview'));\n        }\n    });\n    Object.defineProperty(controller, 'isConnected', {\n        get() {\n            return !!Array.from(this.context.module.connectedContexts).find(c => c === this.context);\n        }\n    });\n    Object.defineProperty(controller, 'csrfToken', {\n        get() {\n            return this.metaValue('csrf-token');\n        }\n    });\n    if (overwriteDispatch) {\n        useDispatch(controller, options);\n    }\n    Object.assign(controller, {\n        metaValue(name) {\n            const element = document.head.querySelector(`meta[name=\"${name}\"]`);\n            return element && element.getAttribute('content');\n        }\n    });\n};\n\nclass ApplicationController extends Controller {\n    constructor(context) {\n        super(context);\n        this.isPreview = false;\n        this.isConnected = false;\n        this.csrfToken = '';\n        useApplication(this, this.options);\n    }\n}\n\nconst defaultEvents = ['mousemove', 'mousedown', 'resize', 'keydown', 'touchstart', 'wheel'];\nconst oneMinute = 60e3;\nconst defaultOptions$2 = {\n    ms: oneMinute,\n    initialState: false,\n    events: defaultEvents,\n    dispatchEvent: true,\n    eventPrefix: true\n};\nconst useIdle = (composableController, options = {}) => {\n    const controller = composableController;\n    const { ms, initialState, events, dispatchEvent, eventPrefix } = Object.assign({}, defaultOptions$2, options);\n    let isIdle = initialState;\n    let timeout = setTimeout(() => {\n        isIdle = true;\n        dispatchAway();\n    }, ms);\n    const dispatchAway = (event) => {\n        const eventName = composeEventName('away', controller, eventPrefix);\n        controller.isIdle = true;\n        method(controller, 'away').call(controller, event);\n        if (dispatchEvent) {\n            const clickOutsideEvent = extendedEvent(eventName, event || null, { controller });\n            controller.element.dispatchEvent(clickOutsideEvent);\n        }\n    };\n    const dispatchBack = (event) => {\n        const eventName = composeEventName('back', controller, eventPrefix);\n        controller.isIdle = false;\n        method(controller, 'back').call(controller, event);\n        if (dispatchEvent) {\n            const clickOutsideEvent = extendedEvent(eventName, event || null, { controller });\n            controller.element.dispatchEvent(clickOutsideEvent);\n        }\n    };\n    const onEvent = (event) => {\n        if (isIdle)\n            dispatchBack(event);\n        isIdle = false;\n        clearTimeout(timeout);\n        timeout = setTimeout(() => {\n            isIdle = true;\n            dispatchAway(event);\n        }, ms);\n    };\n    const onVisibility = (event) => {\n        if (!document.hidden)\n            onEvent(event);\n    };\n    if (isIdle) {\n        dispatchAway();\n    }\n    else {\n        dispatchBack();\n    }\n    const controllerDisconnect = controller.disconnect.bind(controller);\n    const observe = () => {\n        events.forEach(event => {\n            window.addEventListener(event, onEvent);\n        });\n        document.addEventListener('visibilitychange', onVisibility);\n    };\n    const unobserve = () => {\n        clearTimeout(timeout);\n        events.forEach(event => {\n            window.removeEventListener(event, onEvent);\n        });\n        document.removeEventListener('visibilitychange', onVisibility);\n    };\n    Object.assign(controller, {\n        disconnect() {\n            unobserve();\n            controllerDisconnect();\n        }\n    });\n    observe();\n    return [observe, unobserve];\n};\n\nclass IdleComposableController extends Controller {\n    constructor() {\n        super(...arguments);\n        this.isIdle = false;\n    }\n}\nclass IdleController extends IdleComposableController {\n    constructor(context) {\n        super(context);\n        requestAnimationFrame(() => {\n            const [observe, unobserve] = useIdle(this, this.options);\n            Object.assign(this, { observe, unobserve });\n        });\n    }\n}\n\nclass UseVisibility extends StimulusUse {\n    constructor(controller, options = {}) {\n        super(controller, options);\n        this.observe = () => {\n            this.controller.isVisible = !document.hidden;\n            document.addEventListener('visibilitychange', this.handleVisibilityChange);\n            this.handleVisibilityChange();\n        };\n        this.unobserve = () => {\n            document.removeEventListener('visibilitychange', this.handleVisibilityChange);\n        };\n        this.becomesInvisible = (event) => {\n            this.controller.isVisible = false;\n            this.call('invisible', event);\n            this.log('invisible', { isVisible: false });\n            this.dispatch('invisible', { event, isVisible: false });\n        };\n        this.becomesVisible = (event) => {\n            this.controller.isVisible = true;\n            this.call('visible', event);\n            this.log('visible', { isVisible: true });\n            this.dispatch('visible', { event, isVisible: true });\n        };\n        this.handleVisibilityChange = (event) => {\n            if (document.hidden) {\n                this.becomesInvisible(event);\n            }\n            else {\n                this.becomesVisible(event);\n            }\n        };\n        this.controller = controller;\n        this.enhanceController();\n        this.observe();\n    }\n    enhanceController() {\n        const controllerDisconnect = this.controllerDisconnect;\n        const disconnect = () => {\n            this.unobserve();\n            controllerDisconnect();\n        };\n        Object.assign(this.controller, { disconnect });\n    }\n}\nconst useVisibility = (composableController, options = {}) => {\n    const controller = composableController;\n    const observer = new UseVisibility(controller, options);\n    return [observer.observe, observer.unobserve];\n};\n\nclass VisibilityComposableController extends Controller {\n    constructor() {\n        super(...arguments);\n        this.isVisible = false;\n    }\n}\nclass VisibilityController extends VisibilityComposableController {\n    constructor(context) {\n        super(context);\n        requestAnimationFrame(() => {\n            const [observe, unobserve] = useVisibility(this, this.options);\n            Object.assign(this, { observe, unobserve });\n        });\n    }\n}\n\nclass UseHover extends StimulusUse {\n    constructor(controller, options = {}) {\n        super(controller, options);\n        this.observe = () => {\n            this.targetElement.addEventListener('mouseenter', this.onEnter);\n            this.targetElement.addEventListener('mouseleave', this.onLeave);\n        };\n        this.unobserve = () => {\n            this.targetElement.removeEventListener('mouseenter', this.onEnter);\n            this.targetElement.removeEventListener('mouseleave', this.onLeave);\n        };\n        this.onEnter = (event) => {\n            this.call('mouseEnter', event);\n            this.log('mouseEnter', { hover: true });\n            this.dispatch('mouseEnter', { hover: false });\n        };\n        this.onLeave = (event) => {\n            this.call('mouseLeave', event);\n            this.log('mouseLeave', { hover: false });\n            this.dispatch('mouseLeave', { hover: false });\n        };\n        this.controller = controller;\n        this.enhanceController();\n        this.observe();\n    }\n    enhanceController() {\n        const controllerDisconnect = this.controller.disconnect.bind(this.controller);\n        const disconnect = () => {\n            this.unobserve();\n            controllerDisconnect();\n        };\n        Object.assign(this.controller, { disconnect });\n    }\n}\nconst useHover = (composableController, options = {}) => {\n    const controller = composableController;\n    const observer = new UseHover(controller, options);\n    return [observer.observe, observer.unobserve];\n};\n\nclass HoverComposableController extends Controller {\n}\nclass HoverController extends HoverComposableController {\n    constructor(context) {\n        super(context);\n        requestAnimationFrame(() => {\n            const [observe, unobserve] = useHover(this, this.options);\n            Object.assign(this, { observe, unobserve });\n        });\n    }\n}\n\nclass UseMutation extends StimulusUse {\n    constructor(controller, options = {}) {\n        super(controller, options);\n        this.observe = () => {\n            try {\n                this.observer.observe(this.targetElement, this.options);\n            }\n            catch (error) {\n                this.controller.application.handleError(error, 'At a minimum, one of childList, attributes, and/or characterData must be true', {});\n            }\n        };\n        this.unobserve = () => {\n            this.observer.disconnect();\n        };\n        this.mutation = (entries) => {\n            this.call('mutate', entries);\n            this.log('mutate', { entries });\n            this.dispatch('mutate', { entries });\n        };\n        this.targetElement = (options === null || options === void 0 ? void 0 : options.element) || controller.element;\n        this.controller = controller;\n        this.options = options;\n        this.observer = new MutationObserver(this.mutation);\n        this.enhanceController();\n        this.observe();\n    }\n    enhanceController() {\n        const controllerDisconnect = this.controller.disconnect.bind(this.controller);\n        const disconnect = () => {\n            this.unobserve();\n            controllerDisconnect();\n        };\n        Object.assign(this.controller, { disconnect });\n    }\n}\nconst useMutation = (controller, options = {}) => {\n    const observer = new UseMutation(controller, options);\n    return [observer.observe, observer.unobserve];\n};\n\nclass MutationComposableController extends Controller {\n}\nclass MutationController extends MutationComposableController {\n    constructor(context) {\n        super(context);\n        requestAnimationFrame(() => {\n            const [observe, unobserve] = useMutation(this, this.options);\n            Object.assign(this, { observe, unobserve });\n        });\n    }\n}\n\nclass UseTargetMutation extends StimulusUse {\n    constructor(controller, options = {}) {\n        super(controller, options);\n        this.observe = () => {\n            this.observer.observe(this.targetElement, {\n                subtree: true,\n                characterData: true,\n                childList: true,\n                attributes: true,\n                attributeOldValue: true,\n                attributeFilter: [this.targetSelector, this.scopedTargetSelector]\n            });\n        };\n        this.unobserve = () => {\n            this.observer.disconnect();\n        };\n        this.mutation = (entries) => {\n            for (const mutation of entries) {\n                switch (mutation.type) {\n                    case 'attributes':\n                        let newValue = mutation.target.getAttribute(mutation.attributeName);\n                        let oldValue = mutation.oldValue;\n                        if (mutation.attributeName === this.targetSelector || mutation.attributeName === this.scopedTargetSelector) {\n                            let oldTargets = this.targetsUsedByThisController(oldValue);\n                            let newTargets = this.targetsUsedByThisController(newValue);\n                            let removedTargets = oldTargets.filter(target => !newTargets.includes(target));\n                            let addedTargets = newTargets.filter(target => !oldTargets.includes(target));\n                            removedTargets.forEach(target => this.targetRemoved(this.stripIdentifierPrefix(target), mutation.target, 'attributeChange'));\n                            addedTargets.forEach(target => this.targetAdded(this.stripIdentifierPrefix(target), mutation.target, 'attributeChange'));\n                        }\n                        break;\n                    case 'characterData':\n                        let nodule = this.findTargetInAncestry(mutation.target);\n                        if (nodule == null) {\n                            return;\n                        }\n                        else {\n                            let supportedTargets = this.targetsUsedByThisControllerFromNode(nodule);\n                            supportedTargets.forEach((target) => {\n                                this.targetChanged(this.stripIdentifierPrefix(target), nodule, 'domMutation');\n                            });\n                        }\n                        break;\n                    case 'childList':\n                        let { addedNodes, removedNodes } = mutation;\n                        addedNodes.forEach((node) => this.processNodeDOMMutation(node, this.targetAdded));\n                        removedNodes.forEach((node) => this.processNodeDOMMutation(node, this.targetRemoved));\n                        break;\n                }\n            }\n        };\n        this.controller = controller;\n        this.options = options;\n        this.targetElement = controller.element;\n        this.identifier = controller.scope.identifier;\n        this.identifierPrefix = `${this.identifier}.`;\n        this.targetSelector = controller.scope.schema.targetAttribute;\n        this.scopedTargetSelector = `data-${this.identifier}-target`;\n        this.targets = options.targets || controller.constructor.targets;\n        this.prefixedTargets = this.targets.map(target => `${this.identifierPrefix}${target}`);\n        this.observer = new MutationObserver(this.mutation);\n        this.enhanceController();\n        this.observe();\n    }\n    processNodeDOMMutation(node, initialChangeModeAssumption) {\n        let nodule = node;\n        let change = initialChangeModeAssumption;\n        let supportedTargets = [];\n        if (nodule.nodeName == '#text' || this.targetsUsedByThisControllerFromNode(nodule).length == 0) {\n            change = this.targetChanged;\n            nodule = this.findTargetInAncestry(node);\n        }\n        else {\n            supportedTargets = this.targetsUsedByThisControllerFromNode(nodule);\n        }\n        if (nodule == null) {\n            return;\n        }\n        else if (supportedTargets.length == 0) {\n            supportedTargets = this.targetsUsedByThisControllerFromNode(nodule);\n        }\n        supportedTargets.forEach((target) => {\n            change.call(this, this.stripIdentifierPrefix(target), nodule, 'domMutation');\n        });\n    }\n    findTargetInAncestry(node) {\n        let nodule = node;\n        let supportedTargets = [];\n        if (nodule.nodeName != '#text') {\n            supportedTargets = this.targetsUsedByThisControllerFromNode(nodule);\n        }\n        while (nodule.parentNode !== null && nodule.parentNode != this.targetElement && supportedTargets.length == 0) {\n            nodule = nodule.parentNode;\n            if (nodule.nodeName !== '#text') {\n                let supportedTargets = this.targetsUsedByThisControllerFromNode(nodule);\n                if (supportedTargets.length > 0) {\n                    return nodule;\n                }\n            }\n        }\n        if (nodule.nodeName == '#text') {\n            return null;\n        }\n        if (nodule.parentNode == null) {\n            return null;\n        }\n        if (nodule.parentNode == this.targetElement) {\n            if (this.targetsUsedByThisControllerFromNode(nodule).length > 0) {\n                return nodule;\n            }\n            return null;\n        }\n        return null;\n    }\n    targetAdded(name, node, trigger) {\n        let targetCallback = `${name}TargetAdded`;\n        this.controller[targetCallback] && method(this.controller, targetCallback).call(this.controller, node);\n        this.log('targetAdded', { target: name, node, trigger });\n    }\n    targetRemoved(name, node, trigger) {\n        let targetCallback = `${name}TargetRemoved`;\n        this.controller[targetCallback] && method(this.controller, targetCallback).call(this.controller, node);\n        this.log('targetRemoved', { target: name, node, trigger });\n    }\n    targetChanged(name, node, trigger) {\n        let targetCallback = `${name}TargetChanged`;\n        this.controller[targetCallback] && method(this.controller, targetCallback).call(this.controller, node);\n        this.log('targetChanged', { target: name, node, trigger });\n    }\n    targetsUsedByThisControllerFromNode(node) {\n        if (node.nodeName == '#text' || node.nodeName == '#comment') {\n            return [];\n        }\n        let nodeElement = node;\n        return this.targetsUsedByThisController(nodeElement.getAttribute(this.scopedTargetSelector) || nodeElement.getAttribute(this.targetSelector));\n    }\n    targetsUsedByThisController(targetStr) {\n        targetStr = targetStr || '';\n        let targetsToCheck = this.stripIdentifierPrefix(targetStr).split(' ');\n        return this.targets.filter(n => targetsToCheck.indexOf(n) !== -1);\n    }\n    stripIdentifierPrefix(target) {\n        return target.replace(new RegExp(this.identifierPrefix, 'g'), '');\n    }\n    enhanceController() {\n        const controllerDisconnect = this.controller.disconnect.bind(this.controller);\n        const disconnect = () => {\n            this.unobserve();\n            controllerDisconnect();\n        };\n        Object.assign(this.controller, { disconnect });\n    }\n}\nconst useTargetMutation = (composableController, options = {}) => {\n    const controller = composableController;\n    const observer = new UseTargetMutation(controller, options);\n    return [observer.observe, observer.unobserve];\n};\n\nclass TargetMutationComposableController extends Controller {\n}\nclass TargetMutationController extends TargetMutationComposableController {\n    constructor(context) {\n        super(context);\n        requestAnimationFrame(() => {\n            const [observe, unobserve] = useTargetMutation(this, this.options);\n            Object.assign(this, { observe, unobserve });\n        });\n    }\n}\n\nconst useWindowResize = (composableController) => {\n    const controller = composableController;\n    const callback = (event) => {\n        const { innerWidth, innerHeight } = window;\n        const payload = {\n            height: innerHeight || Infinity,\n            width: innerWidth || Infinity,\n            event\n        };\n        method(controller, 'windowResize').call(controller, payload);\n    };\n    const controllerDisconnect = controller.disconnect.bind(controller);\n    const observe = () => {\n        window.addEventListener('resize', callback);\n        callback();\n    };\n    const unobserve = () => {\n        window.removeEventListener('resize', callback);\n    };\n    Object.assign(controller, {\n        disconnect() {\n            unobserve();\n            controllerDisconnect();\n        }\n    });\n    observe();\n    return [observe, unobserve];\n};\n\nclass WindowResizeComposableController extends Controller {\n}\nclass WindowResizeController extends WindowResizeComposableController {\n    constructor(context) {\n        super(context);\n        requestAnimationFrame(() => {\n            const [observe, unobserve] = useWindowResize(this);\n            Object.assign(this, { observe, unobserve });\n        });\n    }\n}\n\nconst memoize = (controller, name, value) => {\n    Object.defineProperty(controller, name, { value });\n    return value;\n};\nconst useMemo = (controller) => {\n    var _a;\n    (_a = controller.constructor.memos) === null || _a === void 0 ? void 0 : _a.forEach((getter) => {\n        memoize(controller, getter, controller[getter]);\n    });\n};\n\nclass DebounceController extends Controller {\n}\nDebounceController.debounces = [];\nconst defaultWait$1 = 200;\nconst debounce = (fn, wait = defaultWait$1) => {\n    let timeoutId = null;\n    return function () {\n        const args = Array.from(arguments);\n        const context = this;\n        const params = args.map(arg => arg.params);\n        const callback = () => {\n            args.forEach((arg, index) => (arg.params = params[index]));\n            return fn.apply(context, args);\n        };\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n        timeoutId = setTimeout(callback, wait);\n    };\n};\nconst useDebounce = (composableController, options) => {\n    const controller = composableController;\n    const constructor = controller.constructor;\n    constructor.debounces.forEach((func) => {\n        if (typeof func === 'string') {\n            controller[func] = debounce(controller[func], options === null || options === void 0 ? void 0 : options.wait);\n        }\n        if (typeof func === 'object') {\n            const { name, wait } = func;\n            if (!name)\n                return;\n            controller[name] = debounce(controller[name], wait || (options === null || options === void 0 ? void 0 : options.wait));\n        }\n    });\n};\n\nclass ThrottleController extends Controller {\n}\nThrottleController.throttles = [];\nconst defaultWait = 200;\nfunction throttle(func, wait = defaultWait) {\n    let inThrottle;\n    return function () {\n        const args = arguments;\n        const context = this;\n        if (!inThrottle) {\n            inThrottle = true;\n            func.apply(context, args);\n            setTimeout(() => (inThrottle = false), wait);\n        }\n    };\n}\nconst useThrottle = (composableController, options = {}) => {\n    var _a;\n    const controller = composableController;\n    const constructor = controller.constructor;\n    (_a = constructor.throttles) === null || _a === void 0 ? void 0 : _a.forEach((func) => {\n        if (typeof func === 'string') {\n            controller[func] = throttle(controller[func], options === null || options === void 0 ? void 0 : options.wait);\n        }\n        if (typeof func === 'object') {\n            const { name, wait } = func;\n            if (!name)\n                return;\n            controller[name] = throttle(controller[name], wait || (options === null || options === void 0 ? void 0 : options.wait));\n        }\n    });\n};\n\nconst defineMetaGetter = (controller, metaName, suffix) => {\n    const getterName = suffix ? `${camelize(metaName)}Meta` : camelize(metaName);\n    Object.defineProperty(controller, getterName, {\n        get() {\n            return typeCast(metaValue(metaName));\n        }\n    });\n};\nfunction metaValue(name) {\n    const element = document.head.querySelector(`meta[name=\"${name}\"]`);\n    return element && element.getAttribute('content');\n}\nfunction typeCast(value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (o_O) {\n        return value;\n    }\n}\nconst useMeta = (controller, options = { suffix: true }) => {\n    const metaNames = controller.constructor.metaNames;\n    const suffix = options.suffix;\n    metaNames === null || metaNames === void 0 ? void 0 : metaNames.forEach((metaName) => {\n        defineMetaGetter(controller, metaName, suffix);\n    });\n    Object.defineProperty(controller, 'metas', {\n        get() {\n            const result = {};\n            metaNames === null || metaNames === void 0 ? void 0 : metaNames.forEach((metaName) => {\n                const value = typeCast(metaValue(metaName));\n                if (value !== undefined && value !== null) {\n                    result[camelize(metaName)] = value;\n                }\n            });\n            return result;\n        }\n    });\n};\n\nconst alpineNames = {\n    enterFromClass: 'enter',\n    enterActiveClass: 'enterStart',\n    enterToClass: 'enterEnd',\n    leaveFromClass: 'leave',\n    leaveActiveClass: 'leaveStart',\n    leaveToClass: 'leaveEnd'\n};\nconst defaultOptions$1 = {\n    transitioned: false,\n    hiddenClass: 'hidden',\n    preserveOriginalClass: true,\n    removeToClasses: true\n};\nconst useTransition = (composableController, options = {}) => {\n    var _a, _b, _c;\n    const controller = composableController;\n    const targetName = controller.element.dataset.transitionTarget;\n    let targetFromAttribute;\n    if (targetName) {\n        targetFromAttribute = controller[`${targetName}Target`];\n    }\n    const targetElement = (options === null || options === void 0 ? void 0 : options.element) || targetFromAttribute || controller.element;\n    if (!(targetElement instanceof HTMLElement || targetElement instanceof SVGElement))\n        return;\n    const dataset = targetElement.dataset;\n    const leaveAfter = parseInt(dataset.leaveAfter || '') || options.leaveAfter || 0;\n    const { transitioned, hiddenClass, preserveOriginalClass, removeToClasses } = Object.assign({}, defaultOptions$1, options);\n    const controllerEnter = (_a = controller.enter) === null || _a === void 0 ? void 0 : _a.bind(controller);\n    const controllerLeave = (_b = controller.leave) === null || _b === void 0 ? void 0 : _b.bind(controller);\n    const controllerToggleTransition = (_c = controller.toggleTransition) === null || _c === void 0 ? void 0 : _c.bind(controller);\n    async function enter(event) {\n        if (controller.transitioned)\n            return;\n        controller.transitioned = true;\n        controllerEnter && controllerEnter(event);\n        const enterFromClasses = getAttribute('enterFrom', options, dataset);\n        const enterActiveClasses = getAttribute('enterActive', options, dataset);\n        const enterToClasses = getAttribute('enterTo', options, dataset);\n        const leaveToClasses = getAttribute('leaveTo', options, dataset);\n        if (!!hiddenClass) {\n            targetElement.classList.remove(hiddenClass);\n        }\n        if (!removeToClasses) {\n            removeClasses(targetElement, leaveToClasses);\n        }\n        await transition(targetElement, enterFromClasses, enterActiveClasses, enterToClasses, hiddenClass, preserveOriginalClass, removeToClasses);\n        if (leaveAfter > 0) {\n            setTimeout(() => {\n                leave(event);\n            }, leaveAfter);\n        }\n    }\n    async function leave(event) {\n        if (!controller.transitioned)\n            return;\n        controller.transitioned = false;\n        controllerLeave && controllerLeave(event);\n        const leaveFromClasses = getAttribute('leaveFrom', options, dataset);\n        const leaveActiveClasses = getAttribute('leaveActive', options, dataset);\n        const leaveToClasses = getAttribute('leaveTo', options, dataset);\n        const enterToClasses = getAttribute('enterTo', options, dataset);\n        if (!removeToClasses) {\n            removeClasses(targetElement, enterToClasses);\n        }\n        await transition(targetElement, leaveFromClasses, leaveActiveClasses, leaveToClasses, hiddenClass, preserveOriginalClass, removeToClasses);\n        if (!!hiddenClass) {\n            targetElement.classList.add(hiddenClass);\n        }\n    }\n    function toggleTransition(event) {\n        controllerToggleTransition && controllerToggleTransition(event);\n        if (controller.transitioned) {\n            leave();\n        }\n        else {\n            enter();\n        }\n    }\n    async function transition(element, initialClasses, activeClasses, endClasses, hiddenClass, preserveOriginalClass, removeEndClasses) {\n        const stashedClasses = [];\n        if (preserveOriginalClass) {\n            initialClasses.forEach(cls => element.classList.contains(cls) && cls !== hiddenClass && stashedClasses.push(cls));\n            activeClasses.forEach(cls => element.classList.contains(cls) && cls !== hiddenClass && stashedClasses.push(cls));\n            endClasses.forEach(cls => element.classList.contains(cls) && cls !== hiddenClass && stashedClasses.push(cls));\n        }\n        addClasses(element, initialClasses);\n        removeClasses(element, stashedClasses);\n        addClasses(element, activeClasses);\n        await nextAnimationFrame();\n        removeClasses(element, initialClasses);\n        addClasses(element, endClasses);\n        await afterTransition(element);\n        removeClasses(element, activeClasses);\n        if (removeEndClasses) {\n            removeClasses(element, endClasses);\n        }\n        addClasses(element, stashedClasses);\n    }\n    function initialState() {\n        controller.transitioned = transitioned;\n        if (transitioned) {\n            if (!!hiddenClass) {\n                targetElement.classList.remove(hiddenClass);\n            }\n            enter();\n        }\n        else {\n            if (!!hiddenClass) {\n                targetElement.classList.add(hiddenClass);\n            }\n            leave();\n        }\n    }\n    function addClasses(element, classes) {\n        if (classes.length > 0) {\n            element.classList.add(...classes);\n        }\n    }\n    function removeClasses(element, classes) {\n        if (classes.length > 0) {\n            element.classList.remove(...classes);\n        }\n    }\n    initialState();\n    Object.assign(controller, { enter, leave, toggleTransition });\n    return [enter, leave, toggleTransition];\n};\nfunction getAttribute(name, options, dataset) {\n    const datasetName = `transition${name[0].toUpperCase()}${name.substr(1)}`;\n    const datasetAlpineName = alpineNames[name];\n    const classes = options[name] || dataset[datasetName] || dataset[datasetAlpineName] || ' ';\n    return isEmpty(classes) ? [] : classes.split(' ');\n}\nasync function afterTransition(element) {\n    return new Promise(resolve => {\n        const duration = Number(getComputedStyle(element).transitionDuration.split(',')[0].replace('s', '')) * 1000;\n        setTimeout(() => {\n            resolve(duration);\n        }, duration);\n    });\n}\nasync function nextAnimationFrame() {\n    return new Promise(resolve => {\n        requestAnimationFrame(() => {\n            requestAnimationFrame(resolve);\n        });\n    });\n}\nfunction isEmpty(str) {\n    return str.length === 0 || !str.trim();\n}\n\nclass TransitionComposableController extends Controller {\n    constructor() {\n        super(...arguments);\n        this.transitioned = false;\n    }\n}\nclass TransitionController extends TransitionComposableController {\n    constructor(context) {\n        super(context);\n        requestAnimationFrame(() => {\n            useTransition(this, this.options);\n        });\n    }\n}\n\nclass UseHotkeys extends StimulusUse {\n    constructor(controller, hotkeysOptions) {\n        super(controller, hotkeysOptions);\n        this.bind = () => {\n            for (const [hotkey, definition] of Object.entries(this.hotkeysOptions.hotkeys)) {\n                const handler = definition.handler.bind(this.controller);\n                hotkeys(hotkey, definition.options, (e) => handler(e, e));\n            }\n        };\n        this.unbind = () => {\n            for (const hotkey in this.hotkeysOptions.hotkeys) {\n                hotkeys.unbind(hotkey);\n            }\n        };\n        this.controller = controller;\n        this.hotkeysOptions = hotkeysOptions;\n        this.enhanceController();\n        this.bind();\n    }\n    enhanceController() {\n        if (this.hotkeysOptions.filter) {\n            hotkeys.filter = this.hotkeysOptions.filter;\n        }\n        const controllerDisconnect = this.controller.disconnect.bind(this.controller);\n        const disconnect = () => {\n            this.unbind();\n            controllerDisconnect();\n        };\n        Object.assign(this.controller, { disconnect });\n    }\n}\nconst convertSimpleHotkeyDefinition = (definition) => {\n    return {\n        handler: definition[0],\n        options: {\n            element: definition[1]\n        }\n    };\n};\nconst coerceOptions = (options) => {\n    if (!options.hotkeys) {\n        const hotkeys = {};\n        Object.entries(options).forEach(([hotkey, definition]) => {\n            Object.defineProperty(hotkeys, hotkey, {\n                value: convertSimpleHotkeyDefinition(definition),\n                writable: false,\n                enumerable: true\n            });\n        });\n        options = {\n            hotkeys\n        };\n    }\n    return options;\n};\nconst useHotkeys = (controller, options) => {\n    return new UseHotkeys(controller, coerceOptions(options));\n};\n\nconst defaultOptions = {\n    mediaQueries: {},\n    dispatchEvent: true,\n    eventPrefix: true,\n    debug: false\n};\nclass UseMatchMedia extends StimulusUse {\n    constructor(controller, options = {}) {\n        var _a, _b, _c, _d;\n        super(controller, options);\n        this.matches = [];\n        this.callback = (event) => {\n            const name = Object.keys(this.mediaQueries).find(name => this.mediaQueries[name] === event.media);\n            if (!name)\n                return;\n            const { media, matches } = event;\n            this.changed({ name, media, matches, event });\n        };\n        this.changed = (payload) => {\n            const { name } = payload;\n            if (payload.event) {\n                this.call(camelize(`${name}_changed`), payload);\n                this.dispatch(`${name}:changed`, payload);\n                this.log(`media query \"${name}\" changed`, payload);\n            }\n            if (payload.matches) {\n                this.call(camelize(`is_${name}`), payload);\n                this.dispatch(`is:${name}`, payload);\n            }\n            else {\n                this.call(camelize(`not_${name}`), payload);\n                this.dispatch(`not:${name}`, payload);\n            }\n        };\n        this.observe = () => {\n            Object.keys(this.mediaQueries).forEach(name => {\n                const media = this.mediaQueries[name];\n                const match = window.matchMedia(media);\n                match.addListener(this.callback);\n                this.matches.push(match);\n                this.changed({ name, media, matches: match.matches });\n            });\n        };\n        this.unobserve = () => {\n            this.matches.forEach(match => match.removeListener(this.callback));\n        };\n        this.controller = controller;\n        this.mediaQueries = (_a = options.mediaQueries) !== null && _a !== void 0 ? _a : defaultOptions.mediaQueries;\n        this.dispatchEvent = (_b = options.dispatchEvent) !== null && _b !== void 0 ? _b : defaultOptions.dispatchEvent;\n        this.eventPrefix = (_c = options.eventPrefix) !== null && _c !== void 0 ? _c : defaultOptions.eventPrefix;\n        this.debug = (_d = options.debug) !== null && _d !== void 0 ? _d : defaultOptions.debug;\n        if (!window.matchMedia) {\n            console.error('window.matchMedia() is not available');\n            return;\n        }\n        this.enhanceController();\n        this.observe();\n    }\n    enhanceController() {\n        const controllerDisconnect = this.controller.disconnect.bind(this.controller);\n        const disconnect = () => {\n            this.unobserve();\n            controllerDisconnect();\n        };\n        Object.assign(this.controller, { disconnect });\n    }\n}\nconst useMatchMedia = (controller, options = {}) => {\n    const observer = new UseMatchMedia(controller, options);\n    return [observer.observe, observer.unobserve];\n};\n\nclass UseWindowFocus extends StimulusUse {\n    constructor(controller, options = {}) {\n        super(controller, options);\n        this.observe = () => {\n            if (document.hasFocus()) {\n                this.becomesFocused();\n            }\n            else {\n                this.becomesUnfocused();\n            }\n            this.interval = setInterval(() => {\n                this.handleWindowFocusChange();\n            }, this.intervalDuration);\n        };\n        this.unobserve = () => {\n            clearInterval(this.interval);\n        };\n        this.becomesUnfocused = (event) => {\n            this.controller.hasFocus = false;\n            this.call('unfocus', event);\n            this.log('unfocus', { hasFocus: false });\n            this.dispatch('unfocus', { event, hasFocus: false });\n        };\n        this.becomesFocused = (event) => {\n            this.controller.hasFocus = true;\n            this.call('focus', event);\n            this.log('focus', { hasFocus: true });\n            this.dispatch('focus', { event, hasFocus: true });\n        };\n        this.handleWindowFocusChange = (event) => {\n            if (document.hasFocus() && !this.controller.hasFocus) {\n                this.becomesFocused(event);\n            }\n            else if (!document.hasFocus() && this.controller.hasFocus) {\n                this.becomesUnfocused(event);\n            }\n        };\n        this.controller = controller;\n        this.intervalDuration = options.interval || 200;\n        this.enhanceController();\n        this.observe();\n    }\n    enhanceController() {\n        const controllerDisconnect = this.controllerDisconnect;\n        const disconnect = () => {\n            this.unobserve();\n            controllerDisconnect();\n        };\n        Object.assign(this.controller, { disconnect });\n    }\n}\nconst useWindowFocus = (composableController, options = {}) => {\n    const controller = composableController;\n    const observer = new UseWindowFocus(controller, options);\n    return [observer.observe, observer.unobserve];\n};\n\nclass WindowFocusComposableController extends Controller {\n    constructor() {\n        super(...arguments);\n        this.hasFocus = false;\n    }\n}\nclass WindowFocusController extends WindowFocusComposableController {\n    constructor(context) {\n        super(context);\n        requestAnimationFrame(() => {\n            const [observe, unobserve] = useWindowFocus(this, this.options);\n            Object.assign(this, { observe, unobserve });\n        });\n    }\n}\n\nexport { ApplicationController, ClickOutsideController, HoverController, IdleController, IntersectionController, LazyLoadController, MutationController, ResizeController, TargetMutationController, TransitionController, UseHover, UseMutation, UseTargetMutation, UseVisibility, VisibilityController, WindowFocusController, WindowResizeController, useApplication, useClickOutside, useDebounce, useDispatch, useHotkeys, useHover, useIdle, useIntersection, useLazyLoad, useMatchMedia, useMemo, useMeta, useMutation, useResize, useTargetMutation, useThrottle, useTransition, useVisibility, useWindowFocus, useWindowResize };\n", "import { Controller as e } from \"@hotwired/stimulus\";\nimport { useTransition as t } from \"stimulus-use\";\nclass i extends e {\n  initialize() {\n    this.hide = this.hide.bind(this);\n  }\n  connect() {\n    t(this), this.hiddenValue === !1 && this.show();\n  }\n  show() {\n    this.enter(), this.timeout = setTimeout(this.hide, this.delayValue);\n  }\n  async hide() {\n    this.timeout && clearTimeout(this.timeout), await this.leave(), this.element.remove();\n  }\n}\ni.values = {\n  delay: {\n    type: Number,\n    default: 3e3\n  },\n  hidden: {\n    type: Boolean,\n    default: !1\n  }\n};\nexport {\n  i as default\n};\n", "import Notification from 'stimulus-notification'\n\n// Connects to data-controller=\"notification\"\nexport default class extends Notification {\n  connect() {\n    super.connect()\n  }\n}\n", "import { Controller } from \"@hotwired/stimulus\";\n\nexport default class extends Controller {\n  static targets = [\"category\", \"portifolio\"];\n\n  connect() {\n    console.log(\"PortifolioCategory controller connected\");\n  }\n\n  categoryClick(e) {\n    const category = e.target.dataset.category;\n    this.filterPortifolios(category);\n  }\n\n  filterPortifolios(category) {\n    setTimeout(() => {\n      const portifolioElements = this.portifolioTargets;\n      console.log(\"cards dos portifolios\", portifolioElements);\n  \n      if (!portifolioElements) {\n        console.log(\"Os elementos alvos 'portifolio' n\u00E3o foram encontrados.\");\n        return;\n      }\n  \n      portifolioElements.forEach((element) => {\n        if (category === \"Todos\" || element.dataset.category === category) {\n          element.classList.remove(\"hidden\");\n        } else {\n          element.classList.add(\"hidden\");\n        }\n      });\n    });\n  }\n}\n", "import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n  static targets = [\"section\"]\n\n  connect() {\n    this.addActiveClass();\n    window.addEventListener('scroll', () => this.addActiveClass());\n  }\n\n  disconnect() {\n    window.removeEventListener('scroll', () => this.addActiveClass());\n  }\n\n  addActiveClass() {\n    this.sectionTargets.forEach(section => {\n      if (this.isElementInViewport(section)) {\n        section.classList.add('active');\n      }\n      //  else {\n      //   section.classList.remove('active');\n      // }\n    });\n  }\n\n  isElementInViewport(el) {\n    const rect = el.getBoundingClientRect();\n    const windowHeight = (window.innerHeight || document.documentElement.clientHeight);\n    const visibleHeight = Math.min(windowHeight, rect.bottom) - Math.max(0, rect.top);\n    const visiblePercentage = (visibleHeight / el.offsetHeight) * 100;\n    return visiblePercentage >= 10;\n  }\n}", "import { Controller } from \"@hotwired/stimulus\";\n\nexport default class extends Controller {\n  static targets = [ \"category\", \"service\" ];\n\n  connect() {\n    console.log(\"ServiceCategory controller connected\");\n  }\n\n  categoryClick(e) {\n    console.log(\"Category clicked\", e.target.dataset.categoryId);\n    this.filterServices(e.target.dataset.categoryId);\n  }\n\n  filterServices(categoryId) {\n    const url = `/home/category_services?category_id=${categoryId}`;\n    fetch(url)\n     .then((response) => response.text())\n     .then((html) => {\n        const serviceCardsContainer = document.querySelector('.service-cards-container');\n        serviceCardsContainer.innerHTML = html;\n      });\n  }\n}", "import Carousel from 'stimulus-carousel'\n\n// Connects to data-controller=\"slide_banner\"\nexport default class extends Carousel {\n  connect() {\n    super.connect()\n\n    // The swiper instance.\n    this.swiper\n\n    // Default options for every carousels.\n    this.defaultOptions\n  }\n\n  // You can set default options in this getter.\n  get defaultOptions() {\n    return {\n      // Your default options here\n      \"navigation\": {\n        \"nextEl\": \".swiper-button-next\",\n        \"prevEl\": \".swiper-button-prev\"\n      },\n      \"pagination\": {\n        \"el\": \".swiper-pagination\",\n        \"clickable\": true,\n      },\n      speed: 1000,\n      loop: true,\n      keyboard: true,\n      autoplay: {\n        delay: 6000, // Defina o intervalo de tempo em milissegundos entre os slides\n        disableOnInteraction: false, // Permite que o autoplay continue mesmo quando o usu\u00E1rio interage com o Swiper\n      }\n    }\n  }\n}\n\n", "import Carousel from 'stimulus-carousel'\n\n// Connects to data-controller=\"slider\"\nexport default class extends Carousel {\n  connect() {\n    super.connect()\n\n    // The swiper instance.\n    this.swiper\n\n    // Default options for every carousels.\n    this.defaultOptions\n  }\n\n  // You can set default options in this getter.\n  get defaultOptions() {\n    return {\n      centeredSlides: true,\n      slidesPerView: 1,\n      grabCursor: true,\n      freeMode: false,\n      loop: true,\n      mousewheel: false,\n      speed: 1000,\n      keyboard: {\n        enabled: true\n      },\n\n      // Enabled autoplay mode\n      autoplay: {\n        delay: 4000,\n        disableOnInteraction: false\n      },\n\n      // If we need pagination\n      pagination: {\n        el: \".swiper-pagination\",\n        dynamicBullets: false,\n        clickable: true\n      },\n\n      // If we need navigation\n      navigation: {\n        nextEl: \".swiper-button-next\",\n        prevEl: \".swiper-button-prev\"\n      },\n\n      // Responsive breakpoints\n      breakpoints: {\n        640: {\n          slidesPerView: 1.25,\n          spaceBetween: 20\n        },\n        1024: {\n          slidesPerView: 3,\n          spaceBetween: 20\n        }\n      }\n    }\n  }\n}\n", "import Carousel from 'stimulus-carousel'\n\n// Connects to data-controller=\"slider\"\nexport default class extends Carousel {\n  connect() {\n    super.connect()\n\n    // The swiper instance.\n    this.swiper\n\n    // Default options for every carousels.\n    this.defaultOptions\n  }\n\n  // You can set default options in this getter.\n  get defaultOptions() {\n    return {\n      slidesPerView: 2,\n      spaceBetween: 4,\n      keyboard: true,\n      centeredSlides: true,\n      loop: true,\n      speed: 1000,\n      autoplay: {\n        delay: 3000,\n        disableOnInteraction: false,\n      },\n      breakpoints: {\n        1024: {\n          slidesPerView: 5,\n        },\n        990: {\n          slidesPerView: 4,\n        },\n        790: {\n          slidesPerView: 3,\n        },\n        470: {\n          slidesPerView: 2,\n        }\n      }\n    }\n  }\n}\n", "import Carousel from 'stimulus-carousel'\n\n// Connects to data-controller=\"slide_service\"\nexport default class extends Carousel {\n  connect() {\n    super.connect()\n\n    // The swiper instance.\n    this.swiper\n\n    // Default options for every carousels.\n    this.defaultOptions\n  }\n\n  // You can set default options in this getter.\n  get defaultOptions() {\n    return {\n      // Your default options here\n      \"navigation\": {\n        \"nextEl\": \".swiper-button-next\",\n        \"prevEl\": \".swiper-button-prev\"\n      },\n      slidesPerView: 1,\n      spaceBetween: 30,\n      speed: 1000,\n      loop: true,\n      keyboard: true,\n      centeredSlides: true,\n      autoplay: {\n        delay: 5000, // Defina o intervalo de tempo em milissegundos entre os slides\n        disableOnInteraction: false, // Permite que o autoplay continue mesmo quando o usu\u00E1rio interage com o Swiper\n      },\n      pagination: {\n        el: \".swiper-pagination\",\n        dynamicBullets: false,\n        clickable: true\n      }\n    }\n  }\n}", "import Carousel from 'stimulus-carousel'\n\n// Connects to data-controller=\"slide_testimony\"\nexport default class extends Carousel {\n  connect() {\n    super.connect()\n\n    // The swiper instance.\n    this.swiper\n\n    // Default options for every carousels.\n    this.defaultOptions\n  }\n\n  // You can set default options in this getter.\n  get defaultOptions() {\n    return {\n      // Your default options here\n      // \"navigation\": {\n      //   \"nextEl\": \".swiper-button-next\",\n      //   \"prevEl\": \".swiper-button-prev\"\n      // },\n      \"pagination\": {\n        \"el\": \".swiper-pagination\",\n        \"clickable\": true,\n      },\n      slidesPerView: 1,\n      speed: 1000,\n      loop: true,\n      keyboard: true,\n      spaceBetween: 50,\n      centeredSlides: true,\n      autoplay: {\n        delay: 5000, // Defina o intervalo de tempo em milissegundos entre os slides\n        disableOnInteraction: false, // Permite que o autoplay continue mesmo quando o usu\u00E1rio interage com o Swiper\n      }\n    }\n  }\n}\n\n", "import { Controller } from \"@hotwired/stimulus\"\nimport IframeLightbox from '@stimulus-components/lightbox'\n\nexport default class extends Controller {\n  static targets = ['lightbox']\n\n  connect() {\n    this.lightbox = IframeLightbox.attach(this.lightboxTarget)\n    \n  }\n\n  openLightbox() {\n    this.lightboxTarget.classList.remove('hidden')\n    this.lightboxTarget.classList.add('flex')\n    this.lightbox.open()\n  }\n  \n  closeLightbox() {\n    this.lightboxTarget.classList.remove('flex')\n    this.lightboxTarget.classList.add('hidden')\n    this.lightbox.close()\n  }\n}", "var dropzone = new Dropzone(\"form.dropzone\", {\n  dictDefaultMessage: \"Arraste suas fotos aqui!\"\n});\n\n"],
  "mappings": "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",
  "names": ["consumer", "error", "event", "consumer", "s", "consumer", "s", "subscription", "HTMLElement", "event", "FrameLoadingStyle", "location", "html", "i", "FetchMethod", "error", "FormSubmissionState", "FormEnctype", "cookie", "index", "TimingMetric", "VisitState", "SystemStatusCode", "session", "visit", "PageStage", "element", "document", "createConsumer", "event", "event", "event", "application", "error", "index", "filter", "fetch", "match", "oldValue", "index", "error", "constructor", "extend", "application", "element", "filter", "event", "CustomEvent", "event", "lgQuery", "s", "attr", "index", "events", "html", "i", "transform", "LightGallery", "uuid", "addClasses", "$img", "error", "now", "mousedown", "_Lightbox", "_AnimatedNumber", "_Dialog", "event", "event", "extend", "CustomEvent", "i", "i", "window", "document", "html", "attr", "transform", "i", "parents", "events", "event", "window", "events", "i", "event", "styles", "styles", "window", "document", "window", "i", "index", "html", "text", "document", "document", "i", "next", "prev", "parents", "i", "parent", "closest", "children", "eventHandler", "i", "now", "getComputedStyle", "window", "isObject", "extend", "i", "window", "document", "support", "window", "window", "on", "window", "on", "window", "observerUpdate", "i", "events", "self", "event", "index", "eventHandler", "index", "i", "i", "index", "i", "i", "i", "i", "minTranslate", "maxTranslate", "transitionEnd", "transitionEnd", "transitionEnd", "index", "i", "transitionEnd", "index", "index", "document", "i", "index", "event", "document", "window", "now", "event", "document", "now", "event", "now", "i", "increment", "document", "support", "extend", "window", "i", "support", "window", "i", "extend", "extend", "now", "i", "setTranslate", "document", "modules", "on", "index", "offset", "i", "appendSlide", "prependSlide", "cache", "removeSlide", "removeAllSlides", "on", "document", "window", "event", "i", "on", "window", "now", "event", "events", "document", "on", "on", "i", "onClick", "index", "on", "document", "setTranslate", "setTransition", "updateSize", "events", "support", "on", "setTranslate", "setTransition", "on", "window", "support", "onTouchStart", "onTouchMove", "onTouchEnd", "on", "index", "i", "window", "Controller", "on", "interpolate", "setTranslate", "Swiper", "i", "setTransition", "on", "index", "History", "on", "text", "window", "location", "index", "i", "on", "document", "window", "i", "index", "on", "start", "event", "document", "on", "isObject", "i", "onTouchStart", "onTouchMove", "now", "onTouchEnd", "i", "i", "i", "index", "i", "i", "i", "on", "setTranslate", "setTransition", "i", "on", "setTranslate", "i", "offset", "setTransition", "on", "setTranslate", "browser", "i", "transform", "offset", "setTransition", "on", "setTranslate", "i", "offset", "transform", "setTransition", "on", "setTranslate", "transform", "i", "setTransition", "on", "setTranslate", "i", "offset", "index", "transform", "setTransition", "on", "setTranslate", "i", "offset", "transform", "setTransition", "Controller", "History", "event", "items", "event", "i", "index", "code", "getKey", "getModifier", "filter", "eachUnbind", "dispatch", "keyup", "keydown", "trigger", "shortcut", "event", "getAttribute", "removeClasses", "transition", "hiddenClass", "preserveOriginalClass", "addClasses", "nextAnimationFrame", "html", "LoadingController"]
}
