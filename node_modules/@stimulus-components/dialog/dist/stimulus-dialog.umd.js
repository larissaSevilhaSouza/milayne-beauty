(function(global,factory){typeof exports=="object"&&typeof module<"u"?module.exports=factory(require("@hotwired/stimulus")):typeof define=="function"&&define.amd?define(["@hotwired/stimulus"],factory):(global=typeof globalThis<"u"?globalThis:global||self,global.StimulusDialog=factory(global.Stimulus))})(this,function(stimulus){"use strict";const _Dialog=class _Dialog extends stimulus.Controller{initialize(){this.forceClose=this.forceClose.bind(this)}connect(){this.openValue&&this.open(),document.addEventListener("turbo:before-render",this.forceClose)}disconnect(){document.removeEventListener("turbo:before-render",this.forceClose)}open(){this.dialogTarget.showModal()}close(){this.dialogTarget.setAttribute("closing",""),Promise.all(this.dialogTarget.getAnimations().map(animation=>animation.finished)).then(()=>{this.dialogTarget.removeAttribute("closing"),this.dialogTarget.close()})}backdropClose(event){event.target===this.dialogTarget&&this.close()}forceClose(){this.dialogTarget.close()}};_Dialog.targets=["dialog"],_Dialog.values={open:{type:Boolean,default:!1}};let Dialog=_Dialog;return Dialog});
